{"version":3,"sources":["helpers/CryptoHelper.js","serviceWorker.js","connectors.ts","hooks.ts","config/index.js","helpers/EPNSCoreHelper.js","components/NotificationToast.js","api/index.js","components/AliasVerificationModal.js","components/ViewInfoItem.js","segments/Info.tsx","redux/slices/spamSlice.js","components/DisplayNotice.js","redux/slices/notificationSlice.js","segments/spam.tsx","segments/Feedbox.tsx","assets/Device.js","singletons/ChannelsDataStore.js","redux/slices/channelSlice.js","components/ViewChannelItem.js","components/Faucets.js","segments/ViewChannels.tsx","assets/icons/index.js","components/SendNotifications.tsx","components/AddDelegateModal.js","components/RemoveDelegateModal.js","components/ActivateChannelModal.js","redux/slices/adminSlice.js","components/ChannelSettingsDropdown.tsx","components/ChannelSettings.jsx","components/ChannelDetails.js","segments/ChannelOwnerDashboard.js","segments/ChannelCreationDashboard.js","singletons/UsersDataStore.js","redux/slices/contractSlice.js","pages/Home.js","components/BlockiesIdenticon.js","components/Profile.tsx","components/Bell.js","segments/Header.tsx","App.tsx","redux/store.js","index.js","../../contracts/src/config.js","../../contracts/src/addresses.js","../../contracts/src/index.js","components/CreateChannel.js","components/blockies.js","components/SharedStyling.js"],"names":["CryptoJS","require","CryptoHelper","encryptWithAES","message","key","AES","encrypt","toString","decryptWithAES","decrypt","enc","Utf8","encryptWithECIES","publicKey","a","compressedKey","EthCrypto","compress","this","encryptWithPublicKey","encryptedSecret","decryptWithECIES","privateKey","decryptWithPrivateKey","pubKeyUint8Array","Uint8Array","from","Buffer","convertedKeyAsUint8Array","publicKeyConvert","convertedPublicKeyHex","pubKey","then","encryptedBuffers","cipher","iv","ephemPublicKey","ciphertext","mac","input","keyConvert","concat","buf","encrypted","length","keyConvertBuffer","uncompressedKey","twoStripped","substring","encryptedBuffer","decryptedBuffer","encryptionDecryptionPublicToPrivateTest","startTime","Date","console","log","publicKeyByPrivateKey","msg","encryptionTime","getTime","decryptMsg","decryptionTime","outputMsgPayload","secret","subject","calltoaction","imageurl","pkey","secretEncrypted","asubE","amsgE","actaE","aimgE","makeid","result","toISOString","characters","charactersLength","i","charAt","Math","floor","random","Boolean","window","location","hostname","match","config","SUPPORTED_CHAIN_IDS","envConfig","allowedNetworks","CORE_CHAIN_ID","coreContractChain","CORE_RPC","coreRPC","RPC_URLS","injected","InjectedConnector","supportedChainIds","walletconnect","WalletConnectConnector","rpc","bridge","qrcode","pollingInterval","ledger","LedgerConnector","chainId","url","portis","TrezorConnector","manifestEmail","manifestAppUrl","PortisConnector","dAppId","networks","dotenv","etherscanToken","process","EPNSCoreHelper","getOwnerInfo","contract","Promise","resolve","reject","governance","response","catch","err","getUserInfo","user","users","mappings","addr","getChannelAddressFromID","channelID","channelById","getChannelInfo","channel","channels","getChannelEvent","startBlock","updateBlock","filter","filters","AddChannel","block","UpdateChannel","queryFilter","filteredResponse","forEach","item","args","ethers","utils","toUtf8String","identity","getJsonFileFromIdentity","ids","split","fetch","json","getChannelJsonFromChannelAddress","channelStartBlock","toNumber","channelUpdateBlock","hash","getChannelJsonFromUserAddress","getTotalNumberOfChannels","channelsCount","getChannelsMetaLatestToOldest","atIndex","numChannels","channelsInfo","channelArrays","assignedChannelID","push","promises","map","all","getTotalNumberOfUsers","usersCount","getPublicKey","address","getSubscribedStatus","isUserSubscribed","getTotalSubscribedChannels","subscribedCount","getFairShareOfUserAtBlock","userActivated","calcAllChannelsRatio","getPoolFunds","poolFunds","formatBigNumberToMetric","bignumber","convertToCurrency","div","metricFormatter","e","num","digits","si","value","symbol","toFixed","replace","NotificationWrapper","styled","Toaster","NotificationToast","notification","clearToast","LoaderToast","color","notificationTitle","notificationBody","toast","dark","onClick","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","BASE_URL","apiUrl","postReq","path","obj","axios","post","headers","AliasVerificationModal","onClose","onSuccess","verificationStatus","aliasEthAccount","useWeb3React","account","active","error","library","signer","getSigner","modalRef","useRef","polygonCommsContract","Contract","addresses","epnsPolyComm","abis","epnsComm","useState","mainAddress","loading","setLoading","useClickAway","checkAlias","submitAlias","setTimeout","verifyChannelAlias","tx","wait","intervalId","setInterval","aliasAddress","op","data","status","clearInterval","Overlay","AliasModal","ref","align","textTransform","spacing","weight","bg","padding","CustomInput","placeholder","radius","border","disabled","readOnly","margin","flex","self","type","height","width","StyledInput","cursor","size","Input","Container","ChannelTitleLink","AppLink","AppLinkText","ChannelInfo","ChannelTitle","ViewInfoItem","href","target","rel","ContainerInfo","InfoBox","Info","React","controlAt","initialState","page","notifications","finishedFetching","toggler","contractSlice","createSlice","name","reducers","toggleToggler","state","resetState","addPaginatedNotifications","action","payload","incrementPage","addNewNotification","setFinishedFetching","updateTopNotifications","notifs","slice","pageSize","sn","actions","Notice","span","props","theme","css","DisplayNotice","title","useEffect","animationIn","animationOut","durationOut","pp","CenteredContainerInfo","Items","SpamBox","currentTab","dispatch","useDispatch","epnsCommReadProvider","useSelector","contracts","spam","EPNS_DOMAIN","toggle","verifyingContract","bgUpdateLoading","setBgUpdateLoading","BLOCKCHAIN","loadNotifications","api","fetchSpamNotifications","count","results","parsedResponsePromise","parseApiResponse","elem","blockchain","subscribers","parsedResponse","fetchLatestNotifications","handlePagination","onSubscribeToChannel","channelAddress","notifChainId","Subscribe","channelAddressToSend","ethAddress","subscriber","_signTypedData","signature","contractAddress","isSubscribedFn","toLowerCase","includes","style","marginTop","id","oneNotification","index","cta","app","icon","image","Number","showWayPoint","onEnter","subscribeFn","stopPropagation","isSpam","chainName","ControlButtonBack","ControlButton","ControlImage","img","FullWidth","Wrapper","Feedbox","setCurrentTab","fetchNotifications","setClicked","marginLeft","src","Device","mobileS","mobileM","mobileL","tablet","laptop","laptopL","desktop","desktopL","ChannelEvents","ChannelsDataStore","channelsMeta","channelsJson","callbacks","epnsReadProvider","init","resetChannelsListeners","initChannelsListenersAsync","getChannelsCountAsync","removeAllListeners","listenForAddChannelAnyAsync","listenForAddChannelSelfAsync","listenForUpdateChannelAnyAsync","listenForUpdateChannelSelfAsync","listenForSubscribeAnyAsync","listenForSubscribeSelfAsync","listenForUnsubscribeAnyAsync","listenForUnsubscribeSelfAsync","on","ipfs","incrementChannelsCountAsync","Object","entries","callback","Unsubscribe","addCallbacks","callbackType","callbackID","removeCallbacks","incrementCount","getChannelFromApi","startIndex","pageCount","ceil","channelsDetail","memberCount","isSubscriber","getChannelsMetaAsync","stopIndex","channelIDs","getChannelMetaAsync","channelMetaData","getChannelMetaViaAddressAsync","optInCache","userAddress","cachedSubscribers","optOutCache","sub","getChannelSubscribers","subs","getChannelJsonAsync","instance","CHANNNEL_DEACTIVATED_STATE","CHANNEL_BLOCKED_STATE","CHANNEL_ACTIVE_STATE","CHANNEL_BLACKLIST","channelsCache","setChannelMeta","cacheChannelInfo","meta","subscribeChannel","channelIndex","find","unsubscribeChannel","FlexBox","ColumnFlex","SkeletonWrapper","atW","atH","borderRadius","marginBottom","marginRight","ChannelLogo","ChannelLogoOuter","ChannelLogoInner","ChannelLogoImg","VerifiedBy","VerifierIcon","VerifierName","ChannelDesc","ChannelDescLabel","label","ChannelMeta","ChannelMetaBox","Subscribers","SubscribersCount","LineBreak","ChannelActions","ChannelActionButton","button","ActionTitle","hideit","ActionLoader","SkeletonButton","SubscribeButton","UnsubscribeButton","OwnerButton","ToasterMsg","ViewChannelItem","channelObjectProp","epnsWriteProvider","pushAdminAddress","ZERO_ADDRESS","canVerify","admin","isOwner","channelObject","setChannelObject","channelJson","setChannelJson","subscribed","setSubscribed","setMemberCount","isPushAdmin","setIsPushAdmin","isVerified","setIsVerified","isBlocked","setIsBlocked","vLoading","setvLoading","bLoading","setBLoading","txInProgress","setTxInProgress","canUnverify","setCanUnverify","verifierDetails","setVerifierDetails","copyText","setCopyText","isChannelBlacklisted","showToast","verifiedBy","fetchChannelJson","alert","channelState","addressText","subscribe","subscribeAction","notificationToast","toaster","txToast","res","update","render","TYPE","SUCCESS","ERROR","unsubscribeAction","unsubscriber","finally","display","info","toLocaleString","navigator","clipboard","writeText","el","document","createElement","body","appendChild","select","execCommand","removeChild","copyToClipboard","onMouseEnter","onMouseLeave","blockChannel","INFO","verifyChannel","unverifyChannel","Faucets","overflow","pos","top","right","direction","textAlign","ADDRESS_REGEX","Header","InputWrapper","SearchBar","CenterContainer","SearchIconImage","ViewChannels","moreLoading","setMoreLoading","search","setSearch","channelToShow","setChannelToShow","loadingChannel","setLoadingChannel","trialCount","setTrialCount","channelsVisited","isMainnet","fetchInitialsChannelMeta","parsedChannel","String","queryString","parse","test","updateCurrentPage","loadMoreChannelMeta","newPageNumber","startingPoint","moreChannels","searchForChannel","query","t","timeout","clearTimeout","minHeight","onChange","className","alt","CloseIcon","xmlns","viewBox","data-name","transform","x2","fill","stroke","stroke-linecap","stroke-width","y2","NFTypes","LIMITER_KEYS","DropdownStyledParent","MultiRecipientsContainer","ModifiedContent","Content","DropdownHeader","DropdownStyled","Dropdown","DropdownStyledWhite","DropdownStyledParentWhite","CustomDropdownItem","SendNotifications","epnsCommWriteProvider","channelDetails","delegatees","nfProcessing","setNFProcessing","setChannelAddress","nfRecipient","setNFRecipient","multipleRecipients","setMultipleRecipients","tempRecipeint","setTempRecipient","nfType","setNFType","nfSub","setNFSub","nfSubEnabled","setNFSubEnabled","nfMsg","setNFMsg","nfCTA","setNFCTA","nfCTAEnabled","setNFCTAEnabled","nfMedia","setNFMedia","nfMediaEnabled","setNFMediaEnabled","nfInfo","setNFInfo","delegateeOptions","setDelegateeOptions","isChannelDeactivated","cannotDisplayDelegatees","oneDelegatee","bodyValidated","validated","handleSendMessage","preventDefault","nsub","nmsg","asub","amsg","acta","aimg","k","publickey","storagePointer","isEmpty","jsonPayload","JSON","stringify","at","add","identityBytes","toUtf8Bytes","Data","recipient","deployedContract","field","trim","justify","onSubmit","minWidth","options","option","d","Switch","checked","required","z","oneRecipient","recipientAddress","filteredRecipients","rec","join","removeRecipient","onKeyPress","oldRecipients","Array","Set","listRecipients","text","borderBottom","rows","autocomplete","AddDelegateModal","addDelegate","mainAdress","setMainAddress","RemoveDelegateModal","removeDelegate","ActivateChannelModal","activateChannel","setChannelStakeFees","channelStakeFees","popupRef","PopupOverlay","PopupSlider","Slider","defaultValue","onChangeCommitted","_","aria-labelledby","valueLabelDisplay","step","marks","min","max","setUserChannelDetails","setCanVerify","setDelegatees","DropdownWrapper","ActiveChannelWrapper","inactive","DeactivateButton","ChannelSettings","onCoreNetwork","ALLOWED_CORE_NETWORK","showActivateChannelPopup","setShowActivateChannelPopup","poolContrib","setPoolContrib","addDelegateLoading","setAddDelegateLoading","addModalOpen","setAddModalOpen","removeDelegateLoading","setRemoveDelegateLoading","removeModalOpen","setRemoveModalOpen","isChannelBlocked","channelInactive","poolContribution","daiContract","dai","erc20","fees","parseUnits","sendTransactionPromise","approve","epnscore","waitForTransaction","reactivateChannel","deactivateChannel","amountToBeConverted","parseInt","pushValue","quote","PUSH","price","pow","walletAddress","setActive","SettingsWrapper","ChannelSettingsDropdown","Settings","ChannelDetails","verifyingChannel","setVerifyingChannel","creationDate","setCreationDate","setEthAliasAccount","aliasVerified","setAliasVerified","channelIsActive","channelIsDeactivated","bn","getBlock","date","moment","timestamp","format","aliasAccount","ChannelDetailsWrapper","SectionTop","ImageSection","Details","ChannelName","VerifyImage","ChanneStateText","SectionDes","fontSize","fontWeight","SectionDate","Verified","VerifyingIcon","VerifyingName","ChannelOwnerDashboard","CreateChannel","ChannelCreationDashboard","UsersDataStore","userMeta","ownerMeta","resetUsersListeners","initUsersListenersAsync","getOwnerMetaAsync","getUsersCountAsync","getUserMetaAsync","listenForSubscribedAsync","listenForUnsubscribedAsync","publicKeyRegistered","listenForPublicKeyBroadcastAsync","incrementUsersCountAsync","setCoreReadProvider","setCoreWriteProvider","setCommunicatorReadProvider","setCommunicatorWriteProvider","setPushAdmin","Controls","ControlText","ControlChannelContainer","ControlChannelImage","ControlChannelText","Interface","Home","ReactGA","pageview","setControlAt","modalOpen","setModalOpen","adminStatusLoaded","setAdminStatusLoaded","setAliasEthAccount","channelAdmin","setChannelAdmin","coreProvider","getDefaultProvider","etherscan","coreContractInstance","commAddress","epnsEthComm","commContractInstance","coreSignerInstance","communicatorSignerInstance","userClickedAt","pushChannelAdmin","checkUserForChannelOwnership","fetchDelegators","controlIndex","delegateAddress","delegators","channelOwners","channelInformationPromise","channelInformation","ownerAccount","getChannelVerfication","channelSubscribers","val","BlockiesIdenticon","seed","opts","bgcolor","scale","spotcolor","draw","prevProps","blockies","canvas","Component","Blocky","BlockyInner","Wallet","Profile","setAddress","ens","setENS","ensFetched","setENSFetched","lookupAddress","tadaaa","keyframes","BellImage","ringme","BellImageAbs","Badge","Bell","badgeCount","bellPressedCB","badge","setBadge","ring","setRing","setResetRinger","HeaderContainer","Section","Logo","PrimaryTheme","ThirdTheme","Connection","phase","context","deactivate","showLoginControls","setShowLoginControls","NoEthereumProviderError","UnsupportedChainIdError","UserRejectedRequestErrorInjected","getErrorMessage","web3Connectors","Injected","logo","WalletConnect","Ledger","Portis","App","connector","activate","activatingConnector","setActivatingConnector","triedEager","tried","setTried","isAuthorized","useEagerConnect","suppress","ethereum","handleConnect","handleChainChanged","handleAccountsChanged","accounts","handleNetworkChanged","networkId","removeListener","useInactiveListener","ParentContainer","HomeContainer","ProviderLogo","srcSet","maxWidth","keys","currentConnector","ProviderButton","ProviderImage","newestOnTop","rtl","pauseOnFocusLoss","header","ToastContainer","attrs","rootReducer","combineReducers","contractReducer","channelReducer","adminReducer","notificationReducer","spamReducer","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","immutableCheck","client","ApolloClient","uri","cache","InMemoryCache","ReactDOM","ApolloProvider","getLibrary","provider","gottenProvider","providers","Web3Provider","oldNetwork","reload","getElementById","serviceWorker","ready","registration","unregister","ceaErc20","aDai","staking","yieldFarmPUSH","yieldFarmLP","epnsToken","epnsLPToken","rockstar","batchMintNFT","NFTRewards","distributor","erc20Abi","ownable","ownableAbi","epnscoreAbi","epnsCommAbi","daiAbi","epnsTokenAbi","stakingAbi","yieldFarming","yieldFarmingAbi","rockstarAbi","erc721","ec721Abi","MerkleDistributorAbi","ALIAS_CHAINS","Step","activeBG","Line","h1","Minter","textarea","Pool","PoolShare","processing","setProcessing","processingInfo","setProcessingInfo","uploadDone","setUploadDone","stakeFeesChoosen","setStakeFeesChoosen","channelInfoDone","setChannelInfoDone","chainDetails","setChainDetails","channelName","setChannelName","channelAlias","setChannelAlias","channelInfo","setChannelInfo","channelURL","setChannelURL","channelFile","setChannelFile","daiAmountVal","setDaiAmountVal","stepFlow","setStepFlow","checkDaiAmount","allowance","convertedVal","formatEther","checkDaiFunc","handleLogoSizeLimitation","base64","sizeOf","base64Data","pop","dimensions","success","handleCreateChannel","chainDetailsSplit","chain_id","anotherSendTxPromise","createChannelWithFees","gasLimit","mintDai","amount","mintTransactionPromise","mint","onChangeStatus","file","files","allFiles","f","reader","FileReader","readAsDataURL","onloadend","onDrop","maxFiles","multiple","accept","maxlength","classNamePrefix","colors","primary25","primary","selectedOption","paddingLeft","randseed","rand","createColor","buildOpts","newOpts","charCodeAt","seedrand","renderIcon","imageData","dataWidth","mirrorWidth","y","row","x","r","reverse","createImageData","sqrt","cc","getContext","fillStyle","fillRect","col","create","module","exports","section","gradient","ItemBreak","Item","wrap","filterHover","hover","tabletAlign","tabletTextAlign","ItemH","H2","bottom","arcRGB","h2","family","H3","h3","P","p","Span","left","B","Anchor","ul","li","hoverBG","A","Button","FormSubmision","opacity","tabletRight","tabletLeft","tabletTop","tabletBottom","tabletTransform","tabletOpacity","form","outline","hand","TextField"],"mappings":"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","file":"static/js/main.4cb55bf1.chunk.js","sourcesContent":["import EthCrypto from 'eth-crypto';\r\nimport {encrypt, decrypt} from 'eccrypto';\r\nimport { publicKeyConvert, publicKeyVerify } from 'secp256k1-v4';\r\n\r\nvar CryptoJS = require(\"crypto-js\");\r\n\r\nconst CryptoHelper = {\r\n  // To Encrypt with AES\r\n  encryptWithAES: function(message, key) {\r\n    return CryptoJS.AES.encrypt(message, key).toString();\r\n  },\r\n  // To Decrypt with AES\r\n  decryptWithAES: function(message, key) {\r\n    let bytes  = CryptoJS.AES.decrypt(message, key);\r\n    return bytes.toString(CryptoJS.enc.Utf8);\r\n  },\r\n  // To Form Encryted Secret, no more than 15 characters supported\r\n  encryptWithECIES: async function(message, publicKey) {\r\n    const compressedKey = EthCrypto.publicKey.compress(publicKey);\r\n\r\n    const encryptedSecret = await this.encryptWithPublicKey(message, compressedKey);\r\n\r\n    // Not using it since sqlite2 has some error with this\r\n    // const compressedEncryptedSecret = EthCrypto.hex.compress(encryptedSecret);\r\n\r\n    return encryptedSecret;\r\n  },\r\n  // To Form Decrypted Secret, no more than 15 characters supported\r\n  decryptWithECIES: async function(message, privateKey) {\r\n    // Message is always compressed, not using because sqlite2 has some error with this\r\n    //const uncompressedMessage = EthCrypto.hex.decompress(message).substr(2); // to remove 0x\r\n\r\n    return await this.decryptWithPrivateKey(message, privateKey);\r\n  },\r\n  // Encryption with public key\r\n  encryptWithPublicKey: async function(message, publicKey) {\r\n    // Convert compressed public key, starts with 03 or 04\r\n    const pubKeyUint8Array = Uint8Array.from(\r\n      new Buffer(publicKey, 'hex')\r\n    );\r\n    //console.log(\"[ENCRYPTION] Public Key Uint8Array: \" + pubKeyUint8Array);\r\n\r\n    const convertedKeyAsUint8Array = publicKeyConvert(pubKeyUint8Array, false);\r\n    //console.log(\"[ENCRYPTION] Public Key Converted: \" + convertedKeyAsUint8Array);\r\n\r\n    const convertedPublicKeyHex = new Buffer(convertedKeyAsUint8Array);\r\n    //console.log(\"[ENCRYPTION] Converted Public Key Buffer: \" + convertedPublicKeyHex);\r\n\r\n    const pubKey = new Buffer(convertedPublicKeyHex, 'hex');\r\n    //console.log(\"[ENCRYPTION] pubkey getting sentout for encrypt: \" + pubKey);\r\n\r\n    return encrypt(\r\n        pubKey,\r\n        Buffer(message)\r\n    ).then(encryptedBuffers => {\r\n      const cipher = {\r\n          iv: encryptedBuffers.iv.toString('hex'),\r\n          ephemPublicKey: encryptedBuffers.ephemPublicKey.toString('hex'),\r\n          ciphertext: encryptedBuffers.ciphertext.toString('hex'),\r\n          mac: encryptedBuffers.mac.toString('hex')\r\n      };\r\n      // use compressed key because it's smaller\r\n      // const compressedKey = new Buffer.from(publicKeyConvert(Web3Helper.getUint8ArrayFromHexStr(cipher.ephemPublicKey), true)).toString('hex')\r\n      const input = Uint8Array.from(\r\n        new Buffer(cipher.ephemPublicKey, 'hex')\r\n      );\r\n      const keyConvert = publicKeyConvert(input, true)\r\n      // console.log(\"[ENCRYPTION] Coverted key: \" + keyConvert);\r\n\r\n      const keyConvertBuffer = new Buffer(keyConvert);\r\n      // console.log(\"[ENCRYPTION] Coverted key in buffer : \" + keyConvertBuffer);\r\n      // console.log(keyConvertBuffer);\r\n\r\n      //console.log(keyConvert);\r\n      const compressedKey = keyConvertBuffer.toString('hex')\r\n      // console.log(\"[ENCRYPTION] Compressed key in buffer : \");\r\n      // console.log(compressedKey);\r\n\r\n      const ret = Buffer.concat([\r\n        new Buffer(cipher.iv, 'hex'), // 16bit\r\n        new Buffer(compressedKey, 'hex'), // 33bit\r\n        new Buffer(cipher.mac, 'hex'), // 32bit\r\n        new Buffer(cipher.ciphertext, 'hex') // var bit\r\n      ]).toString('hex')\r\n\r\n      return ret\r\n    });\r\n  },\r\n  // Decryption with public key\r\n  decryptWithPrivateKey: async function(message, privateKey) {\r\n    let encrypted = message;\r\n    const buf = new Buffer(encrypted, 'hex');\r\n    // console.log(\"[DECRYPTION] Buffer Passed: \" + buf);\r\n\r\n    encrypted = {\r\n      iv: buf.toString('hex', 0, 16),\r\n      ephemPublicKey: buf.toString('hex', 16, 49),\r\n      mac: buf.toString('hex', 49, 81),\r\n      ciphertext: buf.toString('hex', 81, buf.length)\r\n    };\r\n    // decompress publicKey\r\n    // encrypted.ephemPublicKey = new Buffer.from(publicKeyConvert(Web3Helper.getUint8ArrayFromHexStr(encrypted.ephemPublicKey), true)).toString('hex')\r\n    const input = Uint8Array.from(new Buffer(encrypted.ephemPublicKey, 'hex'));\r\n    const keyConvert = publicKeyConvert(input, false)\r\n    // console.log(\"[DECRYPTION] Coverted key: \" + keyConvert);\r\n\r\n    const keyConvertBuffer = new Buffer(keyConvert);\r\n    // console.log(\"[DECRYPTION] Coverted key in buffer : \" + keyConvertBuffer);\r\n    // console.log(keyConvertBuffer);\r\n\r\n    //console.log(keyConvert);\r\n    const uncompressedKey = keyConvertBuffer.toString('hex')\r\n    // console.log(\"[DECRYPTION] Uncompressed key in buffer : \");\r\n    // console.log(uncompressedKey);\r\n\r\n    encrypted.ephemPublicKey = uncompressedKey;\r\n    const twoStripped = privateKey.substring(2)\r\n\r\n    const encryptedBuffer = {\r\n      iv: new Buffer(encrypted.iv, 'hex'),\r\n      ephemPublicKey: new Buffer(encrypted.ephemPublicKey, 'hex'),\r\n      ciphertext: new Buffer(encrypted.ciphertext, 'hex'),\r\n      mac: new Buffer(encrypted.mac, 'hex')\r\n    };\r\n\r\n    return decrypt(\r\n      new Buffer(twoStripped, 'hex'),\r\n      encryptedBuffer\r\n    ).then(decryptedBuffer => decryptedBuffer.toString());\r\n  },\r\n  // Testing of Encryption and Decryption from Public to Private key\r\n  encryptionDecryptionPublicToPrivateTest: async function(privateKey) {\r\n    const startTime = new Date();\r\n    console.log(\"[ENCRYPTION / DECRYPTION TEST STARTED] - \" + startTime);\r\n\r\n    const publicKey = EthCrypto.publicKeyByPrivateKey(privateKey);\r\n    const compressedKey = EthCrypto.publicKey.compress(publicKey); // is String\r\n    //console.log(compressedKey);\r\n\r\n    // const bytesCompKey = Uint8Array.from(compressedKey);\r\n    //console.log(bytesCompKey);\r\n\r\n    const msgToEncrypt = \"PartialStringAS\";\r\n    const msg = await this.encryptWithPublicKey(msgToEncrypt, compressedKey);\r\n    console.log(\"Encryped Message With compressed public key:\" + msg);\r\n\r\n    const encryptionTime = new Date().getTime() - startTime.getTime();\r\n    console.log(\"[ENCRYPTION / DECRYPTION ENCRYPTION DONE] - \" + encryptionTime / 1000 + \" secs\");\r\n\r\n    // Decrypt this message\r\n    const decryptMsg = await this.decryptWithPrivateKey(msg, privateKey);\r\n    console.log(\"[ENCRYPTION / DECRYPTION DECRYPTED MESSAGE] - '\" + decryptMsg + \"'\");\r\n\r\n    const decryptionTime = new Date().getTime() - startTime.getTime() - encryptionTime;\r\n    console.log(\"[ENCRYPTION / DECRYPTION DECRYPTION DONE] - \" + decryptionTime / 1000 + \" secs\");\r\n  },\r\n  // To output messge payload if required\r\n  outputMsgPayload: async function(secret, subject, message, calltoaction, imageurl, pkey) {\r\n    // Output AES\r\n    console.log(\"[AES ENCRYTED FORMAT (\" + new Date() + \")\");\r\n    console.log(\"---------------------\");\r\n    console.log(\"secret --> \");\r\n    const secretEncrypted = await this.encryptWithECIES(secret, pkey);\r\n    const asubE = this.encryptWithAES(subject, secret);\r\n    const amsgE = this.encryptWithAES(message, secret);\r\n    const actaE = this.encryptWithAES(calltoaction, secret);\r\n    const aimgE = this.encryptWithAES(imageurl, secret);\r\n\r\n    console.log(secretEncrypted);\r\n    console.log(\"asub --> \");\r\n    console.log(asubE);\r\n    console.log(\"amsg --> \");\r\n    console.log(amsgE);\r\n    console.log(\"acta --> \");\r\n    console.log(actaE);\r\n    console.log(\"aimg --> \");\r\n    console.log(aimgE);\r\n    console.log(\"decrypted secret --> \");\r\n    console.log(await this.decryptWithECIES(secretEncrypted, pkey));\r\n    console.log(\"decrypted asub --> \");\r\n    console.log(this.decryptWithAES(asubE, secret));\r\n    console.log(\"decrypted amsg --> \");\r\n    console.log(this.decryptWithAES(amsgE, secret));\r\n    console.log(\"decrypted acta --> \");\r\n    console.log(this.decryptWithAES(actaE, secret));\r\n    console.log(\"decrypted aimg --> \");\r\n    console.log(this.decryptWithAES(aimgE, secret));\r\n  },\r\n  makeid: function (length) {\r\n     var result           = '[' + new Date().toISOString() + '] ';\r\n     var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n     var charactersLength = characters.length;\r\n     for ( var i = 0; i < length; i++ ) {\r\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n     }\r\n     return result;\r\n  }\r\n};\r\n\r\nexport default CryptoHelper;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\",\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                \"New content is available and will be used when all \" +\r\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\",\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { \"Service-Worker\": \"script\" },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get(\"content-type\");\r\n      if (response.status === 404 || (contentType != null && contentType.indexOf(\"javascript\") === -1)) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\"No internet connection found. App is running in offline mode.\");\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { InjectedConnector } from '@web3-react/injected-connector'\r\nimport { envConfig } from \"@project/contracts\";\r\nimport { PortisConnector } from '@web3-react/portis-connector'\r\n// import { NetworkConnector } from '@web3-react/network-connector'\r\nimport { WalletConnectConnector } from '@web3-react/walletconnect-connector'\r\n// import { WalletLinkConnector } from '@web3-react/walletlink-connector'\r\nimport { LedgerConnector } from '@web3-react/ledger-connector'\r\nimport { TrezorConnector } from '@web3-react/trezor-connector'\r\n// import { FrameConnector } from '@web3-react/frame-connector'\r\n// import { AuthereumConnector } from '@web3-react/authereum-connector'\r\n// import { FortmaticConnector } from '@web3-react/fortmatic-connector'\r\n// import { SquarelinkConnector } from '@web3-react/squarelink-connector'\r\n// import { TorusConnector } from '@web3-react/torus-connector'\r\n\r\nrequire('dotenv').config();\r\nconst SUPPORTED_CHAIN_IDS = [...envConfig.allowedNetworks];\r\nconst POLLING_INTERVAL = 12000;\r\nconst CORE_CHAIN_ID = envConfig.coreContractChain;\r\nconst CORE_RPC = envConfig.coreRPC;\r\n\r\nconst RPC_URLS: { [chainId: number]: string } = {\r\n  [CORE_CHAIN_ID]: envConfig.coreRPC\r\n}\r\n\r\nexport const injected = new InjectedConnector({ supportedChainIds: SUPPORTED_CHAIN_IDS })\r\n\r\n\r\nexport const walletconnect = new WalletConnectConnector({\r\n  rpc: { ...RPC_URLS },\r\n  bridge: 'https://bridge.walletconnect.org',\r\n  qrcode: true,\r\n  pollingInterval: POLLING_INTERVAL\r\n})\r\n//\r\n// export const walletlink = new WalletLinkConnector({\r\n//   url: RPC_URLS[1],\r\n//   appName: 'web3-react example'\r\n// })\r\n//\r\nexport const ledger = new LedgerConnector({ chainId: CORE_CHAIN_ID, url: CORE_RPC, pollingInterval: POLLING_INTERVAL })\r\n\r\nexport const trezor = new TrezorConnector({\r\n  chainId: CORE_CHAIN_ID,\r\n  url: CORE_RPC,\r\n  pollingInterval: POLLING_INTERVAL,\r\n  manifestEmail: 'support@epns.io',\r\n  manifestAppUrl: 'https://staging-app.epns.io'\r\n})\r\n\r\n//\r\n// export const frame = new FrameConnector({ supportedChainIds: [1] })\r\n//\r\n// export const authereum = new AuthereumConnector({ chainId: 42 })\r\n//\r\n// export const fortmatic = new FortmaticConnector({ apiKey: process.env.FORTMATIC_API_KEY as string, chainId: 4 })\r\n\r\nexport const portis = new PortisConnector({ dAppId: 'cfefa032-9afd-4833-bfb4-2b0cb7ec3413' as string, networks: [CORE_CHAIN_ID] })\r\n\r\n// export const squarelink = new SquarelinkConnector({\r\n//   clientId: process.env.SQUARELINK_CLIENT_ID as string,\r\n//   networks: [1, 100]\r\n// })\r\n\r\n// export const torus = new TorusConnector({ chainId: 1 })\r\n","import { useState, useEffect } from 'react'\r\nimport { useWeb3React } from '@web3-react/core'\r\n\r\nimport { injected } from './connectors'\r\n\r\nrequire('dotenv').config();\r\n\r\nexport function useEagerConnect() {\r\n  const { activate, active } = useWeb3React()\r\n\r\n  const [tried, setTried] = useState(false)\r\n\r\n  useEffect(() => {\r\n    injected.isAuthorized().then((isAuthorized: boolean) => {\r\n      if (isAuthorized) {\r\n        activate(injected, undefined, true).catch(() => {\r\n          setTried(true)\r\n        })\r\n      } else {\r\n        setTried(true)\r\n      }\r\n    })\r\n  }, []) // intentionally only running on mount (make sure it's only mounted once :))\r\n\r\n  // if the connection worked, wait until we get confirmation of that to flip the flag\r\n  useEffect(() => {\r\n    if (!tried && active) {\r\n      setTried(true)\r\n    }\r\n  }, [tried, active])\r\n\r\n  return tried\r\n}\r\n\r\nexport function useInactiveListener(suppress: boolean = false) {\r\n  const { active, error, activate } = useWeb3React()\r\n\r\n  useEffect((): any => {\r\n    const { ethereum } = window as any\r\n    if (ethereum && ethereum.on && !active && !error && !suppress) {\r\n      const handleConnect = () => {\r\n        console.log(\"Handling 'connect' event\")\r\n        activate(injected)\r\n      }\r\n      const handleChainChanged = (chainId: string | number) => {\r\n        console.log(\"Handling 'chainChanged' event with payload\", chainId)\r\n        activate(injected)\r\n      }\r\n      const handleAccountsChanged = (accounts: string[]) => {\r\n        console.log(\"Handling 'accountsChanged' event with payload\", accounts)\r\n        if (accounts.length > 0) {\r\n          activate(injected)\r\n        }\r\n      }\r\n      const handleNetworkChanged = (networkId: string | number) => {\r\n        console.log(\"Handling 'networkChanged' event with payload\", networkId)\r\n        activate(injected)\r\n      }\r\n\r\n      ethereum.on('connect', handleConnect)\r\n      ethereum.on('chainChanged', handleChainChanged)\r\n      ethereum.on('accountsChanged', handleAccountsChanged)\r\n      ethereum.on('networkChanged', handleNetworkChanged)\r\n\r\n      return () => {\r\n        if (ethereum.removeListener) {\r\n          ethereum.removeListener('connect', handleConnect)\r\n          ethereum.removeListener('chainChanged', handleChainChanged)\r\n          ethereum.removeListener('accountsChanged', handleAccountsChanged)\r\n          ethereum.removeListener('networkChanged', handleNetworkChanged)\r\n        }\r\n      }\r\n    }\r\n  }, [active, error, suppress, activate])\r\n}\r\n","import dotenv from \"dotenv\";\r\ndotenv.config();\r\n\r\nexport default  {\r\n    etherscanToken: process.env.REACT_APP_INFURA_API_KEY || \"\"\r\n}","import React from \"react\";\r\n\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport { ethers } from \"ethers\";\r\n//import { parseEther, bigNumber } from 'ethers/utils'\r\n\r\n// FeedDB Helper Function\r\nconst EPNSCoreHelper = {\r\n  // To get owner info\r\n  getOwnerInfo: async (contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract.governance()\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getOwnerInfo() --> %o\", response);\r\n          resolve(response);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getOwnerInfo() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n  // To get user info\r\n  getUserInfo: async (user, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract.users(user)\r\n        .then(response => {\r\n          const mappings = { ...response };\r\n          mappings.addr = user;\r\n\r\n          if (enableLogs) console.log(\"getUserInfo() --> %o\", mappings);\r\n          resolve(mappings);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getUserInfo() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n  // To retrieve a channel address from it's id\r\n  getChannelAddressFromID: async (channelID, contract) => {\r\n    return new Promise ((resolve, reject) => {\r\n      // To get channel info from a channel address\r\n      contract.channelById(channelID)\r\n        .then(response => {\r\n          // console.log(\"getChannelAddressFromID() --> %o\", response.toString());\r\n          resolve(response.toString());\r\n        })\r\n        .catch(err => { console.log(\"!!!Error, getChannelAddressFromID() --> %o\", err); reject(err); });\r\n    })\r\n  },\r\n  // To retrieve a channel's Info from channel address\r\n  getChannelInfo: async (channel, contract) => {\r\n    const enableLogs = 0;\r\n    return new Promise ((resolve, reject) => {\r\n      // To get channel info from a channel address\r\n      contract.channels(channel)\r\n        .then(response => {\r\n          // Add an extra field for future info\r\n          const mappings = { ...response };\r\n          mappings.addr = channel;\r\n\r\n          if (enableLogs) console.log(\"getChannelInfo() --> %o\", mappings);\r\n          resolve(mappings);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getChannelInfo() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n  // To retrieve a channel's AddChannel event\r\n  getChannelEvent: async (channel, startBlock, updateBlock, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n\r\n      // To get channel ipfs hash from channel info\r\n      let filter = contract.filters.AddChannel(channel);\r\n      let block = startBlock;\r\n      if (startBlock != updateBlock) {\r\n        filter = contract.filters.UpdateChannel(channel);\r\n        block = updateBlock;\r\n      }\r\n\r\n      contract.queryFilter(filter, block, block)\r\n        .then(response => {\r\n          let filteredResponse;\r\n\r\n          if (enableLogs) console.log(\"getChannelEvent() --> Finding: %s in | %o |\", channel, response );\r\n\r\n          response.forEach(function (item) {\r\n            if (item.args.channel.toString() == channel.toString()) {\r\n              if (enableLogs) console.log(\"getChannelEvent() --> Selected Channel %o: \", item);\r\n              filteredResponse = ethers.utils.toUtf8String(item.args.identity);\r\n            }\r\n          });\r\n\r\n          if (enableLogs) console.log(\"getChannelEvent() --> Filtered Channel: %o\", filteredResponse);\r\n          resolve(filteredResponse);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getChannelEvent() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n  // Retrive IPFS File from ipfshash\r\n  getJsonFileFromIdentity: async(identity, channel) => {\r\n    const enableLogs = 0;\r\n\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // Split Channel Identity, delimeter of identity is \"+\"\r\n      if(!identity){\r\n        reject(\"There is no identity file for channel:\",channel);\r\n      }\r\n      const ids = identity?.split(\"+\") || []; // First segment is storage type, second is the pointer to it\r\n\r\n      if (ids[0] == 1) {\r\n        // IPFS HASH\r\n        // Form Gateway URL\r\n        const url = \"https://ipfs.io/ipfs/\" + ids[1];\r\n        fetch(url)\r\n          .then(response => response.json())\r\n          .then(response => {\r\n            if (enableLogs) console.log(\"getJsonFileFromIdentity() --> %o\", response);\r\n            resolve(response);\r\n          })\r\n          .catch(err => {\r\n            console.log(\"!!!Error, getJsonFileFromIdentity() --> %o\", err);\r\n            reject(err);\r\n          });\r\n      }\r\n\r\n    });\r\n  },\r\n  // Helper to get Channel from Channel's address\r\n  getChannelJsonFromChannelAddress: async (channel, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // To get channel info from a channel address\r\n      EPNSCoreHelper.getChannelInfo(channel, contract)\r\n        .then(response => EPNSCoreHelper.getChannelEvent(channel, response.channelStartBlock.toNumber(), response.channelUpdateBlock.toNumber(), contract))\r\n        .then(response => {\r\n          // add little hack for now to change coindesk's descriptioon\r\n          const hash = channel === \"0x8C28Cf33d9Fd3D0293f963b1cd27e3FF422B425c\" ? \"1+bafkreif643vf3cteadznccivnsk5uj26e3ls7onbshnldb3aej3omrxsau\" : response\r\n          return EPNSCoreHelper.getJsonFileFromIdentity(hash, channel)\r\n          // return EPNSCoreHelper.getJsonFileFromIdentity(response, channel)\r\n        })\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getChannelJsonFromChannelAddress() --> %o\", response);\r\n          resolve(response);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getChannelJsonFromChannelAddress() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  // Helper to get Channel from User's address\r\n  getChannelJsonFromUserAddress: async (user, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // To get channel info from a channel address\r\n      // EPNSCoreHelper.getUserInfo(user, contract)\r\n      //   .then(response => EPNSCoreHelper.getChannelJsonFromChannelAddress(user, contract))\r\n        EPNSCoreHelper.getChannelJsonFromChannelAddress(user, contract)\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getChannelJsonFromUserAddress() --> %o\", response);\r\n          resolve(response);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getChannelJsonFromUserAddress() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  // Get Total Number of Channels\r\n  getTotalNumberOfChannels: async (contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract.channelsCount()\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getTotalNumberOfChannels() --> %o\", response.toNumber());\r\n          resolve(response.toNumber());\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getTotalNumberOfChannels() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n  // Get channels address given number of channels, , atIndex: -1 is start from latest, numChannels: -1 is return all\r\n  getChannelsMetaLatestToOldest: async (atIndex, numChannels, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      EPNSCoreHelper.getTotalNumberOfChannels(contract)\r\n        .then(async (response) => {\r\n          let channelsInfo = [];\r\n          const channelsCount = response;\r\n\r\n          if (atIndex > channelsCount || atIndex == -1) {\r\n            atIndex = channelsCount - 1;\r\n          }\r\n\r\n          if (numChannels == -1) {\r\n            numChannels = channelsCount;\r\n          }\r\n\r\n          // Get channels\r\n          let channelArrays = [];\r\n\r\n          // prefil and then refil\r\n          let count = 0;\r\n          for (let i = numChannels - 1; i >= 0; i--) {\r\n            const assignedChannelID = atIndex - i;\r\n            channelArrays.push(assignedChannelID);\r\n          }\r\n\r\n          const promises = channelArrays.map(async (channelID) => {\r\n            await EPNSCoreHelper.getChannelAddressFromID(channelID, contract)\r\n              .then(response => EPNSCoreHelper.getChannelInfo(response, contract))\r\n              .then(response => {\r\n                if (enableLogs) console.log(\"getChannelsMetaLatestToOldest(%d, %d) --> %o\", channelID, numChannels, channelsInfo);\r\n                channelsInfo = [response, ...channelsInfo];\r\n              })\r\n              .catch(err => console.log(\"Error in channel: %d | skipping...\", channelID))\r\n          });\r\n\r\n          // wait until all promises are resolved\r\n          await Promise.all(promises);\r\n\r\n          if (enableLogs) console.log(\"getChannelsMetaLatestToOldest(Index: %d, Number: %d) --> %o\", atIndex, numChannels, channelsInfo);\r\n          resolve(channelsInfo);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getChannelsMetaLatestToOldest() --> %o\", err);\r\n          reject(err);\r\n        })\r\n    });\r\n  },\r\n  // Get Total Number of Users\r\n  getTotalNumberOfUsers: async (contract) => {\r\n    return new Promise ((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract.usersCount()\r\n        .then(response => {\r\n          console.log(\"getTotalNumberOfUsers() --> %o\", response.toNumber());\r\n          resolve(response.toNumber());\r\n        })\r\n        .catch(err => { console.log(\"!!!Error, getTotalNumberOfUsers() --> %o\", err); reject(err); });\r\n    })\r\n  },\r\n  // To retrieve public key of a user\r\n  getPublicKey: async (address, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // To get channel ipfs hash from channel info\r\n      let filteredResponse;\r\n      contract.queryFilter('PublicKeyRegistered')\r\n        .then(response => {\r\n\r\n          response.forEach(function (item) {\r\n            if (item.args[0] == address) {\r\n              filteredResponse = item;\r\n            }\r\n          });\r\n\r\n          if (enableLogs) console.log(\"Public Key Registry Response: \" + response);\r\n          if (enableLogs) console.log(\"Public Key Registry Filtered: \" + filteredResponse);\r\n\r\n          if (!filteredResponse || filteredResponse.length == 0) {\r\n            resolve(null)\r\n          }\r\n          else {\r\n            resolve(filteredResponse.args[1]);\r\n          }\r\n\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n  // Get Total Subsbribed Channels\r\n  getSubscribedStatus: async (user, channel, contract) => {\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract.isUserSubscribed(channel, user)\r\n        .then(response => {\r\n          // console.log(\"getSubscribedStatus() --> %o\", {response, user, channel});\r\n          resolve(response);\r\n        })\r\n        .catch(err => { console.log(\"!!!Error, getSubscribedStatus() --> %o\", err); reject(err); });\r\n    })\r\n  },\r\n  // Get Total Subsbribed Channels\r\n  getTotalSubscribedChannels: async (user, contract) => {\r\n    return new Promise ((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract.users[user].subscribedCount()\r\n        .then(response => {\r\n          console.log(\"getTotalSubscribedChannels() --> %o\", response.toNumber());\r\n          resolve(response.toNumber());\r\n        })\r\n        .catch(err => { console.log(\"!!!Error, getTotalSubscribedChannels() --> %o\", err); reject(err); });\r\n    })\r\n  },\r\n  // Get Fair Share\r\n  getFairShareOfUserAtBlock: async(user, block, contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      // Get User Info from EPNS Core\r\n      contract.users(user)\r\n        .then((response) => {\r\n          if (response.userActivated) {\r\n            contract.calcAllChannelsRatio(user, block)\r\n              .then(response => {\r\n                if (enableLogs) console.log(\"calcAllChannelsRatio() --> %o\", response);\r\n                resolve(response);\r\n              })\r\n              .catch(err => {\r\n                console.log(\"!!!Error, calcAllChannelsRatio() --> %o\", err);\r\n                reject(err);\r\n              });\r\n          }\r\n          else {\r\n            if (enableLogs) console.log(\"!!!Warning, calcAllChannelsRatio() --> User not activated\");\r\n            reject(\"User not activated\");\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, calcAllChannelsRatio() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n  // Get Pool Funds\r\n  getPoolFunds: async(contract) => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise ((resolve, reject) => {\r\n      contract.poolFunds()\r\n        .then(response => {\r\n          if (enableLogs) console.log(\"getPoolFunds() --> %o\", response);\r\n          resolve(response);\r\n        })\r\n        .catch(err => {\r\n          console.log(\"!!!Error, getPoolFunds() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    })\r\n  },\r\n  // Helper Functions\r\n  // To format Big Number\r\n  formatBigNumberToMetric: (bignumber, convertToCurrency) => {\r\n    try {\r\n      if (convertToCurrency) {\r\n        bignumber = bignumber.div(100000000000000);\r\n        bignumber = bignumber.div(10000);\r\n      }\r\n      bignumber = bignumber.toNumber();\r\n      return EPNSCoreHelper.metricFormatter(bignumber, 2);\r\n    }\r\n    catch (e) {\r\n      console.log(e);\r\n      return \"---\";\r\n    }\r\n  },\r\n  // Metric Formatter, thanks: https://stackoverflow.com/questions/9461621/format-a-number-as-2-5k-if-a-thousand-or-more-otherwise-900\r\n  metricFormatter: (num, digits) => {\r\n    var si = [\r\n      { value: 1, symbol: \"\" },\r\n      { value: 1E3, symbol: \"k\" },\r\n      { value: 1E6, symbol: \"M\" },\r\n      { value: 1E9, symbol: \"G\" },\r\n      { value: 1E12, symbol: \"T\" },\r\n      { value: 1E15, symbol: \"P\" },\r\n      { value: 1E18, symbol: \"E\" }\r\n    ];\r\n    var rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\r\n    var i;\r\n    for (i = si.length - 1; i > 0; i--) {\r\n      if (num >= si[i].value) {\r\n        break;\r\n      }\r\n    }\r\n    return (num / si[i].value).toFixed(digits).replace(rx, \"$1\") + si[i].symbol;\r\n  },\r\n\r\n}\r\n\r\nexport default EPNSCoreHelper;\r\n","import React from \"react\";\r\nimport styled, { css } from 'styled-components';\r\n\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport EPNSCoreHelper from 'helpers/EPNSCoreHelper';\r\nimport { ethers } from \"ethers\";\r\nimport { toast } from 'react-toastify';\r\nimport moment from 'moment';\r\n\r\nfunction NotificationToast({ notification, clearToast }) {\r\n\r\n  // toast customize\r\n  const LoaderToast = ({color }) => (\r\n      <Toaster>\r\n      <div>{notification.notificationTitle}</div>\r\n      <div>{notification.notificationBody}</div>\r\n      </Toaster>\r\n  )\r\n \r\n  // Render\r\n  return (\r\n    <NotificationWrapper>{\r\n    toast.dark(<LoaderToast onClick={clearToast} color=\"#35c5f3\"/>, {\r\n          position: \"bottom-right\",\r\n          autoClose: false,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        })\r\n    }\r\n    </NotificationWrapper>\r\n  );\r\n}\r\n\r\nconst NotificationWrapper = styled.div`\r\n  display: none;\r\n`;\r\n\r\nconst Toaster = styled.div`\r\n  align-items: center;\r\n  margin: 0px 10px;\r\n`\r\n\r\nconst ToasterMsg = styled.div`\r\n  margin: 0px 10px;\r\n`\r\n\r\nconst Items = styled.div`\r\n  display: block;\r\n  align-self: stretch;\r\n  padding: 10px 20px;\r\n  overflow-y: scroll;\r\n  background: #fafafa;\r\n`\r\n\r\n\r\n\r\n// Export Default\r\nexport default NotificationToast;\r\n","import axios from \"axios\";\r\nimport { envConfig } from \"@project/contracts\";\r\n\r\n\r\n// const BASE_URL = \"https://backend-staging.epns.io/apis\";\r\nconst BASE_URL = envConfig.apiUrl// \"https://backend-kovan.epns.io/apis\";\r\n// const BASE_URL = \"http://localhost:4000/apis\"; //for local push node\r\n\r\n/**\r\n * A function used to make get requests throughout the entire application\r\n * @param {String} path e.g /feeds/get_feeds, this represents the route of the enpoint to call\r\n * @returns {Promise}\r\n */\r\nexport const getReq = async (path) => {\r\n    try {\r\n      const response = await axios.get(BASE_URL + path);\r\n      return response;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n/**\r\n * A function used to make post requests to the backend\r\n * @param {String} path e.g /feeds/get_feeds, this represents the route of the enpoint to call\r\n * @param {Object} obj \r\n * @returns {Promise}\r\n */\r\nexport const postReq = async (path, obj) => {\r\n  try {\r\n    const response = await axios.post(BASE_URL + path, obj, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n","import React, {useRef, useState} from 'react';\r\nimport { useClick, useClickAway } from 'react-use';\r\nimport styled from 'styled-components';\r\nimport { useWeb3React } from '@web3-react/core';\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport Loader from 'react-loader-spinner';\r\nimport { postReq } from \"../api\";\r\n\r\nimport {Item, H2, H3, Span, Button, Input} from 'components/SharedStyling';\r\n\r\nconst ethers = require('ethers');\r\n\r\n\r\nexport default function AliasVerificationModal({\r\n    onClose,onSuccess, verificationStatus, aliasEthAccount\r\n}) {\r\n    const { active, error, account, library, chainId } = useWeb3React();\r\n    const signer = library.getSigner(account);\r\n\r\n    const modalRef = useRef(null);\r\n    const polygonCommsContract = new ethers.Contract(addresses.epnsPolyComm, abis.epnsComm, signer);\r\n    const [mainAddress, setMainAddress] = useState(aliasEthAccount);\r\n    const [loading, setLoading] = useState('');\r\n\r\n    // Form signer and contract connection\r\n    useClickAway(modalRef, ()=>onClose(loading !== ''));\r\n\r\n    const checkAlias = async () => {\r\n        console.log(mainAddress, aliasEthAccount);\r\n        if (mainAddress == aliasEthAccount) {\r\n            submitAlias();\r\n        } else {\r\n            setLoading('Enter Correct Eth Channel Address');\r\n            setTimeout(() => {\r\n                setLoading('')\r\n            }, 4000)\r\n        }\r\n    }\r\n\r\n    const submitAlias = () => {\r\n        setLoading('loading')\r\n        const anotherSendTxPromise = polygonCommsContract.verifyChannelAlias(mainAddress);\r\n        anotherSendTxPromise\r\n        .then(async (tx) => {\r\n            console.log(tx);\r\n            setLoading(\"Transaction Sent!\");\r\n\r\n\t\t\tawait tx.wait(1);\r\n            setTimeout(() => {\r\n                setLoading(\"Transaction Mined!\");\r\n            }, 2000);\r\n            \r\n            setTimeout(() => {\r\n                setLoading(\"Verification in Process. Please wait, it may take some time\");\r\n            }, 2000);\r\n\t\t\t\r\n            const intervalId = setInterval(async () => {\r\n                const response = await postReq(\"/channels/get_alias_verification_status\", {\r\n                    aliasAddress: account,\r\n                    op: \"read\",\r\n                })\r\n                const status = response?.data?.status;\r\n                if (status == true) {\r\n                    clearInterval(intervalId);\r\n                    onSuccess();\r\n                    onClose();\r\n                }\r\n            }, 5000);\r\n        })\r\n        .catch(() => {\r\n            setLoading('There was an error');\r\n            setTimeout(() => {\r\n                setLoading('')\r\n            }, 2000)\r\n        })\r\n    };\r\n    \r\n\r\n    return (\r\n        <Overlay>\r\n            <AliasModal ref={modalRef}>\r\n                <Item align=\"flex-start\">\r\n                    <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n                    <Span weight=\"200\">Verify </Span><Span bg=\"#674c9f\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">Alias</Span>\r\n                    </H2>\r\n                    {\r\n                        verificationStatus === null ?\r\n                        (\r\n                            <H3>There has been an error in the verification of your alias, Please contact the admin</H3>\r\n                        ) : (\r\n                            <H3>Before you can use this channel on this chain, you first need to verify your Alias.</H3>\r\n                        )\r\n                    }\r\n                </Item>\r\n                {\r\n                    verificationStatus !== null && (\r\n                        <>\r\n                            <Item align=\"flex-start\">\r\n                                <CustomInput\r\n                                    placeholder={aliasEthAccount}\r\n                                    radius=\"4px\"\r\n                                    padding=\"12px\"\r\n                                    border=\"1px solid #674c9f\"\r\n                                    bg=\"#fff\"\r\n                                    disabled\r\n                                    readOnly={true}\r\n                                />\r\n                            </Item>\r\n                            <Item margin=\"15px 0px 0px 0px\" flex=\"1\" self=\"stretch\" align=\"stretch\">\r\n                                <Button\r\n                                    bg='#e20880'\r\n                                    color='#fff'\r\n                                    flex=\"1\"\r\n                                    radius=\"0px\"\r\n                                    padding=\"20px 10px\"\r\n                                    disabled={mainAddress.length !== 42 || loading !== ''}\r\n                                    onClick={checkAlias}\r\n                                >\r\n                                    { loading && <Loader\r\n                                        type=\"Oval\"\r\n                                        color=\"#FFF\"\r\n                                        height={16}\r\n                                        width={16}\r\n                                        />\r\n                                    }\r\n                                    <StyledInput\r\n                                        cursor=\"hand\"\r\n                                        textTransform=\"uppercase\"\r\n                                        color=\"#fff\" weight=\"400\"\r\n                                        size=\"0.8em\" spacing=\"0.2em\"\r\n                                        value={loading ? loading : \"Verify Alias\"}\r\n                                    />\r\n                                </Button>\r\n                            </Item>\r\n                        </>\r\n                    )\r\n                }\r\n            </AliasModal>\r\n        </Overlay>\r\n    )\r\n}\r\n\r\nconst StyledInput = styled(Input)`\r\n    width: 100%;\r\n    text-align: center;\r\n    caret-color: transparent;\r\n`\r\n\r\nconst CustomInput = styled(Input)`\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    margin: 20px 0px;\r\n`;\r\n\r\nconst Overlay = styled.div`\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    background: rgba(0,0,0,0.85);\r\n    height: 100%;\r\n    width: 100%;\r\n    z-index: 1000;\r\n    position: fixed;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    overflow-y: scroll;\r\n`;\r\n\r\nconst AliasModal = styled.div`\r\n    padding: 20px 30px;\r\n    background: white;\r\n`;","import React from \"react\";\r\nimport styled, { css } from 'styled-components';\r\n\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.min.css';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nimport { useWeb3React } from '@web3-react/core';\r\n\r\n\r\n// Other Information URLs\r\nfunction ViewInfoItem() {\r\n  // render\r\n  return (\r\n    <>\r\n    <Container >\r\n      <ChannelInfo>\r\n        <ChannelTitle>\r\n          <>\r\n          <AppLinkText>\r\n            <AppLink href={`${process.env.REACT_APP_BROWSER_EXTENSION_URL}`} target=\"_blank\" rel=\"nofollow\">\r\n              Download EPNS Browser Extension\r\n            </AppLink>\r\n          </AppLinkText>\r\n          \r\n          </>\r\n        </ChannelTitle>\r\n      </ChannelInfo>\r\n    </Container>\r\n    <Container >\r\n      <ChannelInfo>\r\n        <ChannelTitle>\r\n          <>\r\n          <AppLinkText>\r\n            <AppLink href={`${process.env.REACT_APP_IOS_STAGING_DAPP_URL}`} target=\"_blank\" rel=\"nofollow\">\r\n              Download EPNS App (iOS)\r\n            </AppLink>\r\n          </AppLinkText>\r\n           For iOS Users\r\n          </>\r\n        </ChannelTitle>\r\n      </ChannelInfo>\r\n    </Container>\r\n    <Container >\r\n      <ChannelInfo>\r\n        <ChannelTitle>\r\n          <>\r\n          <AppLinkText>\r\n            <AppLink href={`${process.env.REACT_APP_ANDROID_STAGING_DAPP_URL}`} target=\"_blank\" rel=\"nofollow\">\r\n              Download EPNS App (Android)\r\n            </AppLink>\r\n          </AppLinkText>\r\n           For Android Users\r\n          </>\r\n        </ChannelTitle>\r\n      </ChannelInfo>\r\n    </Container>\r\n    <Container >\r\n      <ChannelInfo>\r\n        <ChannelTitle>\r\n          <ChannelTitleLink href= \"#\" target=\"_blank\" rel=\"nofollow\">\r\n            Click here for our How to Guides\r\n          </ChannelTitleLink>\r\n        </ChannelTitle>\r\n      </ChannelInfo>\r\n    </Container>\r\n    </>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.div`\r\n  flex: 1;\r\n  // display: flex;\r\n  // flex-wrap: wrap;\r\n\r\n  background: #fff;\r\n  border-radius: 10px;\r\n  border: 1px solid rgb(237, 237, 237);\r\n\r\n  margin: 15px 0px;\r\n  justify-content: center;\r\n  padding: 10px;\r\n`\r\n\r\nconst ChannelTitleLink = styled.a`\r\n  text-decoration: none;\r\n  font-weight: 600;\r\n  color: #e20880;\r\n  font-size: 20px;\r\n  &:hover {\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`\r\nconst AppLink = styled.a`\r\n  text-decoration: none;\r\n  font-weight: 600;\r\n  color: #e20880;\r\n  font-size: 20px;\r\n  &:hover {\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`\r\nconst AppLinkText = styled.div`\r\n  text-decoration: none;\r\n  font-weight: 600;\r\n  color: #e20880;\r\n  font-size: 20px;\r\n`\r\nconst ChannelInfo = styled.div`\r\n  flex: 1;\r\n  margin: 5px 10px;\r\n  min-width: 120px;\r\n  flex-grow: 4;\r\n  flex-direction: column;\r\n  display: flex;\r\n`\r\n\r\nconst ChannelTitle = styled.div`\r\n  margin-bottom: 5px;\r\n`\r\n\r\n// Export Default\r\nexport default ViewInfoItem;\r\n","import React from \"react\";\r\nimport styled, { css } from 'styled-components';\r\nimport Loader from 'react-loader-spinner'\r\n\r\nimport { useWeb3React } from '@web3-react/core'\r\n\r\nimport ViewInfoItem from \"components/ViewInfoItem\";\r\n\r\nimport * as dotenv from \"dotenv\";\r\ndotenv.config();\r\n\r\n// Other Information section\r\nfunction  Info() {\r\n  const { account, library } = useWeb3React();\r\n\r\n  const [controlAt, setControlAt] = React.useState(0);\r\n  const [loading, setLoading] = React.useState(false);\r\n\r\n  return (\r\n    <Container>\r\n      {loading &&\r\n        <ContainerInfo>\r\n          <Loader\r\n           type=\"Oval\"\r\n           color=\"#35c5f3\"\r\n           height={40}\r\n           width={40}\r\n          />\r\n        </ContainerInfo>\r\n      }\r\n\r\n      {!loading && controlAt == 0 && \r\n      <>\r\n        <InfoBox>\r\n          <ViewInfoItem/>\r\n        </InfoBox>\r\n      </>\r\n      }\r\n    </Container>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n\r\n  font-weight: 200;\r\n  align-content: center;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  max-height: 80vh;\r\n`\r\n\r\nconst ContainerInfo = styled.div`\r\n  padding: 20px;\r\n`\r\nconst InfoBox = styled.div`\r\n  padding: 10px 20px;\r\n  display: block;\r\n  align-self: stretch;\r\n  background: #fafafa;\r\n`\r\n\r\n\r\n// Export Default\r\nexport default  Info;\r\n","/**\r\n * This file helps us maintain the spamnotifications fetched in state, so when tabs are switched we can retain the notification information\r\n */\r\nimport { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n    page: 1, //the current page\r\n    notifications: [],// the actual notifications\r\n    finishedFetching: false,\r\n    toggler: false\r\n}\r\n\r\nexport const contractSlice = createSlice({\r\n    name: \"spam\",\r\n    initialState,\r\n    reducers: {\r\n        toggleToggler: (state) => {\r\n            state.toggler = !state.toggler;\r\n        },\r\n        resetState: (state) => {\r\n            state.page = initialState.page;\r\n            state.notifications = initialState.notifications;\r\n            state.finishedFetching = initialState.finishedFetching;\r\n        },\r\n        addPaginatedNotifications: (state, action) => {\r\n            state.notifications = [ ...state.notifications, ...action.payload ];\r\n            state.page += 1;\r\n        },\r\n        incrementPage: (state) => {\r\n            state.page += 1;\r\n        },\r\n        addNewNotification: (state, action) => {\r\n            state.notifications = [{...action.payload}, ...state.notifications]\r\n        },\r\n        setFinishedFetching: (state) => {\r\n            state.finishedFetching = true;\r\n        },\r\n        updateTopNotifications: (state, action) => {\r\n            state.notifications = [...action.payload.notifs, ...state.notifications.slice(action.payload.pageSize)];\r\n            console.log({sn: state.notifications});\r\n        }\r\n    }\r\n});\r\n\r\nexport const {\r\n    toggleToggler,\r\n    addPaginatedNotifications,\r\n    incrementPage,\r\n    addNewNotification,\r\n    setFinishedFetching,\r\n    resetState,\r\n    updateTopNotifications\r\n} = contractSlice.actions;\r\n\r\nexport default contractSlice.reducer;","import React from \"react\";\r\nimport styled, { css } from 'styled-components';\r\nimport { AnimateOnChange } from 'react-animation';\r\n\r\nimport { useWeb3React, UnsupportedChainIdError } from '@web3-react/core'\r\n\r\n// Create Header\r\nfunction DisplayNotice({ title, theme }) {\r\n  React.useEffect(() => {\r\n\r\n  }, [title, theme]);\r\n\r\n  // to create blockies\r\n\r\n  return (\r\n    <Container>\r\n      <AnimateOnChange\r\n        animationIn=\"fadeIn\"\r\n        animationOut=\"fadeOut\"\r\n        durationOut={200}\r\n      >\r\n        <Notice theme={theme}>{title}</Notice>\r\n      </AnimateOnChange>\r\n    </Container>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.div`\r\n\r\n`\r\n\r\nconst Notice = styled.span`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 8px 15px;\r\n  margin: 10px;\r\n  color: #fff;\r\n  border-radius: 20px;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n\r\n  ${props => props.theme === 'primary' && css`\r\n    background: #e20880;\r\n  `};\r\n\r\n  ${props => props.theme === 'secondary' && css`\r\n    background: #35c5f3;\r\n  `};\r\n\r\n  ${props => props.theme === 'third' && css`\r\n    background: #674c9f;\r\n  `};\r\n`\r\n\r\n// Export Default\r\nexport default DisplayNotice;\r\n","/**\r\n * This file helps us maintain the notifications fetched in state, so when tabs are switched we can retain the notification information\r\n */\r\nimport { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n    page: 1, //the current page\r\n    notifications: [],// the actual notifications\r\n    finishedFetching: false,\r\n    toggler: false\r\n}\r\n\r\nexport const contractSlice = createSlice({\r\n    name: \"notifications\",\r\n    initialState,\r\n    reducers: {\r\n        toggleToggler: (state) => {\r\n            state.toggler = !state.toggler;\r\n        },\r\n        resetState: (state) => {\r\n            state.page = initialState.page;\r\n            state.notifications = initialState.notifications;\r\n            state.finishedFetching = initialState.finishedFetching;\r\n        },\r\n        addPaginatedNotifications: (state, action) => {\r\n            state.notifications = [ ...state.notifications, ...action.payload ];\r\n            state.page += 1;\r\n        },\r\n        incrementPage: (state) => {\r\n            state.page += 1;\r\n        },\r\n        addNewNotification: (state, action) => {\r\n            state.notifications = [{...action.payload}, ...state.notifications]\r\n        },\r\n        setFinishedFetching: (state) => {\r\n            state.finishedFetching = true;\r\n        },\r\n        updateTopNotifications: (state, action) => {\r\n            console.log({pp: action.payload});\r\n            state.notifications = [...action.payload.notifs, ...state.notifications.slice(action.payload.pageSize)];\r\n            console.log({sn: state.notifications});\r\n        }\r\n    }\r\n});\r\n\r\nexport const {\r\n    toggleToggler,\r\n    addPaginatedNotifications,\r\n    incrementPage,\r\n    addNewNotification,\r\n    setFinishedFetching,\r\n    resetState,\r\n    updateTopNotifications\r\n} = contractSlice.actions;\r\n\r\nexport default contractSlice.reducer;","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { Waypoint } from \"react-waypoint\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { envConfig } from \"@project/contracts\";\r\nimport {\r\n  api,\r\n  utils,\r\n  NotificationItem,\r\n} from \"@epnsproject/frontend-sdk-staging\";\r\nimport {\r\n  addPaginatedNotifications,\r\n  incrementPage,\r\n  setFinishedFetching,\r\n} from \"redux/slices/spamSlice\";\r\nimport { postReq } from \"api\";\r\nimport DisplayNotice from \"components/DisplayNotice\";\r\nimport { updateTopNotifications } from \"redux/slices/notificationSlice\";\r\nconst NOTIFICATIONS_PER_PAGE = 10;\r\n// Create Header\r\nfunction SpamBox({ currentTab }) {\r\n  const dispatch = useDispatch();\r\n  const { account, chainId, library } = useWeb3React();\r\n  const { epnsCommReadProvider } = useSelector(\r\n    (state: any) => state.contracts\r\n  );\r\n  const { notifications, page, finishedFetching } = useSelector((state: any) => state.spam);\r\n  const { toggle } = useSelector(\r\n    (state: any) => state.notifications\r\n  );\r\n  const EPNS_DOMAIN = {\r\n    name: \"EPNS COMM V1\",\r\n    chainId: chainId,\r\n    verifyingContract: epnsCommReadProvider?.address,\r\n  };\r\n  const [bgUpdateLoading, setBgUpdateLoading] = React.useState(false);\r\n  const [loading, setLoading] = React.useState(false);\r\n  const BLOCKCHAIN = {\r\n    \"ETH_TEST_KOVAN\": 42,\r\n    \"POLYGON_TEST_MUMBAI\": 80001,\r\n  }\r\n  const loadNotifications = async () => {\r\n    if (loading || finishedFetching) return;\r\n    setLoading(true);\r\n    try {\r\n      const { count, results } = await api.fetchSpamNotifications(\r\n        account,\r\n        NOTIFICATIONS_PER_PAGE,\r\n        page,\r\n        envConfig.apiUrl\r\n      );\r\n      const parsedResponsePromise = utils\r\n        .parseApiResponse(results)\r\n        .map(async (elem: any, i: any) => {\r\n          elem.channel = results[i].channel;\r\n          const {\r\n            data: { subscribers },\r\n          } = await postReq(\"/channels/get_subscribers\", {\r\n            channel: results[i].channel,\r\n            op: \"read\",\r\n            blockchain : chainId\r\n          });\r\n          elem.subscribers = subscribers;\r\n          return { ...elem };\r\n        });\r\n      const parsedResponse = await Promise.all(parsedResponsePromise);\r\n      // get all the subsc\r\n      dispatch(addPaginatedNotifications(parsedResponse));\r\n      if (count === 0) {\r\n        dispatch(setFinishedFetching());\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  const fetchLatestNotifications = async () => {\r\n    if (loading || bgUpdateLoading) return;\r\n    setBgUpdateLoading(true);\r\n    setLoading(true);\r\n    try {\r\n      const { count, results } = await api.fetchSpamNotifications(\r\n        account,\r\n        NOTIFICATIONS_PER_PAGE,\r\n        1,\r\n        envConfig.apiUrl\r\n      );\r\n      if (!notifications.length) {\r\n        dispatch(incrementPage());\r\n      }\r\n      const parsedResponsePromise = utils\r\n        .parseApiResponse(results)\r\n        .map(async (elem: any, i: any) => {\r\n          elem.channel = results[i].channel;\r\n          const {\r\n            data: { subscribers },\r\n          } = await postReq(\"/channels/get_subscribers\", {\r\n            channel: results[i].channel,\r\n            op: \"read\",\r\n            blockchain : chainId\r\n          });\r\n          elem.subscribers = subscribers;\r\n          return { ...elem };\r\n        });\r\n      const parsedResponse = await Promise.all(parsedResponsePromise);\r\n      dispatch(\r\n        updateTopNotifications({\r\n          notifs: parsedResponse,\r\n          pageSize: NOTIFICATIONS_PER_PAGE,\r\n        })\r\n      );\r\n      if (count === 0) {\r\n        dispatch(setFinishedFetching());\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    } finally {\r\n      setBgUpdateLoading(false);\r\n      setLoading(false);\r\n    }\r\n  };\r\n  React.useEffect(() => {\r\n    if (account && currentTab === \"spambox\") {\r\n      fetchLatestNotifications();\r\n    }\r\n  }, [account, currentTab]);\r\n  React.useEffect(() => {\r\n    if (epnsCommReadProvider) {\r\n      loadNotifications();\r\n    }\r\n  }, [epnsCommReadProvider, account]);\r\n  //function to query more notifications\r\n  const handlePagination = async () => {\r\n    loadNotifications();\r\n    dispatch(incrementPage());\r\n  };\r\n  const showWayPoint = (index: any) => {\r\n    return (\r\n      Number(index) === notifications.length - 1 &&\r\n      !finishedFetching &&\r\n      !bgUpdateLoading\r\n    );\r\n  };\r\n  const onSubscribeToChannel = async (channelAddress, notifChainId) => {\r\n    let txToast;\r\n    const type = {\r\n      Subscribe: [\r\n        { name: \"channel\", type: \"address\" },\r\n        { name: \"subscriber\", type: \"address\" },\r\n        { name: \"action\", type: \"string\" },\r\n      ],\r\n    };\r\n    let channelAddressToSend = channelAddress;\r\n    if (chainId !== notifChainId) {\r\n      if (chainId !== 42) {\r\n        try {\r\n          const response = await postReq(\"/channels/get_alias_details\", {\r\n            channel: channelAddress,\r\n            op: \"read\",\r\n          })\r\n          channelAddressToSend = response?.data?.aliasAddress;\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      } else {\r\n        try {\r\n          const response = await postReq(\"/channels/get_eth_address\", {\r\n            aliasAddress: channelAddress,\r\n            op: \"read\",\r\n          })\r\n          channelAddressToSend = response?.data?.ethAddress;\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      }\r\n    }\r\n    const message = {\r\n      channel: channelAddressToSend,\r\n      subscriber: account,\r\n      action: \"Subscribe\",\r\n    };\r\n    const signature = await library\r\n      .getSigner(account)\r\n      ._signTypedData(EPNS_DOMAIN, type, message);\r\n    return postReq(\"/channels/subscribe_offchain\", {\r\n      signature,\r\n      message,\r\n      op: \"write\",\r\n      chainId,\r\n      contractAddress: epnsCommReadProvider.address,\r\n    });\r\n  };\r\n  const isSubscribedFn = async (subscribers: any) => {\r\n    return subscribers\r\n      .map((a) => a.toLowerCase())\r\n      .includes(account.toLowerCase());\r\n  };\r\n  // Render\r\n  return (\r\n    <>\r\n      <Container>\r\n        {bgUpdateLoading && (\r\n          <div style={{ marginTop: \"10px\" }}>\r\n            <Loader type=\"Oval\" color=\"#35c5f3\" height={40} width={40} />\r\n          </div>\r\n        )}\r\n        {notifications && (\r\n          <Items id=\"scrollstyle-secondary\">\r\n            {notifications.map((oneNotification, index) => {\r\n              const {\r\n                cta,\r\n                title,\r\n                message,\r\n                app,\r\n                icon,\r\n                image,\r\n                channel,\r\n                subscribers,\r\n                blockchain\r\n              } = oneNotification;\r\n              // render the notification item\r\n              return (\r\n                <div key={`${message}+${title}`}>\r\n                  {showWayPoint(index) && !loading && (\r\n                    <Waypoint onEnter={() => handlePagination()} />\r\n                  )}\r\n                  <NotificationItem\r\n                    notificationTitle={title}\r\n                    notificationBody={message}\r\n                    cta={cta}\r\n                    app={app}\r\n                    icon={icon}\r\n                    image={image}\r\n                    subscribeFn={(e) => {\r\n                      e?.stopPropagation();\r\n                      onSubscribeToChannel(channel, BLOCKCHAIN[blockchain]);\r\n                    }}\r\n                    isSpam\r\n                    isSubscribedFn={async () => isSubscribedFn(subscribers)}\r\n                    chainName={blockchain}\r\n                  />\r\n                </div>\r\n              );\r\n            })}\r\n          </Items>\r\n        )}\r\n        {loading && !bgUpdateLoading && (\r\n          <Loader type=\"Oval\" color=\"#35c5f3\" height={40} width={40} />\r\n        )}\r\n        {!loading && !notifications.length && (\r\n          <CenteredContainerInfo>\r\n            <DisplayNotice\r\n              title=\"You currently have no spam notifications.\"\r\n              theme=\"third\"\r\n            />\r\n          </CenteredContainerInfo>\r\n        )}\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\nconst CenteredContainerInfo = styled.div`\r\n  padding: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\nconst Items = styled.div`\r\n  display: block;\r\n  align-self: stretch;\r\n  padding: 10px 20px;\r\n  overflow-y: scroll;\r\n  background: #fafafa;\r\n`;\r\n// css styles\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  font-weight: 200;\r\n  align-content: center;\r\n  align-items: center;\r\n  justify-content: center;\r\n  max-height: 100vh;\r\n  // padding: 20px;\r\n  // font-size: 16px;\r\n  // display: flex;\r\n  // font-weight: 200;\r\n  // align-content: center;\r\n  // align-items: center;\r\n  // justify-content: center;\r\n  // width: 100%;\r\n  // min-height: 40vh;\r\n`;\r\n// Export Default\r\nexport default SpamBox;","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { Waypoint } from \"react-waypoint\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { envConfig } from \"@project/contracts\";\r\nimport DisplayNotice from \"components/DisplayNotice\";\r\nimport SpamBox from \"./spam\";\r\nimport {\r\n  api,\r\n  utils,\r\n  NotificationItem,\r\n} from \"@epnsproject/frontend-sdk-staging\";\r\nimport {\r\n  addPaginatedNotifications,\r\n  incrementPage,\r\n  setFinishedFetching,\r\n  resetState,\r\n  updateTopNotifications,\r\n} from \"redux/slices/notificationSlice\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\n\r\nconst NOTIFICATIONS_PER_PAGE = 10;\r\n// Create Header\r\nfunction Feedbox() {\r\n  const dispatch = useDispatch();\r\n  const { account } = useWeb3React();\r\n  const { epnsCommReadProvider } = useSelector((state: any) => state.contracts);\r\n  const { notifications, page, finishedFetching, toggle } = useSelector(\r\n    (state: any) => state.notifications\r\n  );\r\n\r\n  const [bgUpdateLoading, setBgUpdateLoading] = React.useState(false);\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [currentTab, setCurrentTab] = React.useState(\"inbox\");\r\n\r\n  const loadNotifications = async () => {\r\n    if (loading || finishedFetching) return;\r\n    setLoading(true);\r\n    try {\r\n      const { count, results } = await api.fetchNotifications(\r\n        account,\r\n        NOTIFICATIONS_PER_PAGE,\r\n        page,\r\n        envConfig.apiUrl\r\n      );\r\n      const parsedResponse = utils.parseApiResponse(results);\r\n      dispatch(addPaginatedNotifications(parsedResponse));\r\n      if (count === 0) {\r\n        dispatch(setFinishedFetching());\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  const fetchLatestNotifications = async () => {\r\n    if (loading || bgUpdateLoading) return;\r\n    setBgUpdateLoading(true);\r\n    setLoading(true);\r\n    try {\r\n      const { count, results } = await api.fetchNotifications(\r\n        account,\r\n        NOTIFICATIONS_PER_PAGE,\r\n        1,\r\n        envConfig.apiUrl\r\n      );\r\n      if (!notifications.length) {\r\n        dispatch(incrementPage());\r\n      }\r\n      const parsedResponse = utils.parseApiResponse(results);\r\n      // replace the first 20 notifications with these\r\n      dispatch(\r\n        updateTopNotifications({\r\n          notifs: parsedResponse,\r\n          pageSize: NOTIFICATIONS_PER_PAGE,\r\n        })\r\n      );\r\n      if (count === 0) {\r\n        dispatch(setFinishedFetching());\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    } finally {\r\n      setBgUpdateLoading(false);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (account && currentTab === \"inbox\") {\r\n      fetchLatestNotifications();\r\n    }\r\n  }, [account, currentTab]);\r\n\r\n  React.useEffect(() => {\r\n    fetchLatestNotifications();\r\n  }, [toggle]);\r\n\r\n  //function to query more notifications\r\n  const handlePagination = async () => {\r\n    loadNotifications();\r\n    dispatch(incrementPage());\r\n  };\r\n\r\n  const showWayPoint = (index: any) => {\r\n    return (\r\n      Number(index) === notifications.length - 1 &&\r\n      !finishedFetching &&\r\n      !bgUpdateLoading\r\n    );\r\n  };\r\n  const [clicked, setClicked] = React.useState(false);\r\n\r\n  // Render\r\n  return (\r\n    <FullWidth>\r\n      <Wrapper>\r\n        {bgUpdateLoading && (\r\n          <div style={{ marginTop: \"10px\", marginLeft: \"21px\" }}>\r\n            <Loader type=\"Oval\" color=\"#35c5f3\" height={40} width={40} />\r\n          </div>\r\n        )}\r\n        <ControlButtonBack\r\n          active={currentTab == \"inbox\"}\r\n          onClick={() => {\r\n            setCurrentTab(\"inbox\");\r\n            setClicked(false);\r\n          }}\r\n        >\r\n          {/* Inbox */}\r\n          <img src=\"./arrow_back.png\" />\r\n          <img style={{ marginLeft: \"15px\" }} src=\"./svg/INBOX.svg\" />\r\n          {/* <ControlText color=\"#35C5F3\">INBOX</ControlText> */}\r\n        </ControlButtonBack>\r\n\r\n        <ControlButton\r\n          active={currentTab == \"spambox\"}\r\n          onClick={() => {\r\n            setCurrentTab(\"spambox\");\r\n            setClicked(true);\r\n          }}\r\n          spam\r\n        >\r\n          {/* spambox */}\r\n\r\n          {/* <Button style={{ border: '2px solid black',width:\"35px\",height:\"45px\",borderRadius:\"10px\" }} > */}\r\n          \r\n          <ControlImage active={currentTab == \"spambox\"} src=\"./spam-icon.png\"/>\r\n            {/* </Button> */}\r\n\r\n        </ControlButton>\r\n      </Wrapper>\r\n\r\n      {currentTab == \"spambox\" ? (\r\n        <SpamBox currentTab={currentTab} />\r\n      ) : (\r\n        <Container>\r\n          {notifications && (\r\n            <Items id=\"scrollstyle-secondary\">\r\n              {notifications.map((oneNotification, index) => {\r\n                const {\r\n                  cta,\r\n                  title,\r\n                  message,\r\n                  app,\r\n                  icon,\r\n                  image,\r\n                  url,\r\n                  blockchain\r\n                } = oneNotification;\r\n\r\n\r\n                // render the notification item\r\n                return (\r\n                  <div key={`${message}+${title}`}>\r\n                    {showWayPoint(index) && (\r\n                      <Waypoint onEnter={() => handlePagination()} />\r\n                    )}\r\n                    <NotificationItem\r\n                      notificationTitle={title}\r\n                      notificationBody={message}\r\n                      cta={cta}\r\n                      app={app}\r\n                      icon={icon}\r\n                      url={url}\r\n                      image={image}\r\n                      chainName={blockchain}\r\n                    />\r\n                  </div>\r\n                );\r\n              })}\r\n            </Items>\r\n          )}\r\n          {loading && !bgUpdateLoading && (\r\n            <Loader type=\"Oval\" color=\"#35c5f3\" height={40} width={40} />\r\n          )}\r\n          {!notifications.length && !loading && (\r\n            <CenteredContainerInfo>\r\n              <DisplayNotice\r\n                title=\"You currently have no notifications, try subscribing to some channels.\"\r\n                theme=\"third\"\r\n              />\r\n            </CenteredContainerInfo>\r\n          )}\r\n        </Container>\r\n      )}\r\n    </FullWidth>\r\n  );\r\n}\r\n\r\n// const Controls = styled.div`\r\n//   flex: 0;\r\n//   display: flex;\r\n//   flex-direction: row;\r\n//   display: flex;\r\n//   flex-wrap: wrap;\r\n//   justify-content: space-between;\r\n// `;\r\n\r\nconst ControlButtonBack = styled.div`\r\n  flex: 1 1 21%;\r\n  height: 20px;\r\n  min-width: 70px;\r\n  background: #fff;\r\n  margin-top: 10px;\r\n  margin-left: 27px;\r\n\r\n  overflow: hidden;\r\n  background: #fafafa;\r\n\r\n  display: flex;\r\n  visibility:${(props) => (props.active ? \"hidden\" : \"\")};\r\n\r\n  // opacity: ${(props) => (props.active ? \"1\" : \"0.4\")};\r\n\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`;\r\n\r\nconst ControlButton = styled.div`\r\n  display: flex;\r\n  height: 44px;\r\n  min-width: 40px;\r\n  border-radius: 10px;\r\n  margin-right: 30px;\r\n  margin-bottom: 20px;\r\n\r\n  // opacity: ${(props) => (props.active ? \"1\" : \"0.4\")};\r\n  // background-color: ${(props) => (props.active ? \"#E20880\" : \"\")};\r\n\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`;\r\n\r\nconst ControlImage = styled.img`\r\n  height: 40px;\r\n  width: 40px;\r\n  \r\n\r\n\r\n`;\r\n\r\nconst ControlText = styled.div`\r\n  font-size: 20px;\r\n  font-weight: 400;\r\n  margin-left: 15px;\r\n  opacity: ${(props) => (props.active ? \"1\" : \"0.75\")};\r\n`;\r\n\r\nconst FullWidth = styled.div`\r\n  width: 100%;\r\n`;\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding-top: 20px;\r\n  background: #fafafa;\r\n`;\r\n\r\nconst EmptyWrapper = styled.div`\r\n  padding-top: 50px;\r\n  padding-bottom: 50px;\r\n`;\r\nconst CenteredContainerInfo = styled.div`\r\n  padding: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst Items = styled.div`\r\n  display: block;\r\n  align-self: stretch;\r\n  padding: 10px 20px;\r\n  overflow-y: scroll;\r\n  background: #fafafa;\r\n`;\r\n// css styles\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n\r\n  font-weight: 200;\r\n  align-content: center;\r\n  align-items: center;\r\n  justify-content: center;\r\n  max-height: 100vh;\r\n\r\n  // padding: 20px;\r\n  // font-size: 16px;\r\n  // display: flex;\r\n  // font-weight: 200;\r\n  // align-content: center;\r\n  // align-items: center;\r\n  // justify-content: center;\r\n  // width: 100%;\r\n  // min-height: 40vh;\r\n`;\r\n\r\n// Export Default\r\nexport default Feedbox;\r\n","const size = {\r\n  mobileS: '320px',\r\n  mobileM: '375px',\r\n  mobileL: '425px',\r\n  tablet: '768px',\r\n  laptop: '1024px',\r\n  laptopL: '1440px',\r\n  desktop: '2560px'\r\n}\r\n\r\nexport const Device = {\r\n  mobileS: `(max-width: ${size.mobileS})`,\r\n  mobileM: `(max-width: ${size.mobileM})`,\r\n  mobileL: `(max-width: ${size.mobileL})`,\r\n  tablet: `(max-width: ${size.tablet})`,\r\n  laptop: `(max-width: ${size.laptop})`,\r\n  laptopL: `(max-width: ${size.laptopL})`,\r\n  desktop: `(max-width: ${size.desktop})`,\r\n  desktopL: `(max-width: ${size.desktop})`\r\n};\r\n","import EPNSCoreHelper from \"helpers/EPNSCoreHelper\";\r\nimport { ethers } from \"ethers\";\r\n\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport { postReq } from \"api\";\r\n\r\n// STATIC SINGLETON\r\nexport const ChannelEvents = {\r\n  ADD_CHANNEL_ANY: \"AddChannelAny\",\r\n  ADD_CHANNEL_SELF: \"AddChannelSelf\",\r\n  UPDATE_CHANNEL_ANY: \"UpdateChannelAny\",\r\n  UPDATE_CHANNEL_SELF: \"UpdateChannelSelf\",\r\n  SUBSCRIBER_ANY_CHANNEL: \"SubscriberAnyChannel\",\r\n  SUBSCRIBER_SELF_CHANNEL: \"SubscriberSelfChannel\",\r\n  UNSUBSCRIBER_ANY_CHANNEL: \"UnsubscriberAnyChannel\",\r\n  UNSUBSCRIBER_SELF_CHANNEL: \"UnsubscriberSelfChannel\",\r\n};\r\n\r\nexport default class ChannelsDataStore {\r\n  static instance = ChannelsDataStore.instance || new ChannelsDataStore();\r\n\r\n  state = {\r\n    channelsCount: -1,\r\n    channelsMeta: {},\r\n    channelsJson: {},\r\n    subscribers: {},\r\n\r\n    callbacks: [],\r\n\r\n    account: null,\r\n    chainId: null,\r\n    epnsReadProvider: null,\r\n    epnsCommReadProvider: null,\r\n  };\r\n\r\n  // init\r\n  init = (account, chainId, epnsReadProvider, epnsCommReadProvider) => {\r\n    // set account and chainId\r\n    this.state.account = account;\r\n    this.state.chainId = chainId;\r\n\r\n    // First attach listeners then overwrite the old one if any\r\n    this.resetChannelsListeners();\r\n    this.state.epnsReadProvider = epnsReadProvider;\r\n    this.state.epnsCommReadProvider = epnsCommReadProvider;\r\n    this.initChannelsListenersAsync();\r\n\r\n    // next get store channels count\r\n    this.getChannelsCountAsync();\r\n  };\r\n\r\n  // RESET LISTENERS\r\n  resetChannelsListeners = () => {\r\n    // only proceed if a read provider is attached\r\n    if (this.state.epnsReadProvider) {\r\n      this.state.epnsReadProvider.removeAllListeners(\"AddChannel\");\r\n      this.state.epnsReadProvider.removeAllListeners(\"UpdateChannel\");\r\n      this.state.epnsCommReadProvider.removeAllListeners(\"Subscribe\");\r\n      this.state.epnsCommReadProvider.removeAllListeners(\"Unsubscribe\");\r\n    }\r\n  };\r\n\r\n  // init LISTENERS\r\n  initChannelsListenersAsync = async () => {\r\n    // Add Listeners\r\n    await this.listenForAddChannelAnyAsync();\r\n    await this.listenForAddChannelSelfAsync();\r\n\r\n    await this.listenForUpdateChannelAnyAsync();\r\n    await this.listenForUpdateChannelSelfAsync();\r\n\r\n    // use the communicator contract for the below\r\n    await this.listenForSubscribeAnyAsync();\r\n    await this.listenForSubscribeSelfAsync();\r\n    await this.listenForUnsubscribeAnyAsync();\r\n    await this.listenForUnsubscribeSelfAsync();\r\n  };\r\n\r\n  // 1. Add Any Channel Listeners\r\n  listenForAddChannelAnyAsync = async () => {\r\n    const contract = this.state.epnsReadProvider;\r\n    let filter = contract.filters.AddChannel(null, null);\r\n\r\n    contract.on(filter, async (channel, ipfs) => {\r\n      // Do own stuff\r\n      await this.incrementChannelsCountAsync(1);\r\n\r\n      // then perform callbacks\r\n      if (this.state.callbacks[ChannelEvents.ADD_CHANNEL_ANY]) {\r\n        for (let [callbackID, callback] of Object.entries(\r\n          this.state.callbacks[ChannelEvents.ADD_CHANNEL_ANY]\r\n        )) {\r\n          if (callback) {\r\n            callback(channel, ipfs);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  // 2. Add Self Channel Listener\r\n  listenForAddChannelSelfAsync = async () => {\r\n    const contract = this.state.epnsReadProvider;\r\n    let filter = contract.filters.AddChannel(this.state.account, null);\r\n\r\n    contract.on(filter, async (channel, ipfs) => {\r\n      // Do own stuff\r\n      // Nothing to do, just do callback\r\n\r\n      // then perform callbacks\r\n      if (this.state.callbacks[ChannelEvents.ADD_CHANNEL_SELF]) {\r\n        for (let [callbackID, callback] of Object.entries(\r\n          this.state.callbacks[ChannelEvents.ADD_CHANNEL_SELF]\r\n        )) {\r\n          if (callback) {\r\n            callback(channel, ipfs);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  // 3. Update Any Channel Listener\r\n  listenForUpdateChannelAnyAsync = async () => {\r\n    const contract = this.state.epnsReadProvider;\r\n    let filter = contract.filters.UpdateChannel(null, null);\r\n\r\n    contract.on(filter, async (channel, ipfs) => {\r\n      // then perform callbacks\r\n      if (this.state.callbacks[ChannelEvents.UPDATE_CHANNEL_ANY]) {\r\n        for (let [callbackID, callback] of Object.entries(\r\n          this.state.callbacks[ChannelEvents.UPDATE_CHANNEL_ANY]\r\n        )) {\r\n          if (callback) {\r\n            callback(channel, ipfs);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  // 4. Update Self Channel Listener\r\n  listenForUpdateChannelSelfAsync = async () => {\r\n    const contract = this.state.epnsReadProvider;\r\n    let filter = contract.filters.UpdateChannel(this.state.account, null);\r\n\r\n    contract.on(filter, async (channel, ipfs) => {\r\n      // then perform callbacks\r\n      if (this.state.callbacks[ChannelEvents.UPDATE_CHANNEL_SELF]) {\r\n        for (let [callbackID, callback] of Object.entries(\r\n          this.state.callbacks[ChannelEvents.UPDATE_CHANNEL_SELF]\r\n        )) {\r\n          if (callback) {\r\n            callback(channel, ipfs);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  // 5. Subscriber Any\r\n  listenForSubscribeAnyAsync = async () => {\r\n    const contract = this.state.epnsCommReadProvider;\r\n    let filter = contract.filters.Subscribe(null, null);\r\n\r\n    contract.on(filter, async (channel, user) => {\r\n      //   // Do own stuff\r\n      //   if (this.state.channelsMeta[channel]) {\r\n      //     const channelID = this.state.channelsMeta[channel];\r\n      //     let count = this.state.channelsMeta[channelID].memberCount.toNumber();\r\n      //     count = count + 1;\r\n      //     this.state.channelsMeta[channelID].memberCount = bigNumberify(count);\r\n      //   }\r\n\r\n      // then perform callbacks\r\n      if (this.state.callbacks[ChannelEvents.SUBSCRIBER_ANY_CHANNEL]) {\r\n        for (let [callbackID, callback] of Object.entries(\r\n          this.state.callbacks[ChannelEvents.SUBSCRIBER_ANY_CHANNEL]\r\n        )) {\r\n          if (callback) {\r\n            callback(channel, user);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  // 6. Subscriber Self\r\n  listenForSubscribeSelfAsync = async () => {\r\n    const contract = this.state.epnsCommReadProvider;\r\n    let filter = contract.filters.Subscribe(this.state.account, null);\r\n\r\n    contract.on(filter, async (channel, user) => {\r\n      // then perform callbacks\r\n      if (this.state.callbacks[ChannelEvents.SUBSCRIBER_SELF_CHANNEL]) {\r\n        for (let [callbackID, callback] of Object.entries(\r\n          this.state.callbacks[ChannelEvents.SUBSCRIBER_SELF_CHANNEL]\r\n        )) {\r\n          if (callback) {\r\n            callback(channel, user);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  // 7. Unsubscribe Any\r\n  listenForUnsubscribeAnyAsync = async () => {\r\n    const contract = this.state.epnsCommReadProvider;\r\n    let filter = contract.filters.Unsubscribe(null, null);\r\n\r\n    contract.on(filter, async (channel, user) => {\r\n      // Do own stuff\r\n      // if (this.state.channelsMeta[channel]) {\r\n      //   const channelID = this.state.channelsMeta[channel];\r\n      //   let count = this.state.channelsMeta[channelID].memberCount.toNumber();\r\n      //   count = count - 1;\r\n      //   this.state.channelsMeta[channelID].memberCount = bigNumberify(count);\r\n      // }\r\n\r\n      // then perform callbacks\r\n      if (this.state.callbacks[ChannelEvents.UNSUBSCRIBER_ANY_CHANNEL]) {\r\n        for (let [callbackID, callback] of Object.entries(\r\n          this.state.callbacks[ChannelEvents.UNSUBSCRIBER_ANY_CHANNEL]\r\n        )) {\r\n          if (callback) {\r\n            callback(channel, user);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  // 8. Unsubscribe Self\r\n  listenForUnsubscribeSelfAsync = async () => {\r\n    const contract = this.state.epnsCommReadProvider;\r\n    let filter = contract.filters.Unsubscribe(this.state.account, null);\r\n\r\n    contract.on(filter, async (channel, user) => {\r\n      // then perform callbacks\r\n      if (this.state.callbacks[ChannelEvents.UNSUBSCRIBER_SELF_CHANNEL]) {\r\n        for (let [callbackID, callback] of Object.entries(\r\n          this.state.callbacks[ChannelEvents.UNSUBSCRIBER_SELF_CHANNEL]\r\n        )) {\r\n          if (callback) {\r\n            callback(channel, user);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  // FOR CALLBACKS\r\n  addCallbacks = (callbackType, callbackID, callback) => {\r\n    // first check if callback already exists\r\n    if (!this.state.callbacks[callbackType]) {\r\n      this.state.callbacks[callbackType] = {};\r\n    }\r\n\r\n    if (!this.state.callbacks[callbackType][callbackID]) {\r\n      this.state.callbacks[callbackType][callbackID] = callback;\r\n    }\r\n  };\r\n\r\n  removeCallbacks = (callbackType, callbackID) => {\r\n    // first check if callback already exists\r\n    if (this.state.callbacks[callbackType][callbackID]) {\r\n      this.state.callbacks[callbackType][callbackID] = null;\r\n    }\r\n  };\r\n\r\n  // CHANNELS COUNT\r\n  getChannelsCountAsync = async () => {\r\n    const enableLogs = 0;\r\n\r\n    return new Promise(async (resolve, reject) => {\r\n      if (this.state.channelsCount == -1) {\r\n        // Count not set, get and set it first\r\n        const count = EPNSCoreHelper.getTotalNumberOfChannels(\r\n          this.state.epnsReadProvider\r\n        )\r\n          .then((response) => {\r\n            this.state.channelsCount = response;\r\n\r\n            if (enableLogs)\r\n              console.log(\"getChannelsCountAsync() --> %o\", response);\r\n            resolve(this.state.channelsCount);\r\n          })\r\n          .catch((err) => {\r\n            console.log(\"!!!Error, getChannelsCountAsync() --> %o\", err);\r\n            reject(err);\r\n          });\r\n      } else {\r\n        resolve(this.state.channelsCount);\r\n      }\r\n    });\r\n  };\r\n\r\n  incrementChannelsCountAsync = async (incrementCount) => {\r\n    return new Promise((resolve, reject) => {\r\n      this.getChannelsCountAsync()\r\n        .then((response) => {\r\n          this.state.channelsCount = response + incrementCount;\r\n          console.log(\r\n            \"incrementChannelsCountAsync() --> %d\",\r\n            this.state.channelsCount\r\n          );\r\n          resolve(this.state.channelsCount);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"!!!Error, incrementChannelsCountAsync() --> %o\", err);\r\n          reject(err);\r\n        });\r\n    });\r\n  };\r\n  /**\r\n   * Get paginated channel information\r\n   * @param {Number} startIndex the number of channels viewed so far e.g 50\r\n   * @param {Number} pageCount the number of items per page we want\r\n   * @returns\r\n   */\r\n  getChannelFromApi = async (startIndex, pageCount, account) => {\r\n    return postReq(\"/channels/get_channels_with_sub\", {\r\n      page: Math.ceil(startIndex / pageCount) || 1,\r\n      pageSize: pageCount,\r\n      op: \"read\",\r\n      blockchain: this.state.chainId,\r\n      address: account,\r\n    }).then((response) => {\r\n      const output = response.data.channelsDetail.map(({ channel, memberCount, isSubscriber }) => ({\r\n        addr: channel,\r\n        memberCount: memberCount,\r\n        isSubscriber: isSubscriber\r\n      }));\r\n      return output;\r\n    });\r\n  };\r\n  // CHANNELS META FUNCTIONS\r\n  // To get channels meta\r\n  // get channels meta in a paginated format\r\n  // by passing in the starting index and the number of items per page\r\n  getChannelsMetaAsync = async (startIndex, pageCount) => {\r\n    this.getChannelFromApi(startIndex, pageCount, this.state.account);\r\n    return new Promise(async (resolve, reject) => {\r\n      // get total number of channels\r\n      const channelsCount = await this.getChannelsCountAsync();\r\n      let stopIndex = startIndex + pageCount;\r\n\r\n      // if the stop index is -1 then get all channels\r\n      if (stopIndex == -1 || stopIndex > channelsCount) {\r\n        stopIndex = channelsCount;\r\n      }\r\n\r\n      // initialise an array with the values from 0 to the length of the number of channels\r\n      let channelIDs = [];\r\n\r\n      for (let i = startIndex; i < stopIndex; i++) {\r\n        channelIDs.push(i);\r\n      }\r\n      console.log({ channelIDs });\r\n\r\n      const promises = channelIDs.map(async (channelID) => {\r\n        // Match the cache\r\n        return this.getChannelMetaAsync(channelID)\r\n          .then((response) => response)\r\n          .catch((err) =>\r\n            console.log(\r\n              \"!!!Error (but skipping), getChannelMetaAsync() --> %o\",\r\n              err\r\n            )\r\n          );\r\n      });\r\n\r\n      // wait until all promises are resolved\r\n      const channelMetaData = await Promise.all(promises);\r\n\r\n      // return channels meta\r\n      // console.log(\"getChannelsMetaAsync(From %d to %d) --> %o\", startIndex, stopIndex, channelMetaData);\r\n      resolve(channelMetaData);\r\n    });\r\n  };\r\n\r\n  // To get a single channel meta via id\r\n  getChannelMetaAsync = async (channelID) => {\r\n    return new Promise(async (resolve, reject) => {\r\n      if (this.state.channelsMeta[channelID]) {\r\n        console.log(\r\n          \"getChannelMetaAsync() [CACHED] --> %o\",\r\n          this.state.channelsMeta[channelID]\r\n        );\r\n        resolve(this.state.channelsMeta[channelID]);\r\n      } else {\r\n        let channelAddress;\r\n\r\n        await EPNSCoreHelper.getChannelAddressFromID(\r\n          channelID,\r\n          this.state.epnsReadProvider\r\n        )\r\n          .then(async (response) => {\r\n            channelAddress = response;\r\n            await this.getChannelMetaViaAddressAsync(channelAddress).then(\r\n              (response) => {\r\n                // update the channel cache before resolving\r\n                this.state.channelsMeta[channelID] = response;\r\n                this.state.channelsMeta[channelAddress] = channelID;\r\n\r\n                // resolve\r\n                // console.log(\"getChannelMetaAsync() [Address: %s] --> %o\", channelAddress, response);\r\n                resolve(response);\r\n              }\r\n            );\r\n          })\r\n          .catch((err) => {\r\n            console.log(\"!!!Error, getChannelMetaAsync() --> %o\", err);\r\n            reject(err);\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  // To get a single channel meta via address\r\n  getChannelMetaViaAddressAsync = async (channelAddress) => {\r\n    return new Promise(async (resolve, reject) => {\r\n      if (this.state.channelsMeta[channelAddress]) {\r\n        const channelID = this.state.channelsMeta[channelAddress];\r\n\r\n        console.log(\r\n          \"getChannelMetaViaAddressAsync() [CACHED] --> %o\",\r\n          this.state.channelsMeta[channelID]\r\n        );\r\n        resolve(this.state.channelsMeta[channelID]);\r\n      } else {\r\n        // Can't cache this :(, no way to know channel id\r\n        await EPNSCoreHelper.getChannelInfo(\r\n          channelAddress,\r\n          this.state.epnsReadProvider\r\n        )\r\n          .then((response) => {\r\n            // resolve\r\n            // console.log(\"getChannelMetaViaAddressAsync() [Address: %s] --> %o\", channelAddress, response);\r\n            resolve(response);\r\n          })\r\n          .catch((err) => {\r\n            console.log(\r\n              \"!!!Error, getChannelMetaViaAddressAsync() --> %o\",\r\n              err\r\n            );\r\n            reject(err);\r\n          });\r\n      }\r\n    });\r\n  };\r\n  optInCache = async (channelAddress, userAddress) => {\r\n    const cachedSubscribers = [...this.state.subscribers[channelAddress]];\r\n    if (!cachedSubscribers) return;\r\n    this.state.subscribers[channelAddress] = [\r\n      ...cachedSubscribers,\r\n      userAddress,\r\n    ];\r\n    return cachedSubscribers;\r\n  };\r\n\r\n  optOutCache = async (channelAddress, userAddress) => {\r\n    const cachedSubscribers = [...this.state.subscribers[channelAddress]];\r\n    if (!cachedSubscribers) return;\r\n    this.state.subscribers[channelAddress] = cachedSubscribers.filter(\r\n      (sub) => sub != userAddress\r\n    );\r\n    return cachedSubscribers;\r\n  };\r\n\r\n  getChannelSubscribers = async (channelAddress, chainId) => {\r\n    const cachedSubscribers = this.state.subscribers[channelAddress];\r\n    if (cachedSubscribers) {\r\n      return cachedSubscribers;\r\n    }\r\n    return postReq(\"/channels/get_subscribers\", {\r\n      channel: channelAddress,\r\n      blockchain: chainId,\r\n      op: \"read\",\r\n    })\r\n      .then(({ data }) => {\r\n        const subs = data.subscribers;\r\n        this.state.subscribers[channelAddress] = subs;\r\n        return subs;\r\n      })\r\n      .catch((err) => {\r\n        console.log(`getChannelSubscribers => ${err.message}`);\r\n        return [];\r\n      });\r\n  };\r\n\r\n  // CHANNELS INFO FUNCTIONS\r\n  // To get a single channel meta via id\r\n  getChannelJsonAsync = async (channelAddress) => {\r\n    return new Promise(async (resolve, reject) => {\r\n      if (this.state.channelsJson[channelAddress]) {\r\n        // console.log(\"getChannelJsonAsync() [CACHED] --> %o\", this.state.channelsJson[channelAddress]);\r\n        resolve(this.state.channelsJson[channelAddress]);\r\n      } else {\r\n        await EPNSCoreHelper.getChannelJsonFromChannelAddress(\r\n          channelAddress,\r\n          this.state.epnsReadProvider\r\n        )\r\n          .then((response) => {\r\n            // First set the cache\r\n            this.state.channelsJson[channelAddress] = response;\r\n\r\n            // resolve\r\n            // console.log(\"getChannelJsonAsync() [Address: %s] --> %o\", channelAddress, response);\r\n            resolve(response);\r\n          })\r\n          .catch((err) => {\r\n            console.log(\"!!!Error, getChannelJsonAsync() --> %o\", err);\r\n            reject(err);\r\n          });\r\n      }\r\n    });\r\n  };\r\n}\r\n","/**\r\n * This file helps us maintain the channels fetched in state, such that when we leave the tab, the channels can be fetched from memory\r\n */\r\nimport { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  CHANNNEL_DEACTIVATED_STATE: 2,\r\n  CHANNEL_BLOCKED_STATE: 3,\r\n  CHANNEL_ACTIVE_STATE: 1,\r\n  CHANNEL_BLACKLIST: [], //a list of channels\r\n  page: 0,\r\n  channels: [], // the channels meta-data\r\n  channelsCache: {}, // a mapping of channel address to channel details\r\n};\r\n\r\nexport const contractSlice = createSlice({\r\n  name: \"channels\",\r\n  initialState,\r\n  reducers: {\r\n    setChannelMeta: (state, action) => {\r\n      state.channels = action.payload;\r\n    },\r\n    incrementPage: (state) => {\r\n      state.page += 1;\r\n    },\r\n    cacheChannelInfo: (state, action) => {\r\n      const { address, meta } = action.payload;\r\n      state.channelsCache[address] = meta;\r\n    },\r\n    subscribeChannel: (state, action) => {\r\n      const { address } = action.payload;\r\n      let channelIndex;\r\n      state.channels.find((channel, index) => {\r\n        if (channel.addr === address) {\r\n          channelIndex = index;\r\n          return true;\r\n        }\r\n      });\r\n      state.channels[channelIndex].isSubscriber = true;\r\n      state.channels[channelIndex].memberCount++;\r\n    },\r\n    unsubscribeChannel: (state, action) => {\r\n      const { address } = action.payload;\r\n      let channelIndex;\r\n      state.channels.find((channel, index) => {\r\n        if (channel.addr === address) {\r\n          channelIndex = index;\r\n          return true;\r\n        }\r\n      });\r\n      state.channels[channelIndex].isSubscriber = false;\r\n      state.channels[channelIndex].memberCount--;\r\n    }\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const {\r\n  setChannelMeta,\r\n  incrementPage,\r\n  cacheChannelInfo,\r\n  subscribeChannel,\r\n  unsubscribeChannel\r\n} = contractSlice.actions;\r\n\r\nexport default contractSlice.reducer;\r\n","import React from \"react\";\r\nimport styled, { css } from \"styled-components\";\r\nimport { Device } from \"assets/Device\";\r\n\r\nimport { toast as toaster } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.min.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport Skeleton from \"@yisheng90/react-loading\";\r\nimport { IoMdPeople } from \"react-icons/io\";\r\nimport { GoVerified } from \"react-icons/go\";\r\nimport { FaRegAddressCard } from \"react-icons/fa\";\r\nimport { AiOutlineShareAlt } from \"react-icons/ai\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { postReq } from \"api\";\r\nimport NotificationToast from \"components/NotificationToast\";\r\nimport ChannelsDataStore from \"singletons/ChannelsDataStore\";\r\nimport { cacheChannelInfo, subscribeChannel, unsubscribeChannel } from \"redux/slices/channelSlice\";\r\n\r\n// Create Header\r\nfunction ViewChannelItem({ channelObjectProp }) {\r\n  const dispatch = useDispatch();\r\n  const {\r\n    epnsReadProvider,\r\n    epnsWriteProvider,\r\n    epnsCommReadProvider,\r\n    pushAdminAddress,\r\n    ZERO_ADDRESS,\r\n  } = useSelector((state) => state.contracts);\r\n  const { canVerify } = useSelector((state) => state.admin);\r\n  const { channelsCache, CHANNEL_BLACKLIST } = useSelector(\r\n    (state) => state.channels\r\n  );\r\n  const { account, library, chainId } = useWeb3React();\r\n  const isOwner = channelObjectProp.addr === account;\r\n\r\n  const [channelObject, setChannelObject] = React.useState({});\r\n  const [channelJson, setChannelJson] = React.useState({});\r\n  const [subscribed, setSubscribed] = React.useState(true);\r\n  const [loading, setLoading] = React.useState(true);\r\n  const [memberCount, setMemberCount] = React.useState(0);\r\n  const [isPushAdmin, setIsPushAdmin] = React.useState(false);\r\n  const [isVerified, setIsVerified] = React.useState(false);\r\n  const [isBlocked, setIsBlocked] = React.useState(false);\r\n  const [vLoading, setvLoading] = React.useState(false);\r\n  const [bLoading, setBLoading] = React.useState(false);\r\n  const [txInProgress, setTxInProgress] = React.useState(false);\r\n  const [canUnverify, setCanUnverify] = React.useState(false);\r\n  const [verifierDetails, setVerifierDetails] = React.useState(null);\r\n  const [copyText, setCopyText] = React.useState(null);\r\n\r\n  // ------ toast related section\r\n  const isChannelBlacklisted = CHANNEL_BLACKLIST.includes(channelObject.addr);\r\n  const [toast, showToast] = React.useState(null);\r\n  const clearToast = () => showToast(null);\r\n\r\n  //clear toast variable after it is shown\r\n  React.useEffect(() => {\r\n    if (toast) {\r\n      clearToast();\r\n    }\r\n  }, [toast]);\r\n  // ------ toast related section\r\n\r\n  React.useEffect(() => {\r\n    if (!channelObject.addr) return;\r\n    if (channelObject.verifiedBy) {\r\n      // procced as usual\r\n      fetchChannelJson().catch((err) => alert(err.message));\r\n      setIsBlocked(\r\n        channelObject.channelState === 3 || channelObject.channelState === 2 //dont display channel if blocked //dont display channel if deactivated\r\n      );\r\n    } else {\r\n      // if this key (verifiedBy) is not present it means we are searching and should fetch the channel object from chain again\r\n      epnsReadProvider.channels(channelObject.addr).then((response) => {\r\n        setChannelObject({ ...response, addr: channelObject.addr });\r\n        fetchChannelJson();\r\n      });\r\n    }\r\n  }, [account, channelObject, chainId]);\r\n\r\n  React.useEffect(() => {\r\n    if (!channelObjectProp) return;\r\n    setChannelObject(channelObjectProp);\r\n    setMemberCount(channelObjectProp.memberCount);\r\n    setSubscribed(channelObjectProp.isSubscriber);\r\n  }, [channelObjectProp]);\r\n\r\n  React.useEffect(() => {\r\n    if (!isVerified || channelObject?.verifiedBy === ZERO_ADDRESS) return;\r\n    ChannelsDataStore.instance\r\n      .getChannelJsonAsync(channelObject.verifiedBy)\r\n      .then((verifierDetails) => {\r\n        setVerifierDetails(verifierDetails);\r\n      })\r\n      .catch((err) => {\r\n        console.log(channelObject.verifiedBy, err);\r\n      });\r\n  }, [isVerified, channelObject]);\r\n\r\n  const EPNS_DOMAIN = {\r\n    name: \"EPNS COMM V1\",\r\n    chainId: chainId,\r\n    verifyingContract: epnsCommReadProvider.address,\r\n  };\r\n  // to fetch channels\r\n  const fetchChannelJson = async () => {\r\n    try {\r\n      let channelJson = {};\r\n      setCopyText(channelObject.addr);\r\n      if (channelsCache[channelObject.addr]) {\r\n        channelJson = channelsCache[channelObject.addr];\r\n      } else {\r\n        channelJson = await ChannelsDataStore.instance.getChannelJsonAsync(\r\n          channelObject.addr\r\n        );\r\n        dispatch(\r\n          cacheChannelInfo({\r\n            address: channelObject.addr,\r\n            meta: channelJson,\r\n          })\r\n        );\r\n      }\r\n      // const channelSubscribers = await ChannelsDataStore.instance.getChannelSubscribers(channelObject.addr);\r\n      // const subscribed = channelSubscribers.find((sub) => {\r\n      //   return sub.toLowerCase() === account.toLowerCase();\r\n      // });\r\n\r\n      setIsPushAdmin(pushAdminAddress === account);\r\n      // setMemberCount(channelSubscribers.length);\r\n      // setSubscribed(subscribed);\r\n      setChannelJson({ ...channelJson, addr: channelObject.addr });\r\n      setLoading(false);\r\n    } catch (err) {\r\n      setIsBlocked(true);\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (!channelObject) return;\r\n    setIsVerified(\r\n      Boolean(\r\n        (channelObject.verifiedBy &&\r\n          channelObject.verifiedBy !== ZERO_ADDRESS) ||\r\n          channelObject.addr === pushAdminAddress\r\n      )\r\n    );\r\n    setCanUnverify(channelObject.verifiedBy == account);\r\n  }, [channelObject]);\r\n\r\n  // toast customize\r\n  const LoaderToast = ({ msg, color }) => (\r\n    <Toaster>\r\n      <Loader type=\"Oval\" color={color} height={30} width={30} />\r\n      <ToasterMsg>{msg}</ToasterMsg>\r\n    </Toaster>\r\n  );\r\n\r\n  // to subscribe\r\n  const subscribe = async () => {\r\n    subscribeAction(false);\r\n  };\r\n  const formatAddress = (addressText) => {\r\n    return addressText.length > 40\r\n      ? `${addressText.slice(0, 4)}....${addressText.slice(36)}`\r\n      : addressText;\r\n  };\r\n\r\n  // Toastify\r\n  let notificationToast = () =>\r\n    toaster.dark(<LoaderToast msg=\"Preparing Notification\" color=\"#fff\" />, {\r\n      position: \"bottom-right\",\r\n      autoClose: false,\r\n      hideProgressBar: true,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n\r\n  const verifyChannel = () => {\r\n    setvLoading(true);\r\n    // post op\r\n    epnsWriteProvider\r\n      .verifyChannel(channelObject.addr)\r\n      .then(async (tx) => {\r\n        console.log(tx);\r\n        console.log(\"Transaction Sent!\");\r\n\r\n        toaster.update(notificationToast(), {\r\n          render: \"Transaction sent\",\r\n          type: toaster.TYPE.INFO,\r\n          autoClose: 5000,\r\n        });\r\n\r\n        await tx.wait(1);\r\n        console.log(\"Transaction Mined!\");\r\n        setIsVerified(true);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"!!!Error verifyChannel() --> %o\", err);\r\n        toaster.update(notificationToast(), {\r\n          render: \"Transacion Failed: \" + err.error?.message || \"Unknown Error\",\r\n          type: toaster.TYPE.ERROR,\r\n          autoClose: 5000,\r\n        });\r\n      })\r\n      .finally(() => {\r\n        setvLoading(false);\r\n      });\r\n  };\r\n\r\n  const unverifyChannel = () => {\r\n    setvLoading(true);\r\n    epnsWriteProvider\r\n      .unverifyChannel(channelObject.addr)\r\n      .then(async (tx) => {\r\n        console.log(tx);\r\n        console.log(\"Transaction Sent!\");\r\n\r\n        toaster.update(notificationToast(), {\r\n          render: \"Transaction sent\",\r\n          type: toaster.TYPE.INFO,\r\n          autoClose: 5000,\r\n        });\r\n\r\n        await tx.wait(1);\r\n        console.log(\"Transaction Mined!\");\r\n        setIsVerified(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"!!!Error handleSendMessage() --> %o\", err);\r\n        toaster.update(notificationToast(), {\r\n          render: \"Transacion Failed: \" + err.error?.message || \"Unknown Error\",\r\n          type: toaster.TYPE.ERROR,\r\n          autoClose: 5000,\r\n        });\r\n      });\r\n    setvLoading(false);\r\n  };\r\n  const blockChannel = () => {\r\n    setBLoading(true);\r\n    epnsWriteProvider\r\n      .blockChannel(channelObject.addr)\r\n      .then(async (tx) => {\r\n        console.log(tx);\r\n        console.log(\"Transaction Sent!\");\r\n\r\n        toaster.update(notificationToast(), {\r\n          render: \"Transaction Sent\",\r\n          type: toaster.TYPE.INFO,\r\n          autoClose: 5000,\r\n        });\r\n\r\n        // await tx.wait(1);\r\n        // console.log (\"Transaction Mined!\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"!!!Error handleSendMessage() --> %o\", err);\r\n        toaster.update(notificationToast(), {\r\n          render: \"Transacion Failed: \" + err.error.message,\r\n          type: toaster.TYPE.ERROR,\r\n          autoClose: 5000,\r\n        });\r\n      })\r\n      .finally(() => {\r\n        // post op\r\n        setBLoading(false);\r\n        setIsBlocked(true);\r\n      });\r\n  };\r\n\r\n  const subscribeAction = async () => {\r\n    setTxInProgress(true);\r\n    let txToast;\r\n    try {\r\n      const type = {\r\n        Subscribe: [\r\n          { name: \"channel\", type: \"address\" },\r\n          { name: \"subscriber\", type: \"address\" },\r\n          { name: \"action\", type: \"string\" },\r\n        ],\r\n      };\r\n      const message = {\r\n        channel: channelObject.addr,\r\n        subscriber: account,\r\n        action: \"Subscribe\",\r\n      };\r\n\r\n      const signature = await library\r\n        .getSigner(account)\r\n        ._signTypedData(EPNS_DOMAIN, type, message);\r\n      txToast = toaster.dark(\r\n        <LoaderToast msg=\"Waiting for Confirmation...\" color=\"#35c5f3\" />,\r\n        {\r\n          position: \"bottom-right\",\r\n          autoClose: false,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        }\r\n      );\r\n\r\n      postReq(\"/channels/subscribe_offchain\", {\r\n        signature,\r\n        message,\r\n        op: \"write\",\r\n        chainId,\r\n        contractAddress: epnsCommReadProvider.address,\r\n      }).then((res) => {\r\n        setSubscribed(true);\r\n        setMemberCount(memberCount + 1);\r\n        toaster.update(txToast, {\r\n          render: \"Successfully opted into channel !\",\r\n          type: toaster.TYPE.SUCCESS,\r\n          autoClose: 5000,\r\n        });\r\n        // ChannelsDataStore.instance.optInCache(channelObject.addr, account);\r\n        dispatch(subscribeChannel({ address: channelObject.addr }));\r\n        setTxInProgress(false);\r\n      });\r\n    } catch (err) {\r\n      toaster.update(txToast, {\r\n        render: \"There was an error opting into channel (\" + err.message + \")\",\r\n        type: toaster.TYPE.ERROR,\r\n        autoClose: 5000,\r\n      });\r\n      console.log(err);\r\n    } finally {\r\n      setTxInProgress(false);\r\n    }\r\n  };\r\n\r\n  const copyToClipboard = (address) => {\r\n    let hostname = window.location.hostname;\r\n    // if we are on localhost, attach the port\r\n    if (hostname === \"localhost\") {\r\n      hostname = hostname + \":3000\";\r\n    }\r\n    const url = `${hostname}/?channel=${address}`;\r\n    // fallback for non navigator browser support\r\n    if (navigator && navigator.clipboard) {\r\n      navigator.clipboard.writeText(url);\r\n    } else {\r\n      const el = document.createElement(\"textarea\");\r\n      el.value = url;\r\n      document.body.appendChild(el);\r\n      el.select();\r\n      document.execCommand(\"copy\");\r\n      document.body.removeChild(el);\r\n    }\r\n  };\r\n\r\n  const unsubscribeAction = async () => {\r\n    let txToast;\r\n    try {\r\n      const type = {\r\n        Unsubscribe: [\r\n          { name: \"channel\", type: \"address\" },\r\n          { name: \"unsubscriber\", type: \"address\" },\r\n          { name: \"action\", type: \"string\" },\r\n        ],\r\n      };\r\n      const message = {\r\n        channel: channelObject.addr,\r\n        unsubscriber: account,\r\n        action: \"Unsubscribe\",\r\n      };\r\n      const signature = await library\r\n        .getSigner(account)\r\n        ._signTypedData(EPNS_DOMAIN, type, message);\r\n\r\n      txToast = toaster.dark(\r\n        <LoaderToast msg=\"Waiting for Confirmation...\" color=\"#35c5f3\" />,\r\n        {\r\n          position: \"bottom-right\",\r\n          autoClose: false,\r\n          hideProgressBar: true,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined,\r\n        }\r\n      );\r\n\r\n      postReq(\"/channels/unsubscribe_offchain\", {\r\n        signature,\r\n        message,\r\n        op: \"write\",\r\n        chainId,\r\n        contractAddress: epnsCommReadProvider.address,\r\n      })\r\n        .then((res) => {\r\n          setSubscribed(false);\r\n          setMemberCount(memberCount - 1);\r\n          // ChannelsDataStore.instance.optOutCache(channelObject.addr, account);\r\n          dispatch(unsubscribeChannel({ address: channelObject.addr }));\r\n          toaster.update(txToast, {\r\n            render: \"Successfully opted out of channel !\",\r\n            type: toaster.TYPE.SUCCESS,\r\n            autoClose: 5000,\r\n          });\r\n          console.log(res);\r\n        })\r\n        .catch((err) => {\r\n          toaster.update(txToast, {\r\n            render:\r\n              \"There was an error opting into channel (\" + err.message + \")\",\r\n            type: toaster.TYPE.ERROR,\r\n            autoClose: 5000,\r\n          });\r\n          console.log(err);\r\n        })\r\n        .finally(() => {\r\n          setTxInProgress(false);\r\n        });\r\n    } finally {\r\n      setTxInProgress(false);\r\n    }\r\n  };\r\n\r\n  if (isBlocked) return <></>;\r\n  if (isChannelBlacklisted) return <></>;\r\n\r\n  // render\r\n  return (\r\n    <Container key={channelObject.addr}>\r\n      <ChannelLogo>\r\n        <ChannelLogoOuter>\r\n          <ChannelLogoInner>\r\n            {loading ? (\r\n              <Skeleton color=\"#eee\" height=\"100%\" />\r\n            ) : (\r\n              <ChannelLogoImg src={`${channelJson.icon}`} />\r\n            )}\r\n          </ChannelLogoInner>\r\n        </ChannelLogoOuter>\r\n      </ChannelLogo>\r\n\r\n      <ChannelInfo>\r\n        <ChannelTitle>\r\n          {loading ? (\r\n            <Skeleton color=\"#eee\" width=\"50%\" height={24} />\r\n          ) : (\r\n            <ChannelTitleLink\r\n              href={channelJson.url}\r\n              target=\"_blank\"\r\n              rel=\"nofollow\"\r\n            >\r\n              {channelJson.name}\r\n              {isVerified && (\r\n                <Subscribers style={{ display: \"inline\", marginLeft: \"8px\" }}>\r\n                  <GoVerified size={18} color=\"#35c4f3\" />\r\n                </Subscribers>\r\n              )}\r\n            </ChannelTitleLink>\r\n          )}\r\n        </ChannelTitle>\r\n\r\n        <ChannelDesc>\r\n          {loading ? (\r\n            <>\r\n              <SkeletonWrapper atH={5} atW={100}>\r\n                <Skeleton color=\"#eee\" width=\"100%\" height={5} />\r\n              </SkeletonWrapper>\r\n\r\n              <SkeletonWrapper atH={5} atW={100}>\r\n                <Skeleton color=\"#eee\" width=\"100%\" height={5} />\r\n              </SkeletonWrapper>\r\n\r\n              <SkeletonWrapper atH={5} atW={100}>\r\n                <Skeleton color=\"#eee\" width=\"40%\" height={5} />\r\n              </SkeletonWrapper>\r\n            </>\r\n          ) : (\r\n            <ChannelDescLabel>{channelJson.info}</ChannelDescLabel>\r\n          )}\r\n        </ChannelDesc>\r\n\r\n        <ChannelMeta>\r\n          {loading ? (\r\n            <>\r\n              <SkeletonWrapper atH={10} atW={30} marginBottom=\"0\">\r\n                <Skeleton />\r\n              </SkeletonWrapper>\r\n            </>\r\n          ) : (\r\n            <ColumnFlex>\r\n              <FlexBox style={{ marginBottom: \"10px\" }}>\r\n                <Subscribers>\r\n                  <IoMdPeople size={20} color=\"#ccc\" />\r\n                  <SubscribersCount>\r\n                    {memberCount?.toLocaleString()}\r\n                  </SubscribersCount>\r\n                </Subscribers>\r\n\r\n                <Subscribers style={{ marginLeft: \"10px\" }}>\r\n                  <FaRegAddressCard size={20} color=\"#ccc\" />\r\n                  <SubscribersCount\r\n                    onClick={() => {\r\n                      copyToClipboard(channelJson.addr);\r\n                      setCopyText(\"copied\");\r\n                    }}\r\n                    onMouseEnter={() => {\r\n                      setCopyText(\"click to copy\");\r\n                    }}\r\n                    onMouseLeave={() => {\r\n                      setCopyText(channelJson.addr);\r\n                    }}\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    <AiOutlineShareAlt />\r\n                    {formatAddress(copyText)}\r\n                  </SubscribersCount>\r\n                </Subscribers>\r\n              </FlexBox>\r\n              {verifierDetails && (\r\n                <Subscribers>\r\n                  <VerifiedBy>Verified by:</VerifiedBy>\r\n                  <VerifierIcon src={verifierDetails.icon} />\r\n                  <VerifierName>{verifierDetails.name}</VerifierName>\r\n                </Subscribers>\r\n              )}\r\n            </ColumnFlex>\r\n          )}\r\n        </ChannelMeta>\r\n      </ChannelInfo>\r\n      {!!account && !!library && (\r\n        <>\r\n          <LineBreak />\r\n          <ChannelActions>\r\n            {loading && (\r\n              <SkeletonButton>\r\n                <Skeleton />\r\n              </SkeletonButton>\r\n            )}\r\n            {!loading && isPushAdmin && (\r\n              <SubscribeButton onClick={blockChannel} disabled={bLoading}>\r\n                {bLoading && (\r\n                  <ActionLoader>\r\n                    <Loader type=\"Oval\" color=\"#FFF\" height={16} width={16} />\r\n                  </ActionLoader>\r\n                )}\r\n                <ActionTitle hideit={bLoading}>Block channel</ActionTitle>\r\n              </SubscribeButton>\r\n            )}\r\n            {!loading && (isPushAdmin || canVerify) && !isVerified && (\r\n              <SubscribeButton onClick={verifyChannel} disabled={vLoading}>\r\n                {vLoading && (\r\n                  <ActionLoader>\r\n                    <Loader type=\"Oval\" color=\"#FFF\" height={16} width={16} />\r\n                  </ActionLoader>\r\n                )}\r\n                <ActionTitle hideit={vLoading}>Verify Channel</ActionTitle>\r\n              </SubscribeButton>\r\n            )}\r\n            {!loading && (isPushAdmin || canUnverify) && isVerified && (\r\n              <UnsubscribeButton onClick={unverifyChannel} disabled={vLoading}>\r\n                {vLoading && (\r\n                  <ActionLoader>\r\n                    <Loader type=\"Oval\" color=\"#FFF\" height={16} width={16} />\r\n                  </ActionLoader>\r\n                )}\r\n                <ActionTitle hideit={vLoading}>Unverify Channel</ActionTitle>\r\n              </UnsubscribeButton>\r\n            )}\r\n            {!loading && !subscribed && (\r\n              <SubscribeButton onClick={subscribe} disabled={txInProgress}>\r\n                {txInProgress && (\r\n                  <ActionLoader>\r\n                    <Loader type=\"Oval\" color=\"#FFF\" height={16} width={16} />\r\n                  </ActionLoader>\r\n                )}\r\n                <ActionTitle hideit={txInProgress}>Opt-In</ActionTitle>\r\n              </SubscribeButton>\r\n            )}\r\n            {!loading && subscribed && (\r\n              <>\r\n                {isOwner && <OwnerButton disabled>Owner</OwnerButton>}\r\n                {!isOwner && (\r\n                  <UnsubscribeButton\r\n                    onClick={unsubscribeAction}\r\n                    disabled={txInProgress}\r\n                  >\r\n                    {txInProgress && (\r\n                      <ActionLoader>\r\n                        <Loader\r\n                          type=\"Oval\"\r\n                          color=\"#FFF\"\r\n                          height={16}\r\n                          width={16}\r\n                        />\r\n                      </ActionLoader>\r\n                    )}\r\n                    <ActionTitle hideit={txInProgress}>Opt-Out</ActionTitle>\r\n                  </UnsubscribeButton>\r\n                )}\r\n              </>\r\n            )}\r\n          </ChannelActions>\r\n        </>\r\n      )}\r\n      {toast && (\r\n        <NotificationToast notification={toast} clearToast={clearToast} />\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n\r\nconst FlexBox = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nconst ColumnFlex = styled(FlexBox)`\r\n  flex-direction: column;\r\n`;\r\n// css styles\r\nconst Container = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n\r\n  background: #fff;\r\n  border-radius: 10px;\r\n  border: 1px solid rgb(237, 237, 237);\r\n\r\n  margin: 15px 0px;\r\n  justify-content: center;\r\n  padding: 20px 10px;\r\n`;\r\n\r\nconst SkeletonWrapper = styled.div`\r\n  overflow: hidden;\r\n  width: ${(props) => props.atW + \"%\" || \"100%\"};\r\n  height: ${(props) => props.atH}px;\r\n  border-radius: ${(props) => props.borderRadius || 10}px;\r\n  margin-bottom: ${(props) => props.marginBottom || 5}px;\r\n  margin-right: ${(props) => props.marginRight || 0}px;\r\n`;\r\n\r\nconst ChannelLogo = styled.div`\r\n  max-width: 100px;\r\n  min-width: 32px;\r\n  flex: 1;\r\n  margin: 5px;\r\n  padding: 10px;\r\n  border: 2px solid #fafafa;\r\n  overflow: hidden;\r\n  border-radius: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-self: flex-start;\r\n`;\r\n\r\nconst ChannelLogoOuter = styled.div`\r\n  padding-top: 100%;\r\n  position: relative;\r\n`;\r\n\r\nconst ChannelLogoInner = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  overflow: hidden;\r\n  border-radius: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst ChannelLogoImg = styled.img`\r\n  object-fit: contain;\r\n  width: 100%;\r\n  border-radius: 20px;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst ChannelInfo = styled.div`\r\n  flex: 1;\r\n  margin: 5px 10px;\r\n  min-width: 120px;\r\n  flex-grow: 4;\r\n  flex-direction: column;\r\n  display: flex;\r\n`;\r\n\r\nconst ChannelTitle = styled.div`\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nconst ChannelTitleLink = styled.a`\r\n  text-decoration: none;\r\n  font-weight: 600;\r\n  color: #e20880;\r\n  font-size: 20px;\r\n  &:hover {\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`;\r\n\r\nconst VerifiedBy = styled.span`\r\n  color: #ec008c;\r\n  font-size: 16px;\r\n  line-height: 20px;\r\n  letter-spacing: 0.05em;\r\n  font-weight: 600;\r\n  display: inline-block;\r\n`;\r\n\r\nconst VerifierIcon = styled.img`\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n  margin-left: 6px;\r\n  margin-right: 4px;\r\n`;\r\nconst VerifierName = styled.span`\r\n  font-weight: 400;\r\n  color: black;\r\n  font-size: 16px;\r\n  letter-spacing: 0em;\r\n`;\r\n\r\nconst ChannelDesc = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  font-size: 14px;\r\n  color: rgba(0, 0, 0, 0.75);\r\n  font-weight: 400;\r\n  flex-direction: column;\r\n  margin-bottom: 30px;\r\n`;\r\n\r\nconst ChannelDescLabel = styled.label`\r\n  flex: 1;\r\n`;\r\n\r\nconst ChannelMeta = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  flex-direction: row;\r\n  font-size: 13px;\r\n`;\r\n\r\nconst ChannelMetaBox = styled.label`\r\n  margin: 0px 5px;\r\n  color: #fff;\r\n  font-weight: 600;\r\n  padding: 5px 10px;\r\n  display: flex;\r\n  border-radius: 10px;\r\n  font-size: 11px;\r\n  gap: 3px;\r\n`;\r\n\r\nconst Subscribers = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`;\r\n\r\nconst SubscribersCount = styled(ChannelMetaBox)`\r\n  background: #35c4f3;\r\n  transition: 300ms;\r\n`;\r\n\r\nconst Pool = styled.div`\r\n  margin: 0px 10px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`;\r\n\r\nconst PoolShare = styled(ChannelMetaBox)`\r\n  background: #674c9f;\r\n`;\r\n\r\nconst LineBreak = styled.div`\r\n  display: none;\r\n  flex-basis: 100%;\r\n  height: 0;\r\n\r\n  @media ${Device.tablet} {\r\n    display: block;\r\n  }\r\n`;\r\n\r\nconst ChannelActions = styled.div`\r\n  margin: 5px;\r\n  flex-grow: 1;\r\n  // max-width: 250px;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  // justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst ChannelActionButton = styled.button`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 8px 15px;\r\n  margin: 10px;\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  position: relative;\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  ${(props) =>\r\n    props.disabled &&\r\n    css`\r\n      &:hover {\r\n        opacity: 1;\r\n        cursor: default;\r\n        pointer: default;\r\n      }\r\n      &:active {\r\n        opacity: 1;\r\n        cursor: default;\r\n        pointer: default;\r\n      }\r\n    `}\r\n`;\r\n\r\nconst ActionTitle = styled.span`\r\n  ${(props) =>\r\n    props.hideit &&\r\n    css`\r\n      visibility: hidden;\r\n    `};\r\n`;\r\n\r\nconst ActionLoader = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst SkeletonButton = styled.div`\r\n  border: 0;\r\n  outline: 0;\r\n  height: 30px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 10px;\r\n  border-radius: 5px;\r\n  flex: 1;\r\n`;\r\n\r\nconst SubscribeButton = styled(ChannelActionButton)`\r\n  background: #e20880;\r\n  min-width: 80px;\r\n`;\r\n\r\nconst UnsubscribeButton = styled(ChannelActionButton)`\r\n  background: #674c9f;\r\n  min-width: 80px;\r\n`;\r\n\r\nconst OwnerButton = styled(ChannelActionButton)`\r\n  background: #35c5f3;\r\n`;\r\n\r\nconst Toaster = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin: 0px 10px;\r\n`;\r\n\r\nconst ToasterMsg = styled.div`\r\n  margin: 0px 10px;\r\n`;\r\n\r\n// Export Default\r\nexport default ViewChannelItem;\r\n","import React from \"react\";\r\n\r\nimport styled, { css } from 'styled-components';\r\nimport {Section, Content, Item, ItemH, Span, Anchor} from 'components/SharedStyling';\r\n\r\nimport { FaGasPump } from 'react-icons/fa';\r\n\r\n// Faucet URLs\r\nfunction Faucets() {\r\n  // render\r\n  return (\r\n    <Section margin=\"5px 0px 0px 0px\">\r\n      <Content>\r\n        <ItemH\r\n          self=\"flex-end\"\r\n          bg=\"#fff\"\r\n          radius=\"8px\"\r\n          padding=\"30px 10px 10px 10px\"\r\n          border=\"1px solid #ededed\"\r\n          overflow=\"hidden\"\r\n          align=\"stretch\"\r\n        >\r\n          <Span\r\n            pos=\"absolute\"\r\n            top=\"10px\"\r\n            right=\"0px\"\r\n            padding=\"5px 10px\"\r\n            bg=\"#e20880\"\r\n            color=\"#fff\"\r\n            size=\"12px\"\r\n            weight=\"600\"\r\n          >\r\n            Get Free Kovan Ether\r\n          </Span>\r\n\r\n          <Item margin=\"5px\">\r\n            <Anchor\r\n              direction=\"column\"\r\n              href=\"https://faucet.metamask.io/\"\r\n              target=\"_blank\"\r\n              rel=\"nofollow\"\r\n            >\r\n              <FaGasPump size={30} color=\"#674c9f\"/>\r\n              <Span\r\n                bg=\"#000\"\r\n                color=\"#fff\"\r\n                size=\"10px\"\r\n                weight=\"600\"\r\n                spacing=\"0.1em\"\r\n                textAlign=\"center\"\r\n                padding=\"5px 10px\"\r\n                margin=\"10px 0px 0px 0px\"\r\n                textTransform=\"uppercase\"\r\n                radius=\"8px\"\r\n              >\r\n                Metamask Faucet\r\n              </Span>\r\n            </Anchor>\r\n          </Item>\r\n          <Item margin=\"5px\">\r\n            <Anchor\r\n              direction=\"column\"\r\n              href=\"https://gitter.im/kovan-testnet/faucet\"\r\n              target=\"_blank\"\r\n              rel=\"nofollow\"\r\n            >\r\n              <FaGasPump size={30} color=\"#674c9f\"/>\r\n              <Span\r\n                bg=\"#000\"\r\n                color=\"#fff\"\r\n                size=\"10px\"\r\n                weight=\"600\"\r\n                spacing=\"0.1em\"\r\n                textAlign=\"center\"\r\n                padding=\"5px 10px\"\r\n                margin=\"10px 0px 0px 0px\"\r\n                textTransform=\"uppercase\"\r\n                radius=\"8px\"\r\n              >\r\n                Faucet Kovan\r\n              </Span>\r\n            </Anchor>\r\n          </Item>\r\n\r\n        </ItemH>\r\n      </Content>\r\n    </Section>\r\n  );\r\n}\r\n\r\n// Export Default\r\nexport default Faucets;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { Waypoint } from \"react-waypoint\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { postReq } from \"api\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport { envConfig } from \"@project/contracts\";\r\nimport queryString from 'query-string';\r\n\r\n\r\nimport DisplayNotice from \"components/DisplayNotice\";\r\nimport ViewChannelItem from \"components/ViewChannelItem\";\r\nimport Faucets from \"components/Faucets\";\r\nimport ChannelsDataStore from \"singletons/ChannelsDataStore\";\r\nimport { setChannelMeta, incrementPage } from \"redux/slices/channelSlice\";\r\n\r\nconst CHANNELS_PER_PAGE = 30; //pagination parameter which indicates how many channels to return over one iteration\r\nconst SEARCH_TRIAL_LIMIT = 5; //ONLY TRY SEARCHING 5 TIMES BEFORE GIVING UP\r\nconst DEBOUNCE_TIMEOUT = 500; //time in millisecond which we want to wait for then to finish typing\r\nconst ADDRESS_REGEX = /^0x[a-fA-F0-9]{40}$/;\r\nconst SEARCH_DELAY = 1500;\r\n\r\n// Create Header\r\nfunction ViewChannels(props) {\r\n  const dispatch = useDispatch();\r\n  const { account, chainId } = useWeb3React();\r\n  const { channels, page, ZERO_ADDRESS } = useSelector(\r\n    (state: any) => state.channels\r\n  );\r\n\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [moreLoading, setMoreLoading] = React.useState(false);\r\n  const [search, setSearch] = React.useState(\"\");\r\n  const [channelToShow, setChannelToShow] = React.useState([]);\r\n  const [loadingChannel, setLoadingChannel] = React.useState(false);\r\n  const [trialCount, setTrialCount] = React.useState(0);\r\n\r\n  const channelsVisited = page * CHANNELS_PER_PAGE;\r\n  const isMainnet = chainId == 1;\r\n\r\n  // fetch channel data if we are just getting to this pae\r\n  React.useEffect(() => {\r\n    setLoading(!channels.length); //if there are no channels initially then, set the loader\r\n    fetchInitialsChannelMeta();\r\n  }, [account, chainId]);\r\n\r\n  React.useEffect(() => {\r\n    const parsedChannel = String(queryString.parse(window.location.search).channel);\r\n    if(!ADDRESS_REGEX.test(parsedChannel)) return; //match it against a regex to confirm its actually an address and not a random string\r\n    setTimeout(() => {\r\n      setSearch(parsedChannel);\r\n    }, SEARCH_DELAY)\r\n  }, []);\r\n\r\n  // to update a page\r\n  const updateCurrentPage = () => {\r\n    if (loading || moreLoading) return;\r\n    // fetch more channel information\r\n    setMoreLoading(true);\r\n    dispatch(incrementPage());\r\n    loadMoreChannelMeta(page + 1); //load the meta for the next page\r\n  };\r\n\r\n  // to fetch initial channels and logged in user data\r\n  const fetchInitialsChannelMeta = async () => {\r\n    // fetch the meta of the first `CHANNELS_PER_PAGE` channels\r\n    const channelsMeta = await ChannelsDataStore.instance.getChannelFromApi(\r\n      channelsVisited,\r\n      CHANNELS_PER_PAGE,\r\n      account\r\n    );\r\n    dispatch(incrementPage());\r\n    if (!channels.length) {\r\n      dispatch(setChannelMeta(channelsMeta));\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  // load more channels when we get to the bottom of the page\r\n  const loadMoreChannelMeta = async (newPageNumber: any) => {\r\n    const startingPoint = newPageNumber * CHANNELS_PER_PAGE;\r\n    const moreChannels = await ChannelsDataStore.instance.getChannelFromApi(\r\n      startingPoint,\r\n      CHANNELS_PER_PAGE,\r\n      account\r\n    );\r\n    dispatch(setChannelMeta([...channels, ...moreChannels]));\r\n    setMoreLoading(false);\r\n  };\r\n\r\n  // conditionally display the waymore bar which loads more information\r\n  // load more channels when we are at the bottom of the page\r\n  const showWayPoint = (index: any) => {\r\n    return Number(index) === channels.length - 1;\r\n  };\r\n\r\n  // Search Channels Feature\r\n  React.useEffect(() => {\r\n    if (!channels.length) return;\r\n    setChannelToShow(channels);\r\n  }, [channels]);\r\n\r\n  function searchForChannel() {\r\n    if (loadingChannel) return; //if we are already loading, do nothing\r\n    if (search) {\r\n      setLoadingChannel(true); //begin loading here\r\n      setChannelToShow([]); //maybe remove later\r\n      postReq(\"/channels/search\", {\r\n        query: search,\r\n        address: account,\r\n        chainId: chainId,\r\n        op: \"read\",\r\n      })\r\n        .then((data) => {\r\n          setChannelToShow(data.data.channels || []);\r\n          setLoadingChannel(false);\r\n        })\r\n        .catch(() => {\r\n          // if there's an error search for three times before giving up and displaying the normal channels\r\n          if (trialCount < SEARCH_TRIAL_LIMIT) {\r\n            setTrialCount((t) => t + 1);\r\n            searchForChannel(); //if theres an error, recursively search\r\n          } else {\r\n            setChannelToShow(channels);\r\n            setLoadingChannel(false);\r\n          }\r\n        });\r\n    } else {\r\n      // if no search item, then set it back to the channels\r\n      setLoadingChannel(false);\r\n      setChannelToShow(channels);\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    // debounce request\r\n    // this is done so that we only make a request after the user stops typing\r\n    const timeout = setTimeout(searchForChannel, DEBOUNCE_TIMEOUT);\r\n    return () => {\r\n      clearTimeout(timeout);\r\n    };\r\n  }, [search]);\r\n\r\n  return (\r\n    <>\r\n      <Container>\r\n        {!loading && channels.length == 0 ? (\r\n          <ContainerInfo>\r\n            <DisplayNotice\r\n              title=\"That's weird, No Channels in EPNS... world is ending... right?\"\r\n              theme=\"primary\"\r\n            />\r\n          </ContainerInfo>\r\n        ) : (\r\n          <Items\r\n            id=\"scrollstyle-secondary\"\r\n            style={{ position: \"relative\", padding: \"0 1rem\" }}\r\n          >\r\n            {!loading && (\r\n              <Header style={{ minHeight: \"140px\" }}>\r\n                {/* if on mainnet then occupy full width*/}\r\n                <InputWrapper style={{ width: isMainnet ? \"100%\" : \"50%\" }}>\r\n                  <SearchBar\r\n                    type=\"text\"\r\n                    value={search}\r\n                    onChange={(e: any) => setSearch(e.target.value)}\r\n                    className=\"input\"\r\n                    placeholder=\"Search By Name/Address\"\r\n                  />\r\n                  <SearchIconImage src=\"/searchicon.svg\" alt=\"\" />\r\n                </InputWrapper>\r\n                {!isMainnet && <Faucets />}\r\n                {/* only display faucets on mainnet */}\r\n              </Header>\r\n            )}\r\n\r\n            {/* render all channels depending on if we are searching or not */}\r\n            {(search ? channelToShow : channels).map(\r\n              (channel: any, index: any) =>\r\n                channel &&\r\n                channel.addr !== ZERO_ADDRESS && (\r\n                  <>\r\n                    <div key={channel.addr}>\r\n                      <ViewChannelItem channelObjectProp={channel} />\r\n                    </div>\r\n                    {showWayPoint(index) && (\r\n                      <div style={{ width: \"100%\", height: \"40px\" }}>\r\n                        <Waypoint onEnter={updateCurrentPage} />\r\n                      </div>\r\n                    )}\r\n                  </>\r\n                )\r\n            )}\r\n            {/* render all channels depending on if we are searching or not */}\r\n\r\n            {/* if we are in search mode and there are no channels then display error message */}\r\n            {search && !channelToShow?.length && !loadingChannel && (\r\n              <CenteredContainerInfo>\r\n                <DisplayNotice\r\n                  title=\"No channels match your query, please search for another name/address\"\r\n                  theme=\"third\"\r\n                />\r\n              </CenteredContainerInfo>\r\n            )}\r\n            {/* display loader if pagination is loading next batch of channelTotalList */}\r\n            {((moreLoading && channels.length) ||\r\n              loading ||\r\n              loadingChannel) && (\r\n              <CenterContainer>\r\n                <Loader type=\"Oval\" color=\"#35c5f3\" height={40} width={40} />\r\n              </CenterContainer>\r\n            )}\r\n          </Items>\r\n        )}\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Header = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  position: -webkit-sticky;\r\n  position: sticky;\r\n  top: 0px;\r\n  z-index: 2;\r\n  background: #fafafa;\r\n\r\n  @media (max-width: 600px) {\r\n    flex-direction: column;\r\n  }\r\n`;\r\nconst InputWrapper = styled.div`\r\n  width: 50%;\r\n  position: relative;\r\n\r\n  @media (max-width: 600px) {\r\n    width: 100%;\r\n    margin: 2rem 0;\r\n  }\r\n`;\r\n\r\nconst SearchBar = styled.input`\r\n  width: 100%;\r\n  padding-right: 50px;\r\n  height: 60px;\r\n  padding-left: 40px;\r\n\r\n  background: rgb(255, 255, 255);\r\n  border: 1px solid rgba(169, 169, 169, 0.5);\r\n  box-sizing: border-box;\r\n  border-radius: 10px;\r\n  transition: 500ms;\r\n  text-transform: capitalize;\r\n  font-size: 16px;\r\n\r\n  input[type=\"reset\"] {\r\n    display: none;\r\n  }\r\n  &::placeholder {\r\n    letter-spacing: 0.15em;\r\n  }\r\n  &:hover,\r\n  &:active,\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n  &:focus {\r\n    border: 1px solid #ec008c;\r\n  }\r\n`;\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n\r\n  font-weight: 200;\r\n  align-content: center;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  max-height: 94vh;\r\n`;\r\n\r\nconst ContainerInfo = styled.div`\r\n  padding: 20px;\r\n`;\r\n\r\nconst CenteredContainerInfo = styled.div`\r\n  padding: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst CenterContainer = styled(ContainerInfo)`\r\n  width: fit-content;\r\n  margin: auto;\r\n`;\r\n\r\nconst Items = styled.div`\r\n  display: block;\r\n  align-self: stretch;\r\n  padding: 10px 20px;\r\n  overflow-y: scroll;\r\n  background: #fafafa;\r\n`;\r\n\r\nconst SearchIconImage = styled.img`\r\n  position: absolute;\r\n  right: 4px;\r\n  top: 4px;\r\n`;\r\n\r\n// Export Default\r\nexport default ViewChannels;\r\n","import React from 'react'\r\n\r\nexport const CloseIcon = () => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"10.243\" height=\"10.243\" viewBox=\"0 0 16.243 16.243\">\r\n        <g id=\"Group_4723\" data-name=\"Group 4723\" transform=\"translate(2.121 2.121)\">\r\n            <g id=\"Group_4716\" data-name=\"Group 4716\" transform=\"translate(0)\">\r\n            <line id=\"Line_1079\" data-name=\"Line 1079\" x2=\"16.97\" transform=\"translate(0 12) rotate(-45)\" fill=\"none\" stroke=\"#fff\" stroke-linecap=\"round\" stroke-width=\"3\"/>\r\n            <line id=\"Line_1080\" data-name=\"Line 1080\" y2=\"16.97\" transform=\"translate(0 0) rotate(-45)\" fill=\"none\" stroke=\"#fff\" stroke-linecap=\"round\" stroke-width=\"3\"/>\r\n            </g>\r\n        </g>\r\n    </svg>\r\n);\r\n","import React from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport Dropdown from \"react-dropdown\";\r\nimport { FiLink } from \"react-icons/fi\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport styled from \"styled-components\";\r\nimport { BsFillImageFill } from \"react-icons/bs\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { postReq } from \"api\";\r\nimport {\r\n  Section,\r\n  Content,\r\n  Item,\r\n  ItemH,\r\n  H2,\r\n  H3,\r\n  Span,\r\n  Button,\r\n  FormSubmision,\r\n  Input,\r\n  TextField,\r\n} from \"components/SharedStyling\";\r\n\r\nimport \"react-dropdown/style.css\";\r\nimport \"react-toastify/dist/ReactToastify.min.css\";\r\n\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\n\r\nimport { CloseIcon } from \"assets/icons\";\r\nimport EPNSCoreHelper from \"helpers/EPNSCoreHelper\";\r\nimport CryptoHelper from \"helpers/CryptoHelper\";\r\nconst ethers = require(\"ethers\");\r\n\r\n// Set Notification Form Type | 0 is reserved for protocol storage\r\nconst NFTypes = [\r\n  { value: \"1\", label: \"Broadcast (IPFS Payload)\" },\r\n  // { value: \"2\", label: \"Secret (IPFS Payload)\" },\r\n  { value: \"3\", label: \"Targetted (IPFS Payload)\" },\r\n  { value: \"4\", label: \"Subset (IPFS Payload)\" },\r\n  // { value: \"5\", label: \"Offchain (Push)\" },\r\n];\r\nconst LIMITER_KEYS = [\"Enter\", \",\"];\r\n\r\n// Create Header\r\nfunction SendNotifications() {\r\n  const { account, library, chainId } = useWeb3React();\r\n  const { epnsCommWriteProvider, epnsCommReadProvider } = useSelector(\r\n    (state: any) => state.contracts\r\n  );\r\n  const { channelDetails, delegatees } = useSelector(\r\n    (state: any) => state.admin\r\n  );\r\n  const { CHANNNEL_DEACTIVATED_STATE } = useSelector(\r\n    (state: any) => state.channels\r\n  );\r\n\r\n  const [nfProcessing, setNFProcessing] = React.useState(0);\r\n  const [channelAddress, setChannelAddress] = React.useState(\"\");\r\n  const [nfRecipient, setNFRecipient] = React.useState(\"\");\r\n  const [multipleRecipients, setMultipleRecipients] = React.useState([]);\r\n  const [tempRecipeint, setTempRecipient] = React.useState(\"\"); // to temporarily hold the address of one recipient who would be entered into the recipeints array above.\r\n  const [nfType, setNFType] = React.useState(\"\");\r\n  const [nfSub, setNFSub] = React.useState(\"\");\r\n  const [nfSubEnabled, setNFSubEnabled] = React.useState(false);\r\n  const [nfMsg, setNFMsg] = React.useState(\"\");\r\n  const [nfCTA, setNFCTA] = React.useState(\"\");\r\n  const [nfCTAEnabled, setNFCTAEnabled] = React.useState(false);\r\n  const [nfMedia, setNFMedia] = React.useState(\"\");\r\n  const [nfMediaEnabled, setNFMediaEnabled] = React.useState(false);\r\n  const [nfInfo, setNFInfo] = React.useState(\"\");\r\n  const [delegateeOptions, setDelegateeOptions] = React.useState([]);\r\n\r\n  const isChannelDeactivated = channelDetails\r\n    ? channelDetails.channelState === CHANNNEL_DEACTIVATED_STATE\r\n    : false;\r\n  const cannotDisplayDelegatees =\r\n    (delegatees.length === 1 && delegatees[0].address === account) ||\r\n    !delegatees.length; //do not display delegatees dropdown if you are the only delegatee to yourself or there are no delegatess\r\n  // construct a list of channel delegators\r\n  React.useEffect(() => {\r\n    if (!account) return;\r\n    if (!delegatees || !delegatees.length) {\r\n      setChannelAddress(account);\r\n    } else {\r\n      setDelegateeOptions(\r\n        delegatees.map((oneDelegatee: any) => ({\r\n          value: oneDelegatee.address,\r\n          label: (\r\n            <CustomDropdownItem>\r\n              <img src={oneDelegatee.icon} alt=\"\" />\r\n              <div>{oneDelegatee.name}</div>\r\n            </CustomDropdownItem>\r\n          ),\r\n        }))\r\n      );\r\n      // default the channel address to the first one on the list which should be that of the user if they have a channel\r\n      setChannelAddress(delegatees[0].address);\r\n    }\r\n  }, [delegatees, account]);\r\n\r\n\r\n  // on change for the subset type notifications input\r\n  const handleSubsetInputChange = (e: any) => {\r\n    // if the user enters in a comma or an enter then seperate the addresses\r\n    if (LIMITER_KEYS.includes(e.key)) {\r\n      e.preventDefault();\r\n      // if they enter a limiter key, then add the temp value to the recipeints list\r\n      // then clear the value of the temp text\r\n      setMultipleRecipients((oldRecipients) =>\r\n        // use this combination to remove duplicates\r\n        Array.from(new Set([...oldRecipients, tempRecipeint]))\r\n      );\r\n      const listRecipients = Array.from(new Set([...multipleRecipients, tempRecipeint]));\r\n      setNFRecipient(listRecipients.join());\r\n      setTempRecipient(\"\");\r\n    }\r\n  };\r\n  // when to remove a subscriber\r\n  const removeRecipient = (recipientAddress: any) => {\r\n    const filteredRecipients = multipleRecipients.filter(\r\n      (rec) => rec !== recipientAddress\r\n    );\r\n    setNFRecipient(filteredRecipients.join());\r\n    setMultipleRecipients(filteredRecipients);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    const broadcastIds = [\"1\"]; //id's of notifications which qualify as broadcast\r\n    setMultipleRecipients([]); //reset array when type changes/\r\n    if (broadcastIds.includes(nfType)) {\r\n      // This is broadcast, nfRecipient will be the same\r\n      setNFRecipient(account);\r\n    } else {\r\n      setNFRecipient(\"\");\r\n    }\r\n  }, [nfType]);\r\n\r\n  // validate the body being sent, return true if no errors\r\n  const bodyValidated = (notificationToast) => {\r\n    let validated = true;\r\n    // if we are sending for a subset and there\r\n    if (nfType === \"4\" && multipleRecipients.length < 2) {\r\n      toast.update(notificationToast, {\r\n        render:\r\n          \"Please enter at least two recipients in order to use subset notifications type\",\r\n        type: toast.TYPE.ERROR,\r\n        autoClose: 5000,\r\n      });\r\n      validated = false;\r\n    }\r\n    return validated;\r\n  };\r\n\r\n  const handleSendMessage = async (e) => {\r\n    // Check everything in order\r\n    e.preventDefault();\r\n\r\n    // Toastify\r\n    let notificationToast = toast.dark(\r\n      <LoaderToast msg=\"Preparing Notification\" color=\"#fff\" />,\r\n      {\r\n        position: \"bottom-right\",\r\n        autoClose: false,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      }\r\n    );\r\n\r\n    // do some validation\r\n    if (!bodyValidated(notificationToast)) return;\r\n\r\n    // Set to processing\r\n    setNFProcessing(1);\r\n\r\n    // Form signer and contract connection\r\n    const communicatorContract = epnsCommWriteProvider;\r\n    // define the epns comms contracts\r\n\r\n    // For payload basic\r\n    let nsub = nfSub;\r\n    let nmsg = nfMsg;\r\n    let secretEncrypted;\r\n\r\n    let asub = nfSub;\r\n    let amsg = nfMsg;\r\n    let acta = nfCTA;\r\n    let aimg = nfMedia;\r\n\r\n    // Decide type and storage\r\n    switch (nfType) {\r\n      // Broadcast Notification\r\n      case \"1\":\r\n        break;\r\n\r\n      // Targetted Notification\r\n      case \"3\":\r\n        break;\r\n\r\n      // Secret Notification\r\n      case \"2\":\r\n        // Create secret\r\n        let secret = CryptoHelper.makeid(14);\r\n\r\n        // Encrypt payload and change sub and nfMsg in notification\r\n        nsub = \"You have a secret message!\";\r\n        nmsg = \"Open the app to see your secret message!\";\r\n\r\n        // get public key from EPNSCoreHelper\r\n        let k = await EPNSCoreHelper.getPublicKey(\r\n          nfRecipient,\r\n          epnsCommWriteProvider\r\n        );\r\n        if (k == null) {\r\n          // No public key, can't encrypt\r\n          setNFInfo(\"Public Key Registration is required for encryption!\");\r\n          setNFProcessing(2);\r\n\r\n          toast.update(notificationToast, {\r\n            render: \"Unable to encrypt for this user, no public key registered\",\r\n            type: toast.TYPE.ERROR,\r\n            autoClose: 5000,\r\n          });\r\n\r\n          return;\r\n        }\r\n\r\n        let publickey = k.toString().substring(2);\r\n        //console.log(\"This is public Key: \" + publickey);\r\n\r\n        secretEncrypted = await CryptoHelper.encryptWithECIES(\r\n          secret,\r\n          publickey\r\n        );\r\n        asub = CryptoHelper.encryptWithAES(nfSub, secret);\r\n        amsg = CryptoHelper.encryptWithAES(nfMsg, secret);\r\n        acta = CryptoHelper.encryptWithAES(nfCTA, secret);\r\n        aimg = CryptoHelper.encryptWithAES(nfMedia, secret);\r\n        break;\r\n\r\n      // Targetted Notification\r\n      case \"4\":\r\n        break;\r\n\r\n      // Offchain Notification\r\n      case \"5\":\r\n        console.log(nsub, nmsg, nfType, asub, amsg, acta, aimg, \"case 5\");\r\n\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    // Handle Storage\r\n    let storagePointer = \"\";\r\n\r\n    // IPFS PAYLOAD --> 1, 2, 3\r\n    if (nfType === \"1\" || nfType === \"2\" || nfType === \"3\" || nfType === \"4\") {\r\n      // Checks for optional fields\r\n      if (nfSubEnabled && isEmpty(nfSub)) {\r\n        setNFInfo(\"Enter Subject or Disable it\");\r\n        setNFProcessing(2);\r\n\r\n        toast.update(notificationToast, {\r\n          render: \"Incorrect Payload\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000,\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      if (nfMediaEnabled && isEmpty(nfMedia)) {\r\n        setNFInfo(\"Enter Media URL or Disable it\");\r\n        setNFProcessing(2);\r\n\r\n        toast.update(notificationToast, {\r\n          render: \"Incorrect Payload\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000,\r\n        });\r\n        return;\r\n      }\r\n\r\n      if (nfCTAEnabled && isEmpty(nfCTA)) {\r\n        setNFInfo(\"Enter Call to Action Link or Disable it\");\r\n        setNFProcessing(2);\r\n\r\n        toast.update(notificationToast, {\r\n          render: \"Incorrect Payload\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000,\r\n        });\r\n        return;\r\n      }\r\n\r\n      if (isEmpty(nfMsg)) {\r\n        setNFInfo(\"Message cannot be empty\");\r\n        setNFProcessing(2);\r\n\r\n        toast.update(notificationToast, {\r\n          render: \"Incorrect Payload\",\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000,\r\n        });\r\n        return;\r\n      }\r\n\r\n      const jsonPayload = {\r\n        notification: {\r\n          title: nsub,\r\n          body: nmsg,\r\n        },\r\n        data: {\r\n          type: nfType,\r\n          secret: secretEncrypted,\r\n          asub: asub,\r\n          amsg: amsg,\r\n          acta: acta,\r\n          aimg: aimg,\r\n        },\r\n      };\r\n\r\n      // if we are sending a subset type, then include recipients\r\n      if (nfType === \"4\") {\r\n        jsonPayload[\"recipients\"] = [...multipleRecipients];\r\n      }\r\n\r\n      const input = JSON.stringify(jsonPayload);\r\n      console.log(input);\r\n\r\n      console.log(\"Uploding to IPFS...\");\r\n      toast.update(notificationToast, {\r\n        render: \"Preparing Payload for upload\",\r\n      });\r\n\r\n      const ipfs = require(\"nano-ipfs-store\").at(\"https://ipfs.infura.io:5001\");\r\n\r\n      try {\r\n        storagePointer = await ipfs.add(input);\r\n      } catch (e) {\r\n        setNFProcessing(2);\r\n        setNFInfo(\"IPFS Upload Error\");\r\n      }\r\n\r\n      console.log(\"IPFS cid: %o\", storagePointer);\r\n    }\r\n    if (nfType === \"1\" || nfType === \"2\" || nfType === \"3\" || nfType === \"4\") {\r\n      // Prepare Identity and send notification\r\n      const identity = nfType + \"+\" + storagePointer;\r\n      const identityBytes = ethers.utils.toUtf8Bytes(identity);\r\n      console.log({\r\n        identityBytes\r\n      });\r\n      const EPNS_DOMAIN = {\r\n        name: \"EPNS COMM V1\",\r\n        chainId: chainId,\r\n        verifyingContract: epnsCommReadProvider.address,\r\n      };\r\n\r\n      const type = {\r\n        Data: [\r\n          { name: \"acta\", type: \"string\" },\r\n          { name: \"aimg\", type: \"string\" },\r\n          { name: \"amsg\", type: \"string\" },\r\n          { name: \"asub\", type: \"string\" },\r\n          { name: \"type\", type: \"string\" },\r\n          { name: \"secret\", type: \"string\" },\r\n        ],\r\n      };\r\n\r\n      const payload = {\r\n        data: {\r\n          acta: acta,\r\n          aimg: aimg,\r\n          amsg: amsg,\r\n          asub: asub,\r\n          type: nfType,\r\n          secret: \"\",\r\n        },\r\n\r\n        notification: {\r\n          body: amsg,\r\n          title: asub,\r\n        },\r\n      };\r\n\r\n      const message = payload.data;\r\n      console.log(payload, \"payload\");\r\n      console.log(\"chainId\", chainId);\r\n      const signature = await library\r\n        .getSigner(account)\r\n        ._signTypedData(EPNS_DOMAIN, type, message);\r\n      console.log(\"case5 signature\", signature);\r\n      try {\r\n        console.log(nfRecipient);\r\n        postReq(\"/payloads/add_manual_payload\", {\r\n          signature,\r\n          op: \"write\",\r\n          chainId: chainId.toString(),\r\n          channel: channelAddress,\r\n          recipient: nfRecipient,\r\n          deployedContract: epnsCommReadProvider.address,\r\n          payload: payload,\r\n          type: nfType,\r\n        }).then(async (res) => {\r\n          toast.update(notificationToast, {\r\n            render: \"Notification Sent\",\r\n            type: toast.TYPE.INFO,\r\n            autoClose: 5000,\r\n          });\r\n\r\n          setNFProcessing(2);\r\n          setNFType(\"\");\r\n          setNFInfo(\"Offchain Notification Sent\");\r\n\r\n          toast.update(notificationToast, {\r\n            render: \"Offchain Notification Sent\",\r\n            type: toast.TYPE.SUCCESS,\r\n            autoClose: 5000,\r\n          });\r\n          console.log(res);\r\n        });\r\n      } catch (err) {\r\n        setNFInfo(\"Offchain Notification Failed, please try again\");\r\n\r\n        toast.update(notificationToast, {\r\n          render: \"Offchain Notification Failed: \" + err,\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000,\r\n        });\r\n        setNFProcessing(0);\r\n        console.log(err);\r\n      }\r\n\r\n      // var anotherSendTxPromise;\r\n\r\n      // anotherSendTxPromise = communicatorContract.sendNotification(\r\n      //   channelAddress,\r\n      //   nfRecipient,\r\n      //   identityBytes\r\n      // );\r\n\r\n      // console.log(\"Sending Transaction... \");\r\n      // toast.update(notificationToast, {\r\n      //   render: \"Sending Notification...\",\r\n      // });\r\n\r\n      // anotherSendTxPromise\r\n      //   .then(async (tx) => {\r\n      //     console.log(tx);\r\n      //     console.log(\"Transaction Sent!\");\r\n\r\n      //     toast.update(notificationToast, {\r\n      //       render: \"Notification Sent\",\r\n      //       type: toast.TYPE.INFO,\r\n      //       autoClose: 5000,\r\n      //     });\r\n\r\n      //     await tx.wait(1);\r\n      //     console.log(\"Transaction Mined!\");\r\n\r\n      //     setNFProcessing(2);\r\n      //     setNFType(\"\");\r\n      //     setNFInfo(\"Notification Sent\");\r\n\r\n      //     toast.update(notificationToast, {\r\n      //       render: \"Transaction Mined / Notification Sent\",\r\n      //       type: toast.TYPE.SUCCESS,\r\n      //       autoClose: 5000,\r\n      //     });\r\n      //   })\r\n      //   .catch((err) => {\r\n      //     console.log(\"!!!Error handleSendMessage() --> %o\", err);\r\n      //     setNFInfo(\"Transaction Failed, please try again\");\r\n\r\n      //     toast.update(notificationToast, {\r\n      //       render: \"Transacion Failed: \" + err,\r\n      //       type: toast.TYPE.ERROR,\r\n      //       autoClose: 5000,\r\n      //     });\r\n      //     setNFProcessing(0);\r\n      //   });\r\n    }\r\n    if (nfType === \"5\") {\r\n      // const jsonPayload = {\r\n      //   notification: {\r\n      //     title: nsub,\r\n      //     body: nmsg,\r\n      //   },\r\n      //   data: {\r\n      //     type: nfType,\r\n      //     secret: secretEncrypted,\r\n      //     asub: asub,\r\n      //     amsg: amsg,\r\n      //     acta: acta,\r\n      //     aimg: aimg,\r\n      //   },\r\n      // };\r\n\r\n      const EPNS_DOMAIN = {\r\n        name: \"EPNS COMM V1\",\r\n        chainId: chainId,\r\n        verifyingContract: epnsCommReadProvider.address,\r\n      };\r\n\r\n      const type = {\r\n        Data: [\r\n          { name: \"acta\", type: \"string\" },\r\n          { name: \"aimg\", type: \"string\" },\r\n          { name: \"amsg\", type: \"string\" },\r\n          { name: \"asub\", type: \"string\" },\r\n          { name: \"type\", type: \"string\" },\r\n          { name: \"secret\", type: \"string\" },\r\n        ],\r\n      };\r\n\r\n      const payload = {\r\n        data: {\r\n          acta: acta,\r\n          aimg: aimg,\r\n          amsg: amsg,\r\n          asub: asub,\r\n          type: nfType,\r\n          secret: \"\",\r\n        },\r\n\r\n        notification: {\r\n          body: amsg,\r\n          title: asub,\r\n        },\r\n      };\r\n\r\n      const message = payload.data;\r\n      console.log(payload, \"payload\");\r\n      console.log(\"chainId\", chainId);\r\n      const signature = await library\r\n        .getSigner(account)\r\n        ._signTypedData(EPNS_DOMAIN, type, message);\r\n      console.log(\"case5 signature\", signature);\r\n      try {\r\n        postReq(\"/payloads/add_manual_payload\", {\r\n          signature,\r\n          op: \"write\",\r\n          chainId: chainId.toString(),\r\n          channel: channelAddress,\r\n          recipient: nfRecipient,\r\n          deployedContract: epnsCommReadProvider.address,\r\n          payload: payload,\r\n          type: \"3\",\r\n        }).then(async (res) => {\r\n          toast.update(notificationToast, {\r\n            render: \"Notification Sent\",\r\n            type: toast.TYPE.INFO,\r\n            autoClose: 5000,\r\n          });\r\n\r\n          setNFProcessing(2);\r\n          setNFType(\"\");\r\n          setNFInfo(\"Offchain Notification Sent\");\r\n\r\n          toast.update(notificationToast, {\r\n            render: \"Offchain Notification Sent\",\r\n            type: toast.TYPE.SUCCESS,\r\n            autoClose: 5000,\r\n          });\r\n          console.log(res);\r\n        });\r\n      } catch (err) {\r\n        setNFInfo(\"Offchain Notification Failed, please try again\");\r\n\r\n        toast.update(notificationToast, {\r\n          render: \"Offchain Notification Failed: \" + err,\r\n          type: toast.TYPE.ERROR,\r\n          autoClose: 5000,\r\n        });\r\n        setNFProcessing(0);\r\n        console.log(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  const isEmpty = (field: any) => {\r\n    if (field.trim().length == 0) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  // toast customize\r\n  const LoaderToast = ({ msg, color }) => (\r\n    <Toaster>\r\n      <Loader type=\"Oval\" color={color} height={30} width={30} />\r\n      <ToasterMsg>{msg}</ToasterMsg>\r\n    </Toaster>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Section>\r\n        <Content padding=\"10px 20px 20px\">\r\n          <Item align=\"flex-start\">\r\n            <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n              <Span weight=\"200\">Send </Span>\r\n              <Span bg=\"#674c9f\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">\r\n                Notification\r\n              </Span>\r\n            </H2>\r\n            {!isChannelDeactivated ? (\r\n              <H3>\r\n                EPNS supports three types of notifications (for now!).{\" \"}\r\n                <b>Groups</b>, <b>Subsets</b>, and <b>Targetted</b>\r\n                 {/* and{\" \"} <b>Subsets</b>. */}\r\n              </H3>\r\n            ) : (\r\n              <H3>This channel has been deactivated, please reactivate it!.</H3>\r\n            )}\r\n          </Item>\r\n        </Content>\r\n      </Section>\r\n\r\n      {!isChannelDeactivated && (\r\n        <Section>\r\n          <ModifiedContent>\r\n            <Item align=\"stretch\">\r\n              <FormSubmision\r\n                flex=\"1\"\r\n                direction=\"column\"\r\n                margin=\"0px\"\r\n                justify=\"center\"\r\n                size=\"1.1rem\"\r\n                onSubmit={handleSendMessage}\r\n              >\r\n                <Item margin=\"0px 20px\" flex=\"1\" self=\"stretch\" align=\"stretch\">\r\n                  {!cannotDisplayDelegatees && (\r\n                    <Item\r\n                      flex=\"5\"\r\n                      justify=\"flex-start\"\r\n                      align=\"stretch\"\r\n                      minWidth=\"280px\"\r\n                    >\r\n                      <DropdownStyledParentWhite>\r\n                        <DropdownHeader>\r\n                          SEND NOTIFICATION ON BEHALF OF\r\n                        </DropdownHeader>\r\n                        <DropdownStyledWhite\r\n                          options={delegateeOptions}\r\n                          onChange={(option: any) => {\r\n                            setChannelAddress(option.value);\r\n                          }}\r\n                          value={delegateeOptions.find(\r\n                            (d) => d.value == channelAddress\r\n                          )}\r\n                        />\r\n                      </DropdownStyledParentWhite>\r\n                    </Item>\r\n                  )}\r\n\r\n                  <Input\r\n                    display=\"none\"\r\n                    value={nfType}\r\n                    onChange={(e) => {\r\n                      setNFType(e.target.value);\r\n                    }}\r\n                  />\r\n\r\n                  <Item\r\n                    flex=\"5\"\r\n                    justify=\"flex-start\"\r\n                    align=\"stretch\"\r\n                    minWidth=\"280px\"\r\n                  >\r\n                    <DropdownStyledParent>\r\n                      <DropdownStyled\r\n                        options={NFTypes}\r\n                        onChange={(option) => {\r\n                          setNFType(option.value);\r\n                          console.log(option);\r\n                        }}\r\n                        value={nfType}\r\n                        placeholder=\"Select Type of Notification to Send\"\r\n                      />\r\n                    </DropdownStyledParent>\r\n                  </Item>\r\n                  <Input\r\n                    display=\"none\"\r\n                    value={nfType}\r\n                    onChange={(e) => {\r\n                      setNFType(e.target.value);\r\n                    }}\r\n                  />\r\n\r\n                  {nfType && (\r\n                    <ItemH\r\n                      margin=\"0px 15px 15px 15px\"\r\n                      bg=\"#f1f1f1\"\r\n                      flex=\"1\"\r\n                      self=\"stretch\"\r\n                      justify=\"space-between\"\r\n                    >\r\n                      <ItemH margin=\"15px 10px\" flex=\"inital\">\r\n                        <Span\r\n                          margin=\"0px 10px 0px 0px\"\r\n                          weight=\"400\"\r\n                          spacing=\"0.1em\"\r\n                          textTransform=\"uppercase\"\r\n                          size=\"0.8em\"\r\n                          bg=\"#e20880\"\r\n                          color=\"#fff\"\r\n                          padding=\"5px 15px\"\r\n                          radius=\"30px\"\r\n                        >\r\n                          Enable Subject\r\n                        </Span>\r\n                        <Switch\r\n                          color=\"primary\"\r\n                          size=\"small\"\r\n                          checked={nfSubEnabled}\r\n                          onChange={() => setNFSubEnabled(!nfSubEnabled)}\r\n                        />\r\n                      </ItemH>\r\n\r\n                      <ItemH margin=\"15px 10px\" flex=\"inital\">\r\n                        <Span\r\n                          margin=\"0px 10px 0px 0px\"\r\n                          weight=\"400\"\r\n                          spacing=\"0.1em\"\r\n                          textTransform=\"uppercase\"\r\n                          size=\"0.8em\"\r\n                          bg=\"#e20880\"\r\n                          color=\"#fff\"\r\n                          padding=\"5px 15px\"\r\n                          radius=\"30px\"\r\n                        >\r\n                          Enable Media\r\n                        </Span>\r\n                        <Switch\r\n                          color=\"primary\"\r\n                          size=\"small\"\r\n                          checked={nfMediaEnabled}\r\n                          onChange={() => setNFMediaEnabled(!nfMediaEnabled)}\r\n                        />\r\n                      </ItemH>\r\n\r\n                      <ItemH margin=\"15px 10px\" flex=\"inital\">\r\n                        <Span\r\n                          margin=\"0px 10px 0px 0px\"\r\n                          weight=\"400\"\r\n                          spacing=\"0.1em\"\r\n                          textTransform=\"uppercase\"\r\n                          size=\"0.8em\"\r\n                          bg=\"#e20880\"\r\n                          color=\"#fff\"\r\n                          padding=\"5px 15px\"\r\n                          radius=\"30px\"\r\n                        >\r\n                          Enable CTA\r\n                        </Span>\r\n                        <Switch\r\n                          color=\"primary\"\r\n                          size=\"small\"\r\n                          checked={nfCTAEnabled}\r\n                          onChange={() => setNFCTAEnabled(!nfCTAEnabled)}\r\n                        />\r\n                      </ItemH>\r\n                    </ItemH>\r\n                  )}\r\n                </Item>\r\n\r\n                {(nfType === \"2\" || nfType === \"3\" || nfType === \"5\") && (\r\n                  <Item\r\n                    margin=\"15px 20px 15px 20px\"\r\n                    flex=\"1\"\r\n                    self=\"stretch\"\r\n                    align=\"stretch\"\r\n                  >\r\n                    <Input\r\n                      required\r\n                      placeholder=\"Enter recipient wallet address\"\r\n                      radius=\"4px\"\r\n                      padding=\"12px\"\r\n                      border=\"1px solid #674c9f\"\r\n                      bg=\"#fff\"\r\n                      value={nfRecipient}\r\n                      onChange={(e) => {\r\n                        setNFRecipient(e.target.value);\r\n                      }}\r\n                    />\r\n                    {nfRecipient.trim().length == 0 && (\r\n                      <Span\r\n                        padding=\"4px 10px\"\r\n                        right=\"0px\"\r\n                        top=\"0px\"\r\n                        pos=\"absolute\"\r\n                        color=\"#fff\"\r\n                        bg=\"#000\"\r\n                        size=\"0.7rem\"\r\n                        z=\"1\"\r\n                      >\r\n                        Recipient Wallet\r\n                      </Span>\r\n                    )}\r\n                  </Item>\r\n                )}\r\n\r\n                {nfType === \"4\" && (\r\n                  <>\r\n                    <MultiRecipientsContainer>\r\n                      {multipleRecipients.map((oneRecipient) => (\r\n                        <span key={oneRecipient}>\r\n                          {oneRecipient}\r\n                          <i onClick={() => removeRecipient(oneRecipient)}>\r\n                            <CloseIcon />\r\n                          </i>\r\n                        </span>\r\n                      ))}\r\n                    </MultiRecipientsContainer>\r\n                    <Item\r\n                      margin=\"15px 20px 15px 20px\"\r\n                      flex=\"1\"\r\n                      self=\"stretch\"\r\n                      align=\"stretch\"\r\n                    >\r\n                      <Input\r\n                        required={multipleRecipients.length === 0}\r\n                        placeholder=\"Enter recipients wallet addresses seperated by a comma or by pressing the enter key\"\r\n                        radius=\"4px\"\r\n                        padding=\"12px\"\r\n                        border=\"1px solid #674c9f\"\r\n                        bg=\"#fff\"\r\n                        value={tempRecipeint}\r\n                        onKeyPress={handleSubsetInputChange}\r\n                        onChange={(e) => {\r\n                          const text = e.target.value.trim();\r\n                          console.log(text);\r\n                          console.log(tempRecipeint);\r\n                          // if (!LIMITER_KEYS.includes(text) && text.length > 0 ) {\r\n                            setTempRecipient(e.target.value);\r\n                          // }\r\n                        }}\r\n                      />\r\n                      {nfRecipient.trim().length == 0 && (\r\n                        <Span\r\n                          padding=\"4px 10px\"\r\n                          right=\"0px\"\r\n                          top=\"0px\"\r\n                          pos=\"absolute\"\r\n                          color=\"#fff\"\r\n                          bg=\"#000\"\r\n                          size=\"0.7rem\"\r\n                          z=\"1\"\r\n                        >\r\n                          Recipient Wallet\r\n                        </Span>\r\n                      )}\r\n                    </Item>\r\n                  </>\r\n                )}\r\n\r\n                {nfType && nfSubEnabled && (\r\n                  <Item\r\n                    margin=\"15px 20px 15px 20px\"\r\n                    flex=\"1\"\r\n                    self=\"stretch\"\r\n                    align=\"stretch\"\r\n                  >\r\n                    <Input\r\n                      required\r\n                      placeholder=\"Subject of Notification\"\r\n                      padding=\"12px\"\r\n                      borderBottom=\"1px solid #000\"\r\n                      weight=\"400\"\r\n                      size=\"1.2em\"\r\n                      bg=\"#fff\"\r\n                      value={nfSub}\r\n                      onChange={(e) => {\r\n                        setNFSub(e.target.value);\r\n                      }}\r\n                    />\r\n                    {nfSub.trim().length == 0 && (\r\n                      <Span\r\n                        padding=\"4px 10px\"\r\n                        right=\"0px\"\r\n                        top=\"0px\"\r\n                        pos=\"absolute\"\r\n                        color=\"#fff\"\r\n                        bg=\"#000\"\r\n                        size=\"0.7rem\"\r\n                        z=\"1\"\r\n                      >\r\n                        Subject\r\n                      </Span>\r\n                    )}\r\n                  </Item>\r\n                )}\r\n\r\n                {nfType && (\r\n                  <Item\r\n                    margin=\"15px 20px 15px 20px\"\r\n                    flex=\"1\"\r\n                    self=\"stretch\"\r\n                    align=\"stretch\"\r\n                  >\r\n                    <TextField\r\n                      required\r\n                      placeholder=\"Notification Message\"\r\n                      rows=\"6\"\r\n                      radius=\"4px\"\r\n                      padding=\"12px\"\r\n                      weight=\"400\"\r\n                      border=\"1px solid #000\"\r\n                      bg=\"#fff\"\r\n                      value={nfMsg}\r\n                      onChange={(e) => {\r\n                        setNFMsg(e.target.value);\r\n                      }}\r\n                      autocomplete=\"off\"\r\n                    />\r\n                  </Item>\r\n                )}\r\n\r\n                {nfType && nfMediaEnabled && (\r\n                  <ItemH\r\n                    padding=\"15px 20px 15px 20px\"\r\n                    flex=\"1\"\r\n                    self=\"stretch\"\r\n                    align=\"center\"\r\n                  >\r\n                    <Item flex=\"0\" margin=\"0px 5px 0px 0px\">\r\n                      <BsFillImageFill size={24} color=\"#000\" />\r\n                    </Item>\r\n                    <Item flex=\"1\" margin=\"0px 0px 0px 5px\" align=\"stretch\">\r\n                      <Input\r\n                        required\r\n                        placeholder=\"Media URL for Notification\"\r\n                        padding=\"12px\"\r\n                        border=\"1px solid #000\"\r\n                        radius=\"4px\"\r\n                        weight=\"400\"\r\n                        bg=\"#f1f1f1\"\r\n                        value={nfMedia}\r\n                        onChange={(e) => {\r\n                          setNFMedia(e.target.value);\r\n                        }}\r\n                      />\r\n                      {nfMedia.trim().length == 0 && (\r\n                        <Span\r\n                          padding=\"4px 10px\"\r\n                          right=\"0px\"\r\n                          top=\"0px\"\r\n                          pos=\"absolute\"\r\n                          color=\"#fff\"\r\n                          bg=\"#000\"\r\n                          size=\"0.7rem\"\r\n                          z=\"1\"\r\n                        >\r\n                          Media URL\r\n                        </Span>\r\n                      )}\r\n                    </Item>\r\n                  </ItemH>\r\n                )}\r\n\r\n                {nfType && nfCTAEnabled && (\r\n                  <ItemH\r\n                    margin=\"15px 20px 15px 20px\"\r\n                    flex=\"1\"\r\n                    self=\"stretch\"\r\n                    align=\"center\"\r\n                  >\r\n                    <Item flex=\"0\" margin=\"0px 5px 0px 0px\">\r\n                      <FiLink size={24} color=\"#000\" />\r\n                    </Item>\r\n                    <Item flex=\"1\" margin=\"0px 0px 0px 5px\" align=\"stretch\">\r\n                      <Input\r\n                        required\r\n                        placeholder=\"Call to Action Link\"\r\n                        padding=\"12px\"\r\n                        border=\"1px solid #000\"\r\n                        radius=\"4px\"\r\n                        weight=\"400\"\r\n                        bg=\"#f1f1f1\"\r\n                        value={nfCTA}\r\n                        onChange={(e) => {\r\n                          setNFCTA(e.target.value);\r\n                        }}\r\n                      />\r\n                      {nfCTA.trim().length == 0 && (\r\n                        <Span\r\n                          padding=\"4px 10px\"\r\n                          right=\"0px\"\r\n                          top=\"0px\"\r\n                          pos=\"absolute\"\r\n                          color=\"#fff\"\r\n                          bg=\"#000\"\r\n                          size=\"0.7rem\"\r\n                          z=\"1\"\r\n                        >\r\n                          Call to Action URL\r\n                        </Span>\r\n                      )}\r\n                    </Item>\r\n                  </ItemH>\r\n                )}\r\n\r\n                {nfInfo && nfProcessing != 1 && (\r\n                  <Item\r\n                    color=\"#fff\"\r\n                    bg=\"#e1087f\"\r\n                    padding=\"10px 15px\"\r\n                    margin=\"15px 0px\"\r\n                  >\r\n                    <Span\r\n                      color=\"#fff\"\r\n                      textTransform=\"uppercase\"\r\n                      spacing=\"0.1em\"\r\n                      weight=\"400\"\r\n                      size=\"1em\"\r\n                    >\r\n                      {nfInfo}\r\n                    </Span>\r\n                  </Item>\r\n                )}\r\n\r\n                {nfType && (\r\n                  <Item\r\n                    margin=\"15px 0px 0px 0px\"\r\n                    flex=\"1\"\r\n                    self=\"stretch\"\r\n                    align=\"stretch\"\r\n                  >\r\n                    <Button\r\n                      bg=\"#e20880\"\r\n                      color=\"#fff\"\r\n                      flex=\"1\"\r\n                      radius=\"0px\"\r\n                      padding=\"20px 10px\"\r\n                      disabled={nfProcessing == 1 ? true : false}\r\n                    >\r\n                      {nfProcessing == 1 && (\r\n                        <Loader\r\n                          type=\"Oval\"\r\n                          color=\"#fff\"\r\n                          height={24}\r\n                          width={24}\r\n                        />\r\n                      )}\r\n                      {nfProcessing != 1 && (\r\n                        <Input\r\n                          cursor=\"hand\"\r\n                          textTransform=\"uppercase\"\r\n                          color=\"#fff\"\r\n                          weight=\"400\"\r\n                          size=\"0.8em\"\r\n                          spacing=\"0.2em\"\r\n                          type=\"submit\"\r\n                          value=\"Send Notification\"\r\n                        />\r\n                      )}\r\n                    </Button>\r\n                  </Item>\r\n                )}\r\n              </FormSubmision>\r\n            </Item>\r\n          </ModifiedContent>\r\n        </Section>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Toaster = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin: 0px 10px;\r\n`;\r\n\r\nconst ToasterMsg = styled.div`\r\n  margin: 0px 10px;\r\n`;\r\n\r\nconst DropdownStyledParent = styled.div`\r\n  .is-open {\r\n    margin-bottom: 130px;\r\n  }\r\n`;\r\n\r\nconst MultiRecipientsContainer = styled.div`\r\n  width: 100%;\r\n  padding: 0px 20px;\r\n  padding-top: 10px;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 7px 15px;\r\n\r\n  span {\r\n    color: white;\r\n    background: #e20880;\r\n    padding: 6px 10px;\r\n    border-radius: 5px;\r\n\r\n    i {\r\n      cursor: pointer;\r\n      margin-left: 25px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst ModifiedContent = styled(Content)`\r\n  padding-top: 20px;\r\n  font-weight: 400;\r\n`;\r\n\r\nconst DropdownHeader = styled.div`\r\n  color: black;\r\n  padding: 10px;\r\n  letter-spacing: 3px;\r\n  font-size: 14px;\r\n`;\r\n\r\nconst DropdownStyled = styled(Dropdown)`\r\n  .Dropdown-control {\r\n    background-color: #000;\r\n    color: #fff;\r\n    padding: 12px 52px 12px 10px;\r\n    border: 1px solid #000;\r\n    border-radius: 4px;\r\n  }\r\n\r\n  .Dropdown-placeholder {\r\n    text-transform: uppercase;\r\n    font-weight: 400;\r\n    letter-spacing: 0.2em;\r\n    font-size: 0.8em;\r\n  }\r\n\r\n  .Dropdown-arrow {\r\n    top: 18px;\r\n    bottom: 0;\r\n    border-color: #fff transparent transparent;\r\n  }\r\n\r\n  .Dropdown-menu {\r\n    border: 1px solid #000;\r\n    box-shadow: none;\r\n    background-color: #000;\r\n    border-radius: 0px;\r\n    margin-top: -2px;\r\n    border-bottom-right-radius: 4px;\r\n    border-bottom-left-radius: 4px;\r\n  }\r\n\r\n  .Dropdown-option {\r\n    background-color: rgb(35 35 35);\r\n    color: #ffffff99;\r\n\r\n    text-transform: uppercase;\r\n    letter-spacing: 0.2em;\r\n    font-size: 0.7em;\r\n    padding: 15px 20px;\r\n  }\r\n\r\n  .Dropdown-option:hover {\r\n    background-color: #000000;\r\n    color: #fff;\r\n  }\r\n`;\r\n\r\nconst DropdownStyledWhite = styled(DropdownStyled)`\r\n  .Dropdown-control {\r\n    color: #000;\r\n    background: #fafafa;\r\n    border: 0px;\r\n    padding: 15px 52px 15px 10px;\r\n  }\r\n  .Dropdown-arrow {\r\n    border-color: #000 transparent transparent;\r\n    top: 30px;\r\n  }\r\n  .Dropdown-menu {\r\n    border: 0px;\r\n    background-color: #fafafa;\r\n  }\r\n  .Dropdown-option {\r\n    background-color: #fafafa;\r\n    color: black;\r\n    transition: 300ms;\r\n  }\r\n  .Dropdown-option:hover {\r\n    background-color: #e7e6e6;\r\n  }\r\n  .Dropdown-option.is-selected {\r\n    background-color: #f1efef;\r\n  }\r\n`;\r\n\r\nconst DropdownStyledParentWhite = styled(DropdownStyledParent)`\r\n  margin-bottom: 20px;\r\n  border: 1px solid rgba(169, 169, 169, 0.5);\r\n`;\r\n\r\nconst CustomDropdownItem = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  img {\r\n    height: 30px;\r\n    width: 30px;\r\n    border-radius: 50%;\r\n    margin-right: 10px;\r\n  }\r\n  div {\r\n    color: black;\r\n    font-size: 16px;\r\n    letter-spacing: 2px;\r\n  }\r\n`;\r\n\r\n// Export Default\r\nexport default SendNotifications;\r\n","import React, {useRef, useState} from 'react';\r\nimport { useClick, useClickAway } from 'react-use';\r\nimport styled from 'styled-components';\r\nimport { useWeb3React } from '@web3-react/core';\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport Loader from 'react-loader-spinner';\r\n\r\nimport {Item, H2, H3, Span, Button, Input} from 'components/SharedStyling';\r\n\r\nconst ethers = require('ethers');\r\n\r\n\r\nexport default function AddDelegateModal({\r\n    onClose,onSuccess, addDelegate\r\n}) {\r\n\r\n    const modalRef = useRef(null);\r\n    const [mainAdress, setMainAddress] = useState('');\r\n    const [loading, setLoading] = useState('');\r\n\r\n    // Form signer and contract connection\r\n    useClickAway(modalRef, onClose);\r\n\r\n    const addDelegateFunction = () => {\r\n        setLoading('loading')\r\n        addDelegate(mainAdress)\r\n        .then(async (tx) => {\r\n            console.log(tx);\r\n            setLoading(\"Transaction Sent!\");\r\n\r\n            setTimeout(() => {\r\n                onSuccess();\r\n                onClose();\r\n            }, 2000);\r\n\r\n        })\r\n        .catch((err) => {\r\n            console.log({\r\n                err\r\n            })\r\n            setLoading('There was an error');\r\n            setTimeout(() => {\r\n                setLoading('')\r\n            }, 2000)\r\n        })\r\n    };\r\n    \r\n\r\n    return (\r\n        <Overlay>\r\n            <AliasModal ref={modalRef}>\r\n                <Item align=\"flex-start\">\r\n                    <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n                    <Span weight=\"200\">Add </Span><Span bg=\"#674c9f\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">Delegate</Span>\r\n                    </H2>\r\n                    <H3>Add an account who can send notifications on your behalf.</H3>\r\n                </Item>\r\n                <Item align=\"flex-start\">\r\n                    <CustomInput\r\n                        required\r\n                        placeholder=\"Enter the ethereum address\"\r\n                        radius=\"4px\"\r\n                        padding=\"12px\"\r\n                        border=\"1px solid #674c9f\"\r\n                        bg=\"#fff\"\r\n                        value={mainAdress}\r\n                        onChange={(e) => {setMainAddress(e.target.value)}}\r\n                    />\r\n                </Item>\r\n                <Item margin=\"15px 0px 0px 0px\" flex=\"1\" self=\"stretch\" align=\"stretch\">\r\n                    <Button\r\n                        bg='#e20880'\r\n                        color='#fff'\r\n                        flex=\"1\"\r\n                        radius=\"0px\"\r\n                        padding=\"20px 10px\"\r\n                        disabled={mainAdress.length !== 42}\r\n                        onClick={addDelegateFunction}\r\n                    >\r\n                        { loading && <Loader\r\n                            type=\"Oval\"\r\n                            color=\"#FFF\"\r\n                            height={16}\r\n                            width={16}\r\n                            />\r\n                        }\r\n                        <StyledInput\r\n                            cursor=\"hand\"\r\n                            textTransform=\"uppercase\"\r\n                            color=\"#fff\" weight=\"400\"\r\n                            size=\"0.8em\" spacing=\"0.2em\"\r\n                            value={loading ? loading : \"Add Delegate\"}\r\n                        />\r\n                    </Button>\r\n                </Item>\r\n            </AliasModal>\r\n        </Overlay>\r\n    )\r\n}\r\n\r\nconst StyledInput = styled(Input)`\r\n    width: 100%;\r\n    text-align: center;\r\n    caret-color: transparent;\r\n`\r\n\r\nconst CustomInput = styled(Input)`\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    margin: 20px 0px;\r\n`;\r\n\r\nconst Overlay = styled.div`\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    background: rgba(0,0,0,0.85);\r\n    height: 100%;\r\n    width: 100%;\r\n    z-index: 1000;\r\n    position: fixed;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    overflow-y: scroll;\r\n`;\r\n\r\nconst AliasModal = styled.div`\r\n    padding: 20px 30px;\r\n    background: white;\r\n`;","import React, {useRef, useState} from 'react';\r\nimport { useClickAway } from 'react-use';\r\nimport styled from 'styled-components';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nimport {Item, H2, H3, Span, Button, Input} from 'components/SharedStyling';\r\n\r\n\r\n\r\nexport default function RemoveDelegateModal({\r\n    onClose,onSuccess, removeDelegate\r\n}) {\r\n\r\n    const modalRef = useRef(null);\r\n    const [mainAdress, setMainAddress] = useState('');\r\n    const [loading, setLoading] = useState('');\r\n\r\n    // Form signer and contract connection\r\n    useClickAway(modalRef, onClose);\r\n\r\n    const addDelegateFunction = () => {\r\n        setLoading('loading')\r\n        removeDelegate(mainAdress)\r\n        .then(async (tx) => {\r\n            console.log(tx);\r\n            setLoading(\"Transaction Sent!\");\r\n\r\n            setTimeout(() => {\r\n                onSuccess();\r\n                onClose();\r\n            }, 2000);\r\n\r\n        })\r\n        .catch((err) => {\r\n            console.log({\r\n                err\r\n            })\r\n            setLoading('There was an error');\r\n            setTimeout(() => {\r\n                setLoading('')\r\n            }, 2000)\r\n        })\r\n    };\r\n    \r\n\r\n    return (\r\n        <Overlay>\r\n            <AliasModal ref={modalRef}>\r\n                <Item align=\"flex-start\">\r\n                    <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n                    <Span weight=\"200\">Remove </Span><Span bg=\"#674c9f\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">Delegate</Span>\r\n                    </H2>\r\n                    <H3>Remove an account who can send notifications on your behalf.</H3>\r\n                </Item>\r\n                <Item align=\"flex-start\">\r\n                    <CustomInput\r\n                        required\r\n                        placeholder=\"Enter the ethereum address\"\r\n                        radius=\"4px\"\r\n                        padding=\"12px\"\r\n                        border=\"1px solid #674c9f\"\r\n                        bg=\"#fff\"\r\n                        value={mainAdress}\r\n                        onChange={(e) => {setMainAddress(e.target.value)}}\r\n                    />\r\n                </Item>\r\n                <Item margin=\"15px 0px 0px 0px\" flex=\"1\" self=\"stretch\" align=\"stretch\">\r\n                    <Button\r\n                        bg='#e20880'\r\n                        color='#fff'\r\n                        flex=\"1\"\r\n                        radius=\"0px\"\r\n                        padding=\"20px 10px\"\r\n                        disabled={mainAdress.length !== 42}\r\n                        onClick={addDelegateFunction}\r\n                    >\r\n                        { loading && <Loader\r\n                            type=\"Oval\"\r\n                            color=\"#FFF\"\r\n                            height={16}\r\n                            width={16}\r\n                            />\r\n                        }\r\n                        <StyledInput\r\n                            cursor=\"hand\"\r\n                            textTransform=\"uppercase\"\r\n                            color=\"#fff\" weight=\"400\"\r\n                            size=\"0.8em\" spacing=\"0.2em\"\r\n                            value={loading ? loading : \"Remove Delegate\"}\r\n                        />\r\n                    </Button>\r\n                </Item>\r\n            </AliasModal>\r\n        </Overlay>\r\n    )\r\n}\r\n\r\nconst StyledInput = styled(Input)`\r\n    width: 100%;\r\n    text-align: center;\r\n    caret-color: transparent;\r\n`\r\n\r\nconst CustomInput = styled(Input)`\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    margin: 20px 0px;\r\n`;\r\n\r\nconst Overlay = styled.div`\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    background: rgba(0,0,0,0.85);\r\n    height: 100%;\r\n    width: 100%;\r\n    z-index: 1000;\r\n    position: fixed;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    overflow-y: scroll;\r\n`;\r\n\r\nconst AliasModal = styled.div`\r\n    padding: 20px 30px;\r\n    background: white;\r\n`;","import React, { useRef, useState } from \"react\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport styled from \"styled-components\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { useClickAway } from \"react-use\";\r\nimport {\r\n  Section,\r\n  Content,\r\n  Item,\r\n  H3,\r\n  Span,\r\n  Button,\r\n} from \"components/SharedStyling\";\r\n\r\nconst MIN_STAKE_FEES = 50;\r\n\r\nexport default function ActivateChannelModal({\r\n  activateChannel,\r\n  loading,\r\n  setChannelStakeFees,\r\n  channelStakeFees,\r\n  onClose,\r\n}) {\r\n  const popupRef = React.useRef(null);\r\n  useClickAway(popupRef, onClose); //close the popoup when we click away\r\n  return (\r\n    <PopupOverlay>\r\n      <PopupSlider ref={popupRef}>\r\n        <Section>\r\n          <Content padding=\"50px 0px 0px 0px\">\r\n            <Item align=\"flex-start\" margin=\"0px 20px\">\r\n              <H3 color=\"#e20880\">Set your staking fees in DAI</H3>\r\n            </Item>\r\n\r\n            <Item\r\n              margin=\"-10px 20px 20px 20px\"\r\n              padding=\"20px 20px 10px 20px\"\r\n              bg=\"#f1f1f1\"\r\n            >\r\n              <Slider\r\n                defaultValue={MIN_STAKE_FEES}\r\n                onChangeCommitted={(_, value) =>\r\n                  setChannelStakeFees(Number(value))\r\n                }\r\n                aria-labelledby=\"discrete-slider\"\r\n                valueLabelDisplay=\"auto\"\r\n                step={MIN_STAKE_FEES}\r\n                marks\r\n                min={MIN_STAKE_FEES}\r\n                max={25000}\r\n              />\r\n              <Span\r\n                weight=\"400\"\r\n                size=\"1.0em\"\r\n                textTransform=\"uppercase\"\r\n                spacing=\"0.2em\"\r\n              >\r\n                Amount Staked: {channelStakeFees} DAI\r\n              </Span>\r\n            </Item>\r\n\r\n            <Item self=\"stretch\" align=\"stretch\" margin=\"20px 0px 0px 0px\">\r\n              <Button\r\n                bg=\"#e20880\"\r\n                color=\"#fff\"\r\n                flex=\"1\"\r\n                radius=\"0px\"\r\n                padding=\"20px 10px\"\r\n                onClick={activateChannel}\r\n              >\r\n                {loading ? (\r\n                  <Loader type=\"Oval\" color=\"#FFF\" height={16} width={16} />\r\n                ) : (\r\n                  <Span\r\n                    color=\"#fff\"\r\n                    weight=\"400\"\r\n                    textTransform=\"uppercase\"\r\n                    spacing=\"0.1em\"\r\n                  >\r\n                    Reactivate Channel\r\n                  </Span>\r\n                )}\r\n              </Button>\r\n            </Item>\r\n          </Content>\r\n        </Section>\r\n      </PopupSlider>\r\n    </PopupOverlay>\r\n  );\r\n}\r\n\r\nconst PopupOverlay = styled.div`\r\n  background: rgba(0, 0, 0, 0.5);\r\n  height: 100vh;\r\n  width: 100vw;\r\n  display: -webkit-box;\r\n  display: -webkit-flex;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 1000;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst PopupSlider = styled.div`\r\n  height: 200px;\r\n  width: 70vw;\r\n  background: white;\r\n`;\r\n","/**\r\n * This file helps us to maintain the state of the logged in user user(if they have an account)\r\n * as well as the privilidges the logged in user has\r\n */\r\nimport { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n    channelDetails: null,\r\n    canVerify: false,\r\n    delegatees: []\r\n};\r\n\r\nexport const contractSlice = createSlice({\r\n    name: \"admin\",\r\n    initialState,\r\n    reducers: {\r\n        setUserChannelDetails: (state, action) => {\r\n            state.channelDetails = action.payload;\r\n        },\r\n        setCanVerify: (state, action) => {\r\n            state.canVerify = action.payload;\r\n        },\r\n        setDelegatees: (state, action) => {\r\n            state.delegatees = action.payload;\r\n        }\r\n    }\r\n});\r\n\r\nexport const {\r\n    setUserChannelDetails,\r\n    setCanVerify,\r\n    setDelegatees\r\n} = contractSlice.actions;\r\n\r\nexport default contractSlice.reducer;","import React from \"react\";\r\nimport { Section, Content, Item } from \"components/SharedStyling\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport styled, { css } from \"styled-components\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport { toast as toaster } from \"react-toastify\";\r\nimport { addresses, abis } from \"@project/contracts\";\r\nimport { postReq } from \"api\";\r\n\r\nimport { ALLOWED_CORE_NETWORK } from \"pages/Home\";\r\nimport AddDelegateModal from \"./AddDelegateModal\";\r\nimport RemoveDelegateModal from \"./RemoveDelegateModal\";\r\nimport ActivateChannelModal from \"./ActivateChannelModal\";\r\nimport EPNSCoreHelper from \"helpers/EPNSCoreHelper\";\r\nimport { setUserChannelDetails } from \"redux/slices/adminSlice\";\r\n\r\nimport \"react-dropdown/style.css\";\r\nimport \"react-toastify/dist/ReactToastify.min.css\";\r\n\r\nimport Loader from \"react-loader-spinner\";\r\nconst ethers = require(\"ethers\");\r\n\r\nconst MIN_STAKE_FEES = 50;\r\n\r\n// Create Header\r\nfunction ChannelSettings() {\r\n  const dispatch = useDispatch();\r\n  const { account, library, chainId } = useWeb3React();\r\n  const { epnsWriteProvider, epnsCommWriteProvider } = useSelector(\r\n    (state: any) => state.contracts\r\n  );\r\n  const { channelDetails } = useSelector((state: any) => state.admin);\r\n  const {\r\n    CHANNNEL_DEACTIVATED_STATE,\r\n    CHANNEL_BLOCKED_STATE,\r\n    CHANNEL_ACTIVE_STATE,\r\n  } = useSelector((state: any) => state.channels);\r\n\r\n  const { channelState } = channelDetails;\r\n  const onCoreNetwork = ALLOWED_CORE_NETWORK === chainId;\r\n\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [\r\n    showActivateChannelPopup,\r\n    setShowActivateChannelPopup,\r\n  ] = React.useState(false);\r\n  const [channelStakeFees, setChannelStakeFees] = React.useState(\r\n    MIN_STAKE_FEES\r\n  );\r\n  const [poolContrib, setPoolContrib] = React.useState(0);\r\n  const [addDelegateLoading, setAddDelegateLoading] = React.useState(false);\r\n  const [addModalOpen, setAddModalOpen] = React.useState(false);\r\n  const [removeDelegateLoading, setRemoveDelegateLoading] = React.useState(\r\n    false\r\n  );\r\n  const [removeModalOpen, setRemoveModalOpen] = React.useState(false);\r\n\r\n  // toaster customize\r\n  const LoaderToast = ({ msg, color }) => (\r\n    <Toaster>\r\n      <Loader type=\"Oval\" color={color} height={30} width={30} />\r\n      <ToasterMsg>{msg}</ToasterMsg>\r\n    </Toaster>\r\n  );\r\n\r\n  // Toastify\r\n  let notificationToast = () =>\r\n    toaster.dark(<LoaderToast msg=\"Preparing Notification\" color=\"#fff\" />, {\r\n      position: \"bottom-right\",\r\n      autoClose: false,\r\n      hideProgressBar: true,\r\n      closeOnClick: true,\r\n      pauseOnHover: true,\r\n      draggable: true,\r\n      progress: undefined,\r\n    });\r\n\r\n  const isChannelDeactivated = channelState === CHANNNEL_DEACTIVATED_STATE;\r\n  const isChannelBlocked = channelState === CHANNEL_BLOCKED_STATE;\r\n  const channelInactive = isChannelBlocked || isChannelDeactivated;\r\n\r\n  React.useEffect(() => {\r\n    // To set channel info from a channel details\r\n    // setChannelState(channelDetails.channelState);\r\n    setPoolContrib(\r\n      +EPNSCoreHelper.formatBigNumberToMetric(\r\n        channelDetails.poolContribution,\r\n        true\r\n      )\r\n    );\r\n  }, [account]);\r\n\r\n  const toggleChannelActivationState = () => {\r\n    if (isChannelBlocked) return;\r\n    if (isChannelDeactivated) {\r\n      setShowActivateChannelPopup(true);\r\n    } else {\r\n      deactivateChannel();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Function to activate a channel that has been deactivated\r\n   */\r\n  const activateChannel = async () => {\r\n    // First Approve DAI\r\n    setLoading(true);\r\n    var signer = library.getSigner(account);\r\n    let daiContract = new ethers.Contract(addresses.dai, abis.erc20, signer);\r\n    const fees = ethers.utils.parseUnits(channelStakeFees.toString(), 18);\r\n    var sendTransactionPromise = daiContract.approve(addresses.epnscore, fees);\r\n    const tx = await sendTransactionPromise;\r\n\r\n    console.log(tx);\r\n    console.log(\"waiting for tx to finish\");\r\n\r\n    await library.waitForTransaction(tx.hash);\r\n    await epnsWriteProvider\r\n      .reactivateChannel(fees)\r\n      .then(async (tx: any) => {\r\n        console.log(tx);\r\n        console.log(\"Transaction Sent!\");\r\n\r\n        toaster.update(notificationToast(), {\r\n          render: \"Reactivating Channel\",\r\n          type: toaster.TYPE.INFO,\r\n          autoClose: 5000,\r\n        });\r\n\r\n        await tx.wait(1);\r\n        toaster.update(notificationToast(), {\r\n          render: \"Channel Reactivated\",\r\n          type: toaster.TYPE.INFO,\r\n          autoClose: 5000,\r\n        });\r\n        dispatch(\r\n          setUserChannelDetails({\r\n            ...channelDetails,\r\n            channelState: CHANNEL_ACTIVE_STATE,\r\n          })\r\n        );\r\n      })\r\n      .catch((err: any) => {\r\n        console.log(\"!!!Error reactivateChannel() --> %o\", err);\r\n        toaster.update(notificationToast(), {\r\n          render: \"Transacion Failed: \" + err.error?.message || err.message,\r\n          type: toaster.TYPE.ERROR,\r\n          autoClose: 5000,\r\n        });\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n        setShowActivateChannelPopup(false);\r\n      });\r\n  };\r\n\r\n  /**\r\n   * Function to deactivate a channel that has been deactivated\r\n   */\r\n  const deactivateChannel = async () => {\r\n    setLoading(true);\r\n    if (!poolContrib) return;\r\n\r\n    const amountToBeConverted = parseInt(\"\" + poolContrib) - 10;\r\n    console.log(\"Amount To be converted==>\", amountToBeConverted);\r\n\r\n    const { data: response } = await postReq(\"/channels/get_dai_to_push\", {\r\n      value: amountToBeConverted,\r\n    });\r\n\r\n    const pushValue = response.response.data.quote.PUSH.price;\r\n    const amountsOut = pushValue * Math.pow(10, 18);\r\n\r\n    await epnsWriteProvider\r\n      // .deactivateChannel(amountsOut.toString().replace(/0+$/, \"\")) //use this to remove trailing zeros 1232323200000000 -> 12323232\r\n      .deactivateChannel(Math.floor(pushValue)) \r\n      .then(async (tx: any) => {\r\n        console.log(tx);\r\n        console.log(\"Transaction Sent!\");\r\n\r\n        toaster.update(notificationToast(), {\r\n          render: \"Transaction sending\",\r\n          type: toaster.TYPE.INFO,\r\n          autoClose: 5000,\r\n        });\r\n\r\n        await tx.wait(1);\r\n        console.log(\"Transaction Mined!\");\r\n        dispatch(\r\n          setUserChannelDetails({\r\n            ...channelDetails,\r\n            channelState: CHANNNEL_DEACTIVATED_STATE,\r\n          })\r\n        );\r\n      })\r\n      .catch((err: any) => {\r\n        console.log(\"!!!Error deactivateChannel() --> %o\", err);\r\n        console.log({\r\n          err,\r\n        });\r\n        toaster.update(notificationToast(), {\r\n          render: \"Transacion Failed: \" + err.error?.message || err,\r\n          type: toaster.TYPE.ERROR,\r\n          autoClose: 5000,\r\n        });\r\n      })\r\n      .finally(() => {\r\n        // post op\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  const addDelegate = async (walletAddress: string) => {\r\n    setAddDelegateLoading(true);\r\n    return epnsCommWriteProvider.addDelegate(walletAddress).finally(() => {\r\n      setAddDelegateLoading(false);\r\n    });\r\n  };\r\n\r\n  const removeDelegate = (walletAddress: string) => {\r\n    setRemoveDelegateLoading(true);\r\n    return epnsCommWriteProvider.removeDelegate(walletAddress).finally(() => {\r\n      setRemoveDelegateLoading(false);\r\n    });\r\n  };\r\n\r\n  if (!onCoreNetwork) {\r\n    //temporarily deactivate the deactivate button if not on core network\r\n    return <></>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <DropdownWrapper>\r\n        <DeactivateButton\r\n          isChannelDeactivated={isChannelDeactivated}\r\n          onClick={toggleChannelActivationState}\r\n        >\r\n          <ActionTitle>\r\n            {loading ? (\r\n              \"Loading ...\"\r\n            ) : isChannelBlocked ? (\r\n              \"Channel Blocked\"\r\n            ) : isChannelDeactivated ? (\r\n              \"Activate Channel\"\r\n            ) : (\r\n              \"Deactivate Channel\"\r\n            )}\r\n          </ActionTitle>\r\n        </DeactivateButton>\r\n        <ActiveChannelWrapper>\r\n          <ChannelActionButton\r\n            disabled={channelInactive}\r\n            onClick={() => !channelInactive && setAddModalOpen(true)}\r\n          >\r\n            <ActionTitle>\r\n              {addDelegateLoading ? (\r\n                <Loader type=\"Oval\" color=\"#FFF\" height={16} width={16} />\r\n              ) : (\r\n                \"Add Delegate\"\r\n              )}\r\n            </ActionTitle>\r\n          </ChannelActionButton>\r\n\r\n          <ChannelActionButton\r\n            disabled={channelInactive}\r\n            onClick={() => !channelInactive && setRemoveModalOpen(true)}\r\n          >\r\n            <ActionTitle>\r\n              {removeDelegateLoading ? (\r\n                <Loader type=\"Oval\" color=\"#FFF\" height={16} width={16} />\r\n              ) : (\r\n                \"Remove Delegate\"\r\n              )}\r\n            </ActionTitle>\r\n          </ChannelActionButton>\r\n        </ActiveChannelWrapper>\r\n      </DropdownWrapper>\r\n      {/* modal to display the activate channel popup */}\r\n      {showActivateChannelPopup && (\r\n        <ActivateChannelModal\r\n          onClose={() => {\r\n            if (showActivateChannelPopup) {\r\n              setShowActivateChannelPopup(false);\r\n            }\r\n          }}\r\n          activateChannel={activateChannel}\r\n          loading={loading}\r\n          setChannelStakeFees={setChannelStakeFees}\r\n          channelStakeFees={channelStakeFees}\r\n        />\r\n      )}\r\n      {/* modal to add a delegate */}\r\n      {addModalOpen && (\r\n        <AddDelegateModal\r\n          onClose={() => setAddModalOpen(false)}\r\n          onSuccess={() => {\r\n            toaster.update(notificationToast(), {\r\n              render: \"Delegate Added\",\r\n              type: toaster.TYPE.INFO,\r\n              autoClose: 5000,\r\n            });\r\n          }}\r\n          addDelegate={addDelegate}\r\n        />\r\n      )}\r\n      {/* modal to remove a delegate */}\r\n      {removeModalOpen && (\r\n        <RemoveDelegateModal\r\n          onClose={() => {\r\n            setRemoveModalOpen(false);\r\n          }}\r\n          onSuccess={() => {\r\n            toaster.update(notificationToast(), {\r\n              render: \"Delegate Removed\",\r\n              type: toaster.TYPE.INFO,\r\n              autoClose: 5000,\r\n            });\r\n          }}\r\n          removeDelegate={removeDelegate}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst DropdownWrapper = styled.div`\r\n  position: absolute;\r\n  right: 20px;\r\n  display: flex;\r\n  flex-direction: column-reverse;\r\n  width: 220px;\r\n  height: 230px;\r\n  padding: 20px;\r\n  padding-top: 30px;\r\n\r\n  background: #ffffff;\r\n  border: 1px solid #a9a9a9;\r\n  box-sizing: border-box;\r\n  box-shadow: 0px 4px 30px rgba(0, 0, 0, 0.1);\r\n  border-radius: 10px;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst ActiveChannelWrapper = styled.div`\r\n  flex-direction: column;\r\n  gap: 20px;\r\n  display: ${(props) => (props.inactive ? \"none\" : \"flex\")};\r\n`;\r\n\r\nconst Toaster = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin: 0px 10px;\r\n`;\r\n\r\nconst ActionTitle = styled.span`\r\n  ${(props: any) =>\r\n    props.hideit &&\r\n    css`\r\n      visibility: hidden;\r\n    `};\r\n`;\r\n\r\nconst ToasterMsg = styled.div`\r\n  margin: 0px 10px;\r\n`;\r\n\r\nconst DeactivateButton = styled.div`\r\n  text-decoration: underline;\r\n  color: ${(props) => (props.isChannelDeactivated ? \"#674C9F\" : \"#e20880\")};\r\n  text-align: center;\r\n  font-size: 16px;\r\n  line-height: 20px;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst ChannelActionButton = styled.button`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 8px 15px;\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  position: relative;\r\n  background-color: #674c9f;\r\n  &:hover {\r\n    opacity: ${(props) => (props.disabled ? 0.5 : 0.9)};\r\n    cursor: ${(props) => (props.disabled ? \"not-allowed\" : \"pointer\")};\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: ${(props) => (props.disabled ? 0.5 : 0.75)};\r\n    cursor: ${(props) => (props.disabled ? \"not-allowed\" : \"pointer\")};\r\n    pointer: hand;\r\n  }\r\n  opacity: ${(props) => (props.disabled ? 0.5 : 1)};\r\n`;\r\n\r\nconst Settings = styled.img`\r\n  width: 40px;\r\n  height: 40px;\r\n  margin-left: auto;\r\n  margin-right: 30px;\r\n`;\r\n\r\n// Export Default\r\nexport default ChannelSettings;\r\n","import React from \"react\";\r\nimport { useClickAway } from \"react-use\";\r\nimport styled from \"styled-components\";\r\nimport ChannelSettingsDropdown from \"./ChannelSettingsDropdown\";\r\n\r\nexport default function ChannelSettings() {\r\n  const [active, setActive] = React.useState(false);\r\n  const modalRef = React.useRef(null);\r\n  const toggleActive = () => {\r\n    setActive((a) => !a);\r\n  };\r\n\r\n  useClickAway(modalRef, () => active && setActive(false));\r\n\r\n  return (\r\n    <SettingsWrapper ref={modalRef}>\r\n      <Settings\r\n        active={active}\r\n        onClick={toggleActive}\r\n        src=\"/Settings.svg\"\r\n        alt=\"\"\r\n      ></Settings>\r\n      {active && <ChannelSettingsDropdown />}\r\n    </SettingsWrapper>\r\n  );\r\n}\r\n\r\nconst SettingsWrapper = styled.div`\r\n  position: absolute;\r\n  top: 30px;\r\n  right: 30px;\r\n`;\r\n\r\nconst Settings = styled.img`\r\n  width: 40px;\r\n  height: 40px;\r\n  margin-left: auto;\r\n  margin-right: 30px;\r\n  cursor: pointer;\r\n  transition: 400ms;\r\n  transform: ${(props) => (props.active ? \"rotateZ(35deg)\" : \"none\")};\r\n`;\r\n","import React from \"react\";\r\nimport moment from \"moment\";\r\nimport styled from \"styled-components\";\r\nimport { useSelector } from \"react-redux\";\r\nimport ChannelsDataStore from \"singletons/ChannelsDataStore\";\r\nimport { ALLOWED_CORE_NETWORK } from \"pages/Home\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport { postReq } from \"api\";\r\nconst DATE_FORMAT = \"DD/MM/YYYY\";\r\nexport default function ChannelDetails() {\r\n  const { channelDetails, canVerify } = useSelector((state) => state.admin);\r\n  const { CHANNEL_ACTIVE_STATE, CHANNNEL_DEACTIVATED_STATE } = useSelector(\r\n    (state) => state.channels\r\n  );\r\n  const [verifyingChannel, setVerifyingChannel] = React.useState([]);\r\n  const [creationDate, setCreationDate] = React.useState(\"\");\r\n  const [ethAliasAccount, setEthAliasAccount] = React.useState(null);\r\n  const [aliasVerified, setAliasVerified] = React.useState(null); // null means error, false means unverified and true means verified\r\n  const { channelState } = channelDetails;\r\n  const channelIsActive = channelState === CHANNEL_ACTIVE_STATE;\r\n  const channelIsDeactivated = channelState === CHANNNEL_DEACTIVATED_STATE;\r\n  const { account, library, chainId } = useWeb3React();\r\n  const onCoreNetwork = ALLOWED_CORE_NETWORK === chainId;\r\n\r\n  React.useEffect(() => {\r\n    if (!channelDetails || !canVerify) return;\r\n    (async function() {\r\n      let channelJson = await ChannelsDataStore.instance.getChannelJsonAsync(\r\n        channelDetails.verifiedBy\r\n      );\r\n      setVerifyingChannel(channelJson);\r\n    })();\r\n  }, [channelDetails, canVerify]);\r\n\r\n  React.useEffect(() => {\r\n    if (!channelDetails) return;\r\n    (async function() {\r\n      const bn = channelDetails.channelStartBlock.toString();\r\n      const block = await library.getBlock(+bn);\r\n      const date = moment(block?.timestamp * 1000);//convert from millisecs\r\n      setCreationDate(block ? date.format(DATE_FORMAT) : \"\");\r\n    })();\r\n  }, [channelDetails]);\r\n\r\n  React.useEffect(() => {\r\n    if (!onCoreNetwork) return;\r\n    (async function() {\r\n      await postReq(\"/channels/get_alias_details\", {\r\n        channel : account,\r\n        op: \"read\",\r\n      }).then(async ({ data }) => {\r\n        const aliasAccount = data;\r\n        console.log(aliasAccount);\r\n        if (aliasAccount.aliasAddress) {\r\n          const { aliasAddress } = aliasAccount;\r\n          console.log(aliasAddress);\r\n          setEthAliasAccount(aliasAddress);\r\n            await postReq(\"/channels/get_alias_verification_status\", {\r\n              aliasAddress: aliasAddress,\r\n              op: \"read\",\r\n            }).then(({ data }) => {\r\n              // if it returns undefined then we need to let them know to verify their channel\r\n              if (!data) {\r\n                setAliasVerified(false);\r\n                return;\r\n              }\r\n              const { status } = data;\r\n              setAliasVerified(status || false);\r\n              return data;\r\n            });\r\n        }\r\n      });\r\n    })();\r\n  }, [account , chainId]);\r\n\r\n  return (\r\n    <ChannelDetailsWrapper>\r\n      <SectionTop>\r\n        <ImageSection src={channelDetails.icon}></ImageSection>\r\n\r\n        <Details>\r\n          <ChannelName>\r\n            {channelDetails.name}\r\n            {canVerify && <VerifyImage src=\"/verify.png\"></VerifyImage>}\r\n          </ChannelName>\r\n          <ChanneStateText active={channelIsActive}>\r\n            {channelIsActive\r\n              ? \"ACTIVE\"\r\n              : channelIsDeactivated\r\n              ? \"DEACTIVATED\"\r\n              : \"BLOCKED\"}\r\n          </ChanneStateText>\r\n          <Subscribers>\r\n            <img src=\"/people.svg\"></img>\r\n            <SubscribersCount>\r\n              {channelDetails.subscribers.length}\r\n            </SubscribersCount>\r\n          </Subscribers>\r\n        </Details>\r\n      </SectionTop>\r\n\r\n      <SectionDes>{channelDetails.info}</SectionDes>\r\n        {aliasVerified === false && <span style={{ fontSize : \"16px\" , fontWeight : 500, color : \"red\"}}>Please Verify Alias on Polygon</span>}\r\n      <SectionDate>\r\n        {canVerify && (\r\n          <Verified>\r\n            <span>verified by:</span>\r\n\r\n            <VerifyingIcon src={verifyingChannel.icon}></VerifyingIcon>\r\n            <VerifyingName>{verifyingChannel.name}</VerifyingName>\r\n          </Verified>\r\n        )}\r\n\r\n        <Date>\r\n          <span>created on:</span>\r\n          <span style={{ marginLeft: \"10px\" }}>{creationDate}</span>\r\n        </Date>\r\n      </SectionDate>\r\n\r\n      <hr />\r\n    </ChannelDetailsWrapper>\r\n  );\r\n}\r\n\r\nconst ChannelDetailsWrapper = styled.div`\r\n  padding: 30px;\r\n  padding-bottom: 0;\r\n`;\r\n\r\nconst SectionTop = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin-bottom: 30px;\r\n`;\r\n\r\nconst ImageSection = styled.img`\r\n  width: 120px;\r\n  height: 120px;\r\n  border-radius: 50%;\r\n  margin-right: 20px;\r\n`;\r\nconst VerifyImage = styled.img`\r\n  width: 20px;\r\n  height: 25px;\r\n  margin-top: auto;\r\n  margin-bottom: auto;\r\n  margin-left: 8px;\r\n`;\r\n\r\nconst VerifyingIcon = styled.img`\r\n  height: 20px;\r\n  width: 20px;\r\n  border-radius: 50%;\r\n  margin-left: 6px;\r\n  margin-right: 5px;\r\n`;\r\n\r\nconst VerifyingName = styled.div``;\r\n\r\nconst Subscribers = styled.div`\r\n  height: fit-content;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst ActiveIcon = styled.span`\r\n  width: 8px;\r\n  height: 8px;\r\n  background: #57c255;\r\n  border-radius: 50%;\r\n`;\r\n\r\nconst ChanneStateText = styled.span`\r\n  color: #57c255;\r\n  font-family: Source Sans Pro;\r\n  font-style: normal;\r\n  font-weight: normal;\r\n  font-size: 18px;\r\n  line-height: 23px;\r\n  letter-spacing: 0.1em;\r\n  text-transform: uppercase;\r\n  color: ${(props) => (props.active ? \"#57c255\" : \"red\")};\r\n  margin-bottom: 8px;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  ${(props) =>\r\n    props.active &&\r\n    `\r\n        &::after {\r\n            width:8px;\r\n            height: 8px;\r\n            background: #57c255;\r\n            border-radius: 50%;\r\n            content: \"\";\r\n            display: inline-flex;\r\n            align-items: center;\r\n            margin-left: 6px;\r\n        }\r\n    `}\r\n`;\r\n\r\nconst SubscribersCount = styled.span`\r\n  margin-left: 5px;\r\n  padding-left: 8px;\r\n  padding-right: 8px;\r\n  height: 16px;\r\n  background: #35c5f3;\r\n  border-radius: 10px;\r\n  font-weight: 600;\r\n  font-size: 12px;\r\n  line-height: 17px;\r\n  display: inline-block;\r\n  color: #ffffff;\r\n`;\r\n\r\nconst Details = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nconst SectionLine = styled.div`\r\n  margin-left: 30px;\r\n  margin-right: 30px;\r\n`;\r\n\r\nconst Date = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  width: 240px;\r\n  color: #674c9f;\r\n`;\r\n\r\nconst Verified = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n\r\n  & > span {\r\n    color: #ec008c;\r\n    fontsize: 1em;\r\n    fontweight: bolder;\r\n  }\r\n`;\r\n\r\nconst ChannelName = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n\r\n  font-family: Source Sans Pro;\r\n  font-style: normal;\r\n  font-weight: normal;\r\n  font-size: 30px;\r\n  line-height: 38px;\r\n  margin-right: 8px;\r\n  text-transform: capitalize;\r\n  color: #e20880;\r\n`;\r\n\r\nconst SectionDate = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  font-style: normal;\r\n  font-weight: 600;\r\n  font-size: 16px;\r\n  line-height: 25px;\r\n  letter-spacing: 0.1em;\r\n  text-transform: uppercase;\r\n  margin-bottom: 30px;\r\n`;\r\n\r\nconst SectionDes = styled.div`\r\n  font-family: Source Sans Pro;\r\n  font-style: normal;\r\n  font-weight: 300;\r\n  font-size: 24px;\r\n  line-height: 30px;\r\n  letter-spacing: 0.1em;\r\n  text-transform: uppercase;\r\n  color: #000000;\r\n  margin-bottom: 40px;\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Section, Content } from \"components/SharedStyling\";\r\n\r\nimport SendNotifications from \"components/SendNotifications\";\r\nimport ChannelSettings from \"components/ChannelSettings\";\r\nimport ChannelDetails from \"components/ChannelDetails\";\r\nimport CreateChannel from \"components/CreateChannel\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\n// CREATE CHANNEL OWNER DASHBOARD\r\nfunction ChannelOwnerDashboard() {\r\n  const { channelDetails, delegatees } = useSelector((state) => state.admin);\r\n  return (\r\n    <>\r\n      <Section>\r\n        <ModifiedContent>\r\n          {/* display the create channel page if there are no details */}\r\n          {!channelDetails ? <CreateChannel /> : \"\"}\r\n          {/* display the create channel page if there are no details */}\r\n          {/* display the channel settings */}\r\n          {channelDetails ? <ChannelSettings /> : \"\"}\r\n          {/* display the channel settings */}\r\n          {/* display the details about the profile of the channel */}\r\n          {channelDetails ? <ChannelDetails /> : \"\"}\r\n          {/* display the details about the profile of the channel */}\r\n          {/* display the notifications settings */}\r\n          {channelDetails || delegatees?.length ? <SendNotifications /> : \"\"}\r\n          {/* display the notifications settings */}\r\n        </ModifiedContent>\r\n      </Section>\r\n    </>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst ModifiedContent = styled(Content)`\r\n  padding: 0;\r\n  position: relative;\r\n`;\r\n\r\n// Export Default\r\nexport default ChannelOwnerDashboard;\r\n","import React from \"react\";\r\n\r\nimport styled, { css } from 'styled-components';\r\nimport {Section, Content} from 'components/SharedStyling';\r\n\r\nimport CreateChannel from 'components/CreateChannel';\r\n\r\n// CREATE CHANNEL OWNER DASHBOARD\r\nfunction ChannelCreationDashboard() {\r\n  React.useEffect(() => {\r\n\r\n  });\r\n\r\n  // RRENDER\r\n  return (\r\n    <>\r\n      <Section>\r\n        <Content padding=\"0px\">\r\n          <CreateChannel />\r\n        </Content>\r\n      </Section>\r\n    </>\r\n  );\r\n}\r\n\r\n// css styles\r\n\r\n\r\n// Export Default\r\nexport default ChannelCreationDashboard;\r\n","import EPNSCoreHelper from 'helpers/EPNSCoreHelper';\r\nimport { ethers } from \"ethers\";\r\n\r\nimport { addresses, abis } from \"@project/contracts\";\r\n\r\n// STATIC SINGLETON\r\nexport const UserEvents = {\r\n    SUBSCRIBED: \"Subscribed\",\r\n    UNSUBSCRIBED: \"Unsubscribed\",\r\n    PUBLIC_KEY_BROADCASTED: \"PublicKeyBroadcasted\",\r\n    CREATED_CHANNEL: \"CreatedChannel\",\r\n    DEACTIVATE_CHANNEL: \"DeactivateChannel\",\r\n}\r\n\r\nexport default class UsersDataStore {\r\n    static instance = UsersDataStore.instance || new UsersDataStore();\r\n\r\n    state = {\r\n      usersCount: -1,\r\n      userMeta: null,\r\n      ownerMeta: null,\r\n\r\n      callbacks: [],\r\n\r\n      account: null,\r\n      epnsReadProvider: null,\r\n      epnsCommReadProvider: null\r\n    }\r\n\r\n    // init\r\n    init = (account, epnsReadProvider, epnsCommReadProvider) => {\r\n      // set account\r\n      this.state.account = account;\r\n\r\n      // First attach listeners then overwrite the old one if any\r\n      this.resetUsersListeners();\r\n      this.state.epnsReadProvider = epnsReadProvider;\r\n      this.state.epnsCommReadProvider = epnsCommReadProvider;\r\n      this.initUsersListenersAsync();\r\n\r\n      // next get store user count & user meta\r\n      this.getOwnerMetaAsync();\r\n      this.getUsersCountAsync();\r\n      this.getUserMetaAsync();\r\n    }\r\n\r\n    // RESET LISTENERS\r\n    resetUsersListeners = () => {\r\n      // only proceed if a read provider is attached\r\n      if (this.state.epnsReadProvider) {\r\n        this.state.epnsCommReadProvider.removeAllListeners(\"Subscribe\");\r\n        this.state.epnsCommReadProvider.removeAllListeners(\"Unsubscribe\");\r\n        this.state.epnsCommReadProvider.removeAllListeners(\"PublicKeyRegistered\");\r\n        this.state.epnsReadProvider.removeAllListeners(\"AddChannel\");\r\n        this.state.epnsReadProvider.removeAllListeners(\"DeactivateChannel\");\r\n      }\r\n\r\n      // reset user meta as well\r\n      this.state.userMeta = null;\r\n    }\r\n\r\n    // init LISTENERS\r\n    initUsersListenersAsync = async () => {\r\n      // Add Listeners\r\n      await this.listenForSubscribedAsync();\r\n      await this.listenForUnsubscribedAsync();\r\n\r\n      if (!this.state.userMeta || (this.state.userMeta && !this.state.userMeta.publicKeyRegistered)) {\r\n        await this.listenForPublicKeyBroadcastAsync();\r\n      }\r\n    }\r\n\r\n    // 1. Listen for Subscribe Async\r\n    listenForSubscribedAsync = async () => {\r\n      // TODO use the right contract comms\r\n      // const contract = this.state.epnsReadProvider;\r\n      // let filter = contract.filters.Subscribe(null, this.state.account);\r\n\r\n      // if (this.state.userMeta) {\r\n      //   this.state.userMeta.subscribedCount = this.state.userMeta.subscribedCount.add(1);\r\n      // }\r\n\r\n      // contract.on(filter, async (channel, user) => {\r\n      //   // then perform callbacks\r\n      //   if (this.state.callbacks[UserEvents.SUBSCRIBED]) {\r\n      //     for (let [callbackID, callback] of Object.entries(this.state.callbacks[UserEvents.SUBSCRIBED])) {\r\n      //       if (callback) { callback(channel, user); }\r\n      //     }\r\n      //   }\r\n      // });\r\n    }\r\n\r\n    // 2. Listen for Unsubscribe Async\r\n    listenForUnsubscribedAsync = async () => {\r\n      // TODO Use the COMMUNICATOR CONTRACT\r\n      // const contract = this.state.epnsReadProvider;\r\n      // let filter = contract.filters.Unsubscribe(null, this.state.account);\r\n\r\n      // if (this.state.userMeta) {\r\n      //   this.state.userMeta.subscribedCount = this.state.userMeta.subscribedCount.sub(1);\r\n      // }\r\n\r\n      // contract.on(filter, async (channel, user) => {\r\n      //   // then perform callbacks\r\n      //   if (this.state.callbacks[UserEvents.UNSUBSCRIBED]) {\r\n      //     for (let [callbackID, callback] of Object.entries(this.state.callbacks[UserEvents.UNSUBSCRIBED])) {\r\n      //       if (callback) { callback(channel, user); }\r\n      //     }\r\n      //   }\r\n      // });\r\n    }\r\n\r\n    // 3. Listen For Public Key Broadcast\r\n    listenForPublicKeyBroadcastAsync = async () => {\r\n        // TODO Use the COMMUNICATOR CONTRACT\r\n      // const contract = this.state.epnsReadProvider;\r\n      // let filter = contract.filters.PublicKeyRegistered(this.state.account, null);\r\n\r\n      // if (this.state.userMeta) {\r\n      //   this.state.userMeta.publicKeyRegistered = true;\r\n      // }\r\n\r\n      // contract.once(filter, async (channel, user) => {\r\n      //   // then perform callbacks\r\n      //   if (this.state.callbacks[UserEvents.UNSUBSCRIBED]) {\r\n      //     for (let [callbackID, callback] of Object.entries(this.state.callbacks[UserEvents.UNSUBSCRIBED])) {\r\n      //       if (callback) { callback(channel, user); }\r\n      //     }\r\n      //   }\r\n      // });\r\n    }\r\n\r\n    // FOR CALLBACKS\r\n    addCallbacks = (callbackType, callbackID, callback) => {\r\n      // first check if callback already exists\r\n      if (!this.state.callbacks[callbackType]) {\r\n        this.state.callbacks[callbackType] = {};\r\n      }\r\n\r\n      if (!this.state.callbacks[callbackType][callbackID]) {\r\n        this.state.callbacks[callbackType][callbackID] = callback;\r\n      }\r\n    }\r\n\r\n    removeCallbacks = (callbackType, callbackID) => {\r\n      // first check if callback already exists\r\n      if (this.state.callbacks[callbackType][callbackID]) {\r\n        this.state.callbacks[callbackType][callbackID] = null;\r\n      }\r\n    }\r\n\r\n    // GET OWNER META\r\n    getOwnerMetaAsync = async () => {\r\n      const enableLogs = 0;\r\n\r\n      return new Promise ((resolve, reject) => {\r\n        if (this.state.ownerMeta) {\r\n          if (enableLogs) console.log(\"getOwnerMetaAsync() [CACHED] --> %o\", this.state.ownerMeta);\r\n          resolve(this.state.ownerMeta);\r\n        }\r\n        else {\r\n          EPNSCoreHelper.getOwnerInfo(this.state.epnsReadProvider)\r\n            .then(response => {\r\n              this.state.ownerMeta = response;\r\n\r\n              if (enableLogs) console.log(\"getOwnerMetaAsync() --> %o\", response);\r\n              resolve(this.state.ownerMeta);\r\n            })\r\n            .catch(err => {\r\n              console.log(\"!!!Error, getOwnerMetaAsync() --> %o\", err);\r\n              reject(err);\r\n            });\r\n        }\r\n      });\r\n    }\r\n\r\n    // USERS COUNT\r\n    getUsersCountAsync = async () => {\r\n      return new Promise (async (resolve, reject) => {\r\n        if (this.state.channelsCount == -1) {\r\n          // Count not set, get and set it first\r\n          const count = EPNSCoreHelper.getTotalNumberOfUsers(this.state.epnsReadProvider)\r\n            .then(response => {\r\n              this.state.usersCount = response;\r\n              console.log(\"getUsersCountAsync() --> %o\", response);\r\n              resolve(this.state.usersCount)\r\n            })\r\n            .catch(err => { console.log(\"!!!Error, getUsersCountAsync() --> %o\", err); reject(err); });\r\n        }\r\n        else {\r\n          resolve(this.state.usersCount);\r\n        }\r\n      });\r\n    }\r\n\r\n    incrementUsersCountAsync = async (incrementCount) => {\r\n      return new Promise ((resolve, reject) => {\r\n        this.getUsersCountAsync()\r\n          .then(response => {\r\n            this.state.usersCount = response + incrementCount;\r\n            console.log(\"incrementChannelsCountAsync() --> %d\", this.state.usersCount);\r\n            resolve(this.state.usersCount);\r\n          })\r\n          .catch(err => { console.log(\"!!!Error, getUsersCountAsync() --> %o\", err); reject(err); });\r\n      });\r\n    }\r\n\r\n    // GET USER META\r\n    getUserMetaAsync = async () => {\r\n      const enableLogs = 0;\r\n\r\n      return new Promise ((resolve, reject) => {\r\n        if (this.state.userMeta) {\r\n          if (enableLogs) console.log(\"getUserMetaAsync() [CACHED] --> %o\", this.state.userMeta);\r\n          resolve(this.state.userMeta);\r\n        }\r\n        else {\r\n          EPNSCoreHelper.getUserInfo(this.state.account, this.state.epnsCommReadProvider)\r\n            .then(response => {\r\n              this.state.userMeta = response;\r\n\r\n              if (enableLogs) console.log(\"getUserMetaAsync() --> %o\", this.state.userMeta);\r\n              resolve(this.state.userMeta);\r\n            })\r\n            .catch(err => {\r\n              console.log(\"!!!Error, getUserMetaAsync() --> %o\", err);\r\n              reject(err);\r\n          });\r\n        }\r\n      });\r\n    }\r\n\r\n}\r\n","/**\r\n * This file helps us maintain a global state of all contracts to be used across the application\r\n * This is used to prevent duplication of logic and instantiating contracts multiple times\r\n * This is also used to prevent passing props everywhere and making the code ugly\r\n */\r\nimport { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  ZERO_ADDRESS: \"0x0000000000000000000000000000000000000000\",\r\n  epnsReadProvider: null, // the core contract reader\r\n  epnsWriteProvider: null, // the core contract with signer\r\n  epnsCommReadProvider: null, // the communicator contract reader\r\n  epnsCommWriteProvider: null, // the communicator write contract with signer\r\n  pushAdminAddress: null, // the address of the push admin\r\n};\r\n\r\nexport const contractSlice = createSlice({\r\n  name: \"contracts\",\r\n  initialState,\r\n  reducers: {\r\n    setCoreReadProvider: (state, action) => {\r\n      state.epnsReadProvider = action.payload;\r\n    },\r\n    setCoreWriteProvider: (state, action) => {\r\n      state.epnsWriteProvider = action.payload;\r\n    },\r\n    setCommunicatorReadProvider: (state, action) => {\r\n      state.epnsCommReadProvider = action.payload;\r\n    },\r\n    setCommunicatorWriteProvider: (state, action) => {\r\n      state.epnsCommWriteProvider = action.payload;\r\n    },\r\n    setPushAdmin: (state, action) => {\r\n      state.pushAdminAddress = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const {\r\n  setCoreReadProvider,\r\n  setCoreWriteProvider,\r\n  setCommunicatorReadProvider,\r\n  setCommunicatorWriteProvider,\r\n  setPushAdmin\r\n} = contractSlice.actions;\r\n\r\nexport default contractSlice.reducer;\r\n","import React from \"react\";\r\nimport ReactGA from \"react-ga\";\r\nimport { ethers } from \"ethers\";\r\nimport styled, { css } from \"styled-components\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport hex2ascii from \"hex2ascii\";\r\nimport { addresses, abis, envConfig } from \"@project/contracts\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport config from \"config\";\r\nimport EPNSCoreHelper from \"helpers/EPNSCoreHelper\";\r\nimport NotificationToast from \"components/NotificationToast\";\r\nimport AliasVerificationodal from \"components/AliasVerificationModal\";\r\nimport Info from \"segments/Info\";\r\nimport SpamBox from \"segments/spam\";\r\nimport Feedbox from \"segments/Feedbox\"; \r\nimport ViewChannels from \"segments/ViewChannels\";\r\nimport ChannelOwnerDashboard from \"segments/ChannelOwnerDashboard\";\r\nimport ChannelCreationDashboard from \"segments/ChannelCreationDashboard\";\r\nimport ChannelsDataStore from \"singletons/ChannelsDataStore\";\r\nimport UsersDataStore from \"singletons/UsersDataStore\";\r\nimport { postReq } from \"api\";\r\nimport {\r\n  setCoreReadProvider,\r\n  setCoreWriteProvider,\r\n  setCommunicatorReadProvider,\r\n  setCommunicatorWriteProvider,\r\n  setPushAdmin,\r\n} from \"redux/slices/contractSlice\";\r\nimport {\r\n  setUserChannelDetails,\r\n  setCanVerify,\r\n  setDelegatees,\r\n} from \"redux/slices/adminSlice\";\r\nimport { addNewNotification, toggleToggler, resetState } from \"redux/slices/notificationSlice\";\r\nexport const ALLOWED_CORE_NETWORK = envConfig.coreContractChain; //chainId of network which we have deployed the core contract on\r\nconst CHANNEL_TAB = 1; //Default to 1 which is the channel tab\r\n// Create Header\r\nfunction Home() {\r\n  ReactGA.pageview(\"/home\");\r\n  const dispatch = useDispatch();\r\n  const { account, library, chainId } = useWeb3React();\r\n  const {\r\n    epnsReadProvider,\r\n    epnsWriteProvider,\r\n    epnsCommReadProvider,\r\n  } = useSelector((state) => state.contracts);\r\n  const onCoreNetwork = ALLOWED_CORE_NETWORK === chainId;\r\n  const INITIAL_OPEN_TAB = CHANNEL_TAB; //if they are not on a core network.redirect then to the notifications page\r\n  const [controlAt, setControlAt] = React.useState(0);\r\n  const [modalOpen, setModalOpen] = React.useState(false);\r\n  const [adminStatusLoaded, setAdminStatusLoaded] = React.useState(false);\r\n  const [aliasEthAccount, setAliasEthAccount] = React.useState(null);\r\n  const [aliasVerified, setAliasVerified] = React.useState(null); // null means error, false means unverified and true means verified\r\n  const [channelAdmin, setChannelAdmin] = React.useState(false);\r\n  const [channelJson, setChannelJson] = React.useState([]);\r\n  console.log('\\n\\n\\n');\r\n  console.log({\r\n    aliasEthAccount,\r\n    aliasVerified,\r\n    channelAdmin\r\n  })\r\n  console.log('\\n\\n\\n');\r\n  // toast related section\r\n  const [toast, showToast] = React.useState(null);\r\n  const clearToast = () => showToast(null);\r\n  const showNetworkToast = () => {\r\n    showToast({\r\n      notificationTitle: (\r\n        <span style={{ color: \"#e20880\" }}> Invalid Network </span>\r\n      ),\r\n      notificationBody:\r\n        \"Please connect to the Kovan network to access channels\",\r\n    });\r\n  };\r\n  //clear toast variable after it is shown\r\n  React.useEffect(() => {\r\n    if (toast) {\r\n      clearToast();\r\n    }\r\n  }, [toast]);\r\n  // toast related section\r\n  React.useEffect(() => {\r\n    dispatch(resetState());\r\n    setTimeout(() => dispatch(toggleToggler()), 300)\r\n  }, [account]);\r\n  /**\r\n   * Logic to get channel alias and alias verification status as well as create instances of core and comunicator contract\r\n   */\r\n  React.useEffect(() => {\r\n    (async function init() {\r\n      const coreProvider = onCoreNetwork\r\n        ? library\r\n        : ethers.getDefaultProvider(ALLOWED_CORE_NETWORK, {\r\n            etherscan: config.etherscanToken,\r\n          });\r\n      // if we are not on the core network then check for if this account is an alias for another channel\r\n      if (!onCoreNetwork) {\r\n        // get the eth address of the alias address, in order to properly render information about the channel\r\n        const aliasEth = await postReq(\"/channels/get_eth_address\", {\r\n          aliasAddress: account,\r\n          op: \"read\",\r\n        }).then(({ data }) => {\r\n          console.log({ data });\r\n          const ethAccount = data;\r\n          if (ethAccount) {\r\n            setAliasEthAccount(ethAccount.ethAddress);\r\n          }\r\n          return data;\r\n        });\r\n        if (aliasEth) {\r\n          // if an alias exists, check if its verified.\r\n          await postReq(\"/channels/get_alias_verification_status\", {\r\n            aliasAddress: account,\r\n            op: \"read\",\r\n          }).then(({ data }) => {\r\n            // if it returns undefined then we need to let them know to verify their channel\r\n            if (!data) {\r\n              setAliasVerified(false);\r\n              return;\r\n            }\r\n            const { status } = data;\r\n            setAliasVerified(status || false);\r\n            return data;\r\n          });\r\n        }\r\n      }\r\n      // if we are not on the core network then fetch if there is an alias address from the api\r\n      // inititalise the read contract for the core network\r\n      const coreContractInstance = new ethers.Contract(\r\n        addresses.epnscore,\r\n        abis.epnscore,\r\n        coreProvider\r\n      );\r\n      // initialise the read contract for the communicator function\r\n      const commAddress = onCoreNetwork\r\n        ? addresses.epnsEthComm\r\n        : addresses.epnsPolyComm;\r\n      const commContractInstance = new ethers.Contract(\r\n        commAddress,\r\n        abis.epnsComm,\r\n        library\r\n      );\r\n      dispatch(setCommunicatorReadProvider(commContractInstance));\r\n      dispatch(setCoreReadProvider(coreContractInstance));\r\n      // initialise the read contract for the communicator function\r\n      if (!!(library && account)) {\r\n        let signer = library.getSigner(account);\r\n        const coreSignerInstance = new ethers.Contract(\r\n          addresses.epnscore,\r\n          abis.epnscore,\r\n          signer\r\n        );\r\n        const communicatorSignerInstance = new ethers.Contract(\r\n          commAddress,\r\n          abis.epnsComm,\r\n          signer\r\n        );\r\n        dispatch(setCoreWriteProvider(coreSignerInstance));\r\n        dispatch(setCommunicatorWriteProvider(communicatorSignerInstance));\r\n      }\r\n    })();\r\n  }, [account, chainId]);\r\n  /**\r\n   * When we instantiate the contract instances, fetch basic information about the user\r\n   * Corresponding channel owned.\r\n   */\r\n  React.useEffect(() => {\r\n    if (!epnsReadProvider || !epnsCommReadProvider) return;\r\n    // Reset when account refreshes\r\n    setChannelAdmin(false);\r\n    dispatch(setUserChannelDetails(null));\r\n    setAdminStatusLoaded(false);\r\n    userClickedAt(INITIAL_OPEN_TAB);\r\n    setChannelJson([]);\r\n    // save push admin to global state\r\n    epnsReadProvider.pushChannelAdmin().then((response) => {\r\n      dispatch(setPushAdmin(response));\r\n    });\r\n    // EPNS Read Provider Set\r\n    if (epnsReadProvider != null && epnsCommReadProvider != null) {\r\n      // Instantiate Data Stores\r\n      UsersDataStore.instance.init(\r\n        account,\r\n        epnsReadProvider,\r\n        epnsCommReadProvider\r\n      );\r\n      ChannelsDataStore.instance.init(\r\n        account,\r\n        chainId,\r\n        epnsReadProvider,\r\n        epnsCommReadProvider\r\n      );\r\n      checkUserForChannelOwnership();\r\n      fetchDelegators();\r\n    }\r\n  }, [epnsReadProvider, epnsCommReadProvider]);\r\n  // handle user action at control center\r\n  const userClickedAt = (controlIndex) => {\r\n    setControlAt(controlIndex);\r\n  };\r\n  // fetch all the channels who have delegated to this account\r\n  const fetchDelegators = () => {\r\n    postReq(\"/channels/delegatee/get_channels\", {\r\n      delegateAddress: account,\r\n      op: \"read\",\r\n    })\r\n      .then(async ({ data: delegators }) => {\r\n        // if there are actual delegators\r\n        // fetch basic information abouot the channels and store it to state\r\n        if (delegators && delegators.channelOwners) {\r\n          const channelInformationPromise = [\r\n            ...new Set([account, ...delegators.channelOwners])//make the accounts unique\r\n          ].map((channelAddress) =>\r\n            ChannelsDataStore.instance\r\n              .getChannelJsonAsync(channelAddress)\r\n              .then((res) => ({ ...res, address: channelAddress }))\r\n              .catch(() => false)\r\n          );\r\n          const channelInformation = await Promise.all(\r\n            channelInformationPromise\r\n          );\r\n          dispatch(setDelegatees(channelInformation.filter(Boolean)));\r\n          // fetch the json information about this delegatee channel and add to global state\r\n        } else {\r\n          dispatch(setDelegatees([]));\r\n        }\r\n      })\r\n      .catch(async (err) => {\r\n        console.log({ err });\r\n      });\r\n  };\r\n  // Check if a user is a channel or not\r\n  const checkUserForChannelOwnership = async () => {\r\n    // Check if account is admin or not and handle accordingly\r\n    const ownerAccount = !onCoreNetwork ? aliasEthAccount : account;\r\n    EPNSCoreHelper.getChannelJsonFromUserAddress(ownerAccount, epnsReadProvider)\r\n      .then(async (response) => {\r\n        // if channel admin, then get if the channel is verified or not, then also fetch more details about the channel\r\n        const verificationStatus = await epnsReadProvider.getChannelVerfication(\r\n          ownerAccount\r\n        );\r\n        const channelJson = await epnsReadProvider.channels(ownerAccount);\r\n        const channelSubscribers = await ChannelsDataStore.instance.getChannelSubscribers(\r\n          ownerAccount, chainId\r\n        );\r\n        dispatch(\r\n          setUserChannelDetails({\r\n            ...response,\r\n            ...channelJson,\r\n            subscribers: channelSubscribers,\r\n          })\r\n        );\r\n        dispatch(setCanVerify(Boolean(verificationStatus)));\r\n        setChannelJson(response);\r\n        setChannelAdmin(true);\r\n        setAdminStatusLoaded(true);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\r\n          \"There was an error [checkUserForChannelOwnership]:\",\r\n          err.message\r\n        );\r\n        setChannelAdmin(false);\r\n        setAdminStatusLoaded(true);\r\n      })\r\n      .finally(() => {\r\n        setAdminStatusLoaded(true);\r\n      });\r\n  };\r\n  // Render\r\n  return (\r\n    <Container>\r\n      <Controls>\r\n        <ControlButton\r\n          index={0}\r\n          active={controlAt == 0 ? 1 : 0}\r\n          border=\"#e20880\"\r\n          onClick={() => {\r\n            userClickedAt(0);\r\n          }}\r\n        >\r\n          <ControlImage\r\n            src=\"./svg/feedbox.svg\"\r\n            active={controlAt == 0 ? 1 : 0}\r\n          />\r\n          <ControlText active={controlAt == 0 ? 1 : 0}>Inbox</ControlText>\r\n        </ControlButton>\r\n        <ControlButton\r\n          index={1}\r\n          active={controlAt == 1 ? 1 : 0}\r\n          border=\"#35c5f3\"\r\n          onClick={() => {\r\n            userClickedAt(1);\r\n          }}\r\n        >\r\n          <ControlImage\r\n            src=\"./svg/channel.svg\"\r\n            active={controlAt == 1 ? 1 : 0}\r\n          />\r\n          <ControlText active={controlAt == 1 ? 1 : 0}>Channels</ControlText>\r\n        </ControlButton>\r\n        <ControlButton\r\n          index={2}\r\n          active={controlAt == 2 ? 1 : 0}\r\n          border=\"#674c9f\"\r\n          disabled={!adminStatusLoaded}\r\n          onClick={() => {\r\n            if (adminStatusLoaded) {\r\n              // if youre not on kovan and you dont have a channel, you cannot create except on kovan, so throw error\r\n              if (!channelAdmin && !onCoreNetwork) {\r\n                return showNetworkToast();\r\n              }\r\n              if (channelAdmin && !aliasVerified && !onCoreNetwork) {\r\n                return setModalOpen(true);\r\n              }\r\n              userClickedAt(2);\r\n            }\r\n          }}\r\n        >\r\n          {!adminStatusLoaded && (\r\n            <Loader type=\"Oval\" color=\"#674c9f\" height={32} width={32} />\r\n          )}\r\n          {channelAdmin &&\r\n            adminStatusLoaded &&\r\n            (onCoreNetwork ? true : aliasVerified) && (\r\n              <ControlChannelContainer>\r\n                <ControlChannelImage\r\n                  src={`${channelJson.icon}`}\r\n                  active={controlAt == 2 ? 1 : 0}\r\n                />\r\n                <ControlChannelText active={controlAt == 2 ? 1 : 0}>\r\n                  {channelJson.name}\r\n                </ControlChannelText>\r\n              </ControlChannelContainer>\r\n            )}\r\n          {channelAdmin &&\r\n            adminStatusLoaded &&\r\n            aliasVerified === false &&\r\n            !onCoreNetwork && (\r\n              <ControlChannelContainer>\r\n                <ControlChannelImage\r\n                  src={`${channelJson.icon}`}\r\n                  active={controlAt == 2 ? 1 : 0}\r\n                />\r\n                <ControlChannelText active={controlAt == 2 ? 1 : 0}>\r\n                  Verify channel alias\r\n                </ControlChannelText>\r\n              </ControlChannelContainer>\r\n            )}\r\n          {channelAdmin &&\r\n            adminStatusLoaded &&\r\n            aliasVerified === null &&\r\n            !onCoreNetwork && (\r\n              <ControlChannelContainer>\r\n                <ControlChannelImage\r\n                  src={`${channelJson.icon}`}\r\n                  active={controlAt == 2 ? 1 : 0}\r\n                />\r\n                <ControlChannelText active={controlAt == 2 ? 1 : 0}>\r\n                  Contact the admin\r\n                </ControlChannelText>\r\n              </ControlChannelContainer>\r\n            )}\r\n          {!channelAdmin && adminStatusLoaded && (\r\n            <>\r\n              <ControlImage\r\n                src=\"./svg/channeladmin.svg\"\r\n                active={controlAt == 2 ? 1 : 0}\r\n              />\r\n              <ControlText active={controlAt == 2 ? 1 : 0}>\r\n                Create Your Channel\r\n              </ControlText>\r\n            </>\r\n          )}\r\n        </ControlButton>\r\n        <ControlButton\r\n          index={3}\r\n          active={controlAt == 3 ? 1 : 0}\r\n          border=\"#e20880\"\r\n          onClick={() => {\r\n            userClickedAt(3);\r\n          }}\r\n        >\r\n          <ControlImage src=\"./svg/share.svg\" active={controlAt == 3 ? 1 : 0} />\r\n          <ControlText active={controlAt == 3 ? 1 : 0}>\r\n            Receive Notifs\r\n          </ControlText>\r\n        </ControlButton>\r\n      </Controls>\r\n      <Interface>\r\n        {controlAt == 0 && <Feedbox />}\r\n        {controlAt == 1 && <ViewChannels />}\r\n        {controlAt == 2 && adminStatusLoaded && <ChannelOwnerDashboard />}\r\n        {controlAt == 3 && <Info />}\r\n        {toast && (\r\n          <NotificationToast notification={toast} clearToast={clearToast} />\r\n        )}\r\n        {modalOpen && (\r\n          <AliasVerificationodal\r\n            onClose={(val) => setModalOpen(val)}\r\n            onSuccess={() => setAliasVerified(true)}\r\n            verificationStatus={aliasVerified}\r\n            aliasEthAccount={aliasEthAccount}\r\n          />\r\n        )}\r\n      </Interface>\r\n    </Container>\r\n  );\r\n}\r\n// css style\r\nconst Container = styled.div`\r\n  flex: 1;\r\n  display: block;\r\n  flex-direction: column;\r\n  min-height: calc(100vh - 100px);\r\n`;\r\nconst Controls = styled.div`\r\n  flex: 0;\r\n  display: flex;\r\n  flex-direction: row;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n`;\r\nconst ControlButton = styled.div`\r\n  flex: 1 1 21%;\r\n  height: 120px;\r\n  min-width: 200px;\r\n  background: #fff;\r\n  box-shadow: 0px 15px 20px -5px rgba(0, 0, 0, 0.1);\r\n  border-radius: 15px;\r\n  border: 1px solid rgb(225, 225, 225);\r\n  border-bottom: 10px solid rgb(180, 180, 180);\r\n  margin: 20px;\r\n  overflow: hidden;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-bottom: 10px solid\r\n    ${(props) => (props.active ? props.border : \"rgb(180,180,180)\")};\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`;\r\nconst ControlImage = styled.img`\r\n  height: 30%;\r\n  margin-right: 15px;\r\n  filter: ${(props) => (props.active ? \"brightness(1)\" : \"brightness(0)\")};\r\n  opacity: ${(props) => (props.active ? \"1\" : \"0.25\")};\r\n  transition: transform 0.2s ease-out;\r\n  ${(props) =>\r\n    props.active &&\r\n    css`\r\n      transform: scale(3.5) translate(-20px, 0px);\r\n      opacity: 0.4;\r\n    `};\r\n`;\r\nconst ControlText = styled.label`\r\n  font-size: 16px;\r\n  font-weight: 200;\r\n  opacity: ${(props) => (props.active ? \"1\" : \"0.75\")};\r\n  transition: transform 0.2s ease-out;\r\n  ${(props) =>\r\n    props.active &&\r\n    css`\r\n      transform: scale(1.3) translate(-10px, 0px);\r\n    `};\r\n`;\r\nconst ControlChannelContainer = styled.div`\r\n  margin: 0px 20px;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  display: flex;\r\n`;\r\nconst ControlChannelImage = styled.img`\r\n  width: 20%;\r\n  margin-bottom: 10px;\r\n  transition: transform 0.2s ease-out;\r\n  ${(props) =>\r\n    props.active &&\r\n    css`\r\n      transform: scale(3.5) translate(-40px, 5px);\r\n      opacity: 0.2;\r\n      z-index: 1;\r\n    `};\r\n`;\r\nconst ControlChannelText = styled.label`\r\n  font-size: 16px;\r\n  font-weight: 300;\r\n  opacity: ${(props) => (props.active ? \"1\" : \"0.75\")};\r\n  transition: transform 0.2s ease-out;\r\n  background: -webkit-linear-gradient(#db268a, #34c6f3);\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  z-index: 2;\r\n  ${(props) =>\r\n    props.active &&\r\n    css`\r\n      transform: scale(1.1) translate(0px, -20px);\r\n    `};\r\n`;\r\nconst Interface = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  box-shadow: 0px 15px 20px -5px rgba(0, 0, 0, 0.1);\r\n  border-radius: 20px;\r\n  border: 1px solid rgb(225, 225, 225);\r\n  margin: 15px;\r\n  overflow: hidden;\r\n`;\r\n// Export Default\r\nexport default Home;","// Usage:\r\n//   create component file (e.g. BlockiesIdenticon.js) using uncommented code below\r\n//   npm install blockies-identicon\r\n//   in the file you want to use the component (e.g. BlockiesIdenticon.js):\r\n//   import Blockies from \"blockies/react-component\";\r\n//   <Blockies opts={{seed: \"foo\", color: \"#dfe\", bgcolor: \"#a71\", size: 15, scale: 3, spotcolor: \"#000\"}}/>\r\n\r\nimport React from 'react';\r\nimport blockies from \"./blockies\";\r\n\r\nexport default class BlockiesIdenticon extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n  getOpts () {\r\n    return {\r\n      seed: this.props.opts.seed || \"foo\",\r\n      color: this.props.opts.color || \"#dfe\",\r\n      bgcolor: this.props.opts.bgcolor || \"#a71\",\r\n      size: this.props.opts.size || 15,\r\n      scale: this.props.opts.scale || 3,\r\n      spotcolor: this.props.opts.spotcolor || \"#000\"\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.draw();\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    // Check for prop change\r\n    if (this.props.seed !== prevProps.seed) {\r\n      this.draw();\r\n    }\r\n  }\r\n  draw() {\r\n    blockies.render({\r\n      seed: this.props.opts.seed,\r\n      size: this.props.opts.size,\r\n      scale: this.props.opts.scale\r\n    }, this.canvas);\r\n  }\r\n  render() {\r\n    return React.createElement(\"canvas\", {ref: canvas => this.canvas = canvas});\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { useWeb3React, UnsupportedChainIdError } from '@web3-react/core'\r\n\r\nimport styled, { css } from 'styled-components';\r\n\r\nimport Loader from 'react-loader-spinner'\r\nimport Blockies from \"components/BlockiesIdenticon\";\r\n//   <Blockies opts={{seed: \"foo\", color: \"#dfe\", bgcolor: \"#a71\", size: 15, scale: 3, spotcolor: \"#000\"}}/>\r\n\r\n// Create Header\r\nfunction Profile() {\r\n  const { active, error, account, library, chainId } = useWeb3React();\r\n\r\n  const [address, setAddress] = React.useState('');\r\n  const [ens, setENS] = React.useState('');\r\n  const [ensFetched, setENSFetched] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    if (account && account != '') {\r\n      // Check if the address is the same\r\n      if (address !== account) {\r\n        setENS('');\r\n        setENSFetched(false);\r\n\r\n        // get ens\r\n        library\r\n          .lookupAddress(account).then(function(name) {\r\n            setENS(name);\r\n            setENSFetched(true);\r\n            setAddress(account);\r\n          })\r\n          .catch(() => {\r\n            setENSFetched(true);\r\n            setAddress(account);\r\n          })\r\n      }\r\n\r\n    }\r\n  }, [account]);\r\n\r\n  // to create blockies\r\n\r\n  return (\r\n    <>\r\n    {account && account !== '' && !error &&\r\n      <Container>\r\n        <Blocky>\r\n          <BlockyInner>\r\n             <Blockies seed={account.toLowerCase()} opts={{seed: account.toLowerCase(), size: 7, scale: 7}}/>\r\n          </BlockyInner>\r\n        </Blocky>\r\n        <Wallet>\r\n        {!ensFetched &&\r\n          <Loader\r\n      \t     type=\"Oval\"\r\n      \t     color=\"#FFF\"\r\n      \t     height={16}\r\n      \t     width={16}\r\n      \t  />\r\n        }\r\n        {ensFetched && ens &&\r\n          <>{ens}</>\r\n        }\r\n        {ensFetched && !ens &&\r\n          <>{account.substring(0, 6)}.....{account.substring(account.length - 6)}</>\r\n        }\r\n        </Wallet>\r\n      </Container>\r\n    }\r\n    </>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.button`\r\n  margin: 0;\r\n  padding: 0;\r\n  background: none;\r\n  border: 0;\r\n  outline: 0;\r\n  justify-content: flex-start;\r\n  flex: 1,\r\n  flex-direction: row;\r\n  align-items: center;\r\n  display: flex;\r\n`\r\n\r\nconst Blocky = styled.div`\r\n  position: relative;\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 100%;\r\n  overflow: hidden;\r\n  transform: scale(0.85);\r\n  outline-width: 2px;\r\n  outline-color: rgba(225,225,225,1);\r\n`\r\n\r\nconst BlockyInner = styled.div`\r\n`\r\n\r\nconst Wallet = styled.span`\r\n  margin: 0px 10px;\r\n  padding: 8px 15px;\r\n  height: 16px;\r\n  display: flex;\r\n  align-items: baseline;\r\n  justify-content: center;\r\n  font-weight: bold;\r\n  font-size: 14px;\r\n  color: #fff;\r\n  border-radius: 15px;\r\n  background: rgb(226,8,128);\r\n  background: linear-gradient(107deg, rgba(226,8,128,1) 30%, rgba(103,76,159,1) 70%, rgba(53,197,243,1) 100%);\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`\r\n\r\n// Export Default\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport styled, { css, keyframes } from 'styled-components';\r\nimport { AnimateOnChange } from 'react-animation';\r\n\r\n// Create Header\r\nfunction Bell({ badgeCount, bellPressedCB, width, height }) {\r\n  const [badge, setBadge] = React.useState(0);\r\n  const [ring, setRing] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    // Set new badge count and ring the bell\r\n    setBadge(badgeCount);\r\n\r\n    if (badge > 0) {\r\n      setResetRinger();\r\n    }\r\n  }, [badgeCount]);\r\n\r\n  const setResetRinger = () => {\r\n    setRing(true);\r\n\r\n    setTimeout(() => {\r\n        setRing(false)\r\n    }, 500);\r\n  }\r\n\r\n  return (\r\n    <Container\r\n      onClick={() => {\r\n        if (bellPressedCB) {bellPressedCB();}\r\n      }}\r\n      width={width}\r\n      height={height}\r\n    >\r\n      <BellImage ring={ring} src=\"./bell.png\" className=\"tadaaa\" ringme={ring} width={width} height={height} />\r\n      <BellImageAbs src=\"./bellball.png\" width={width} height={height} />\r\n      <BellImageAbs src=\"./ring.png\" width={width} height={height} />\r\n      {badge != 0 &&\r\n        <AnimateOnChange\r\n          animationIn=\"fadeIn\"\r\n          animationOut=\"fadeOut\"\r\n          durationOut={200}\r\n        >\r\n          <Badge>{badge}</Badge>\r\n        </AnimateOnChange>\r\n      }\r\n    </Container>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Container = styled.button`\r\n  border: 0;\r\n  outline: 0;\r\n  background: transparent;\r\n  border: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 0 10px;\r\n  position: relative;\r\n  height: ${props => props.height || 40}px;\r\n  width: ${props => props.width || 40}px;\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n  }\r\n`\r\n\r\nconst tadaaa = keyframes`\r\n  0% {\r\n    -webkit-transform: scale3d(1, 1, 1);\r\n    -ms-transform: scale3d(1, 1, 1);\r\n    transform: scale3d(1, 1, 1);\r\n  }\r\n\r\n  10%, 20% {\r\n    -webkit-transform: scale3d(.98, .98, .98) rotate3d(0, 0, 1, -5deg);\r\n    -ms-transform: scale3d(.98, .98, .98) rotate3d(0, 0, 1, -5deg);\r\n    transform: scale3d(.98, .98, .98) rotate3d(0, 0, 1, -5deg);\r\n  }\r\n\r\n  30%, 50%, 70%, 90% {\r\n    -webkit-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 10, 5deg);\r\n    -ms-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 10, 5deg);\r\n    transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 10, 5deg);\r\n  }\r\n\r\n  40%, 60%, 80% {\r\n    -webkit-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 1, -5deg);\r\n    -ms-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 1, -5deg);\r\n    transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 1, -5deg);\r\n  }\r\n\r\n  100% {\r\n    -webkit-transform: scale3d(1, 1, 1);\r\n    -ms-transform: scale3d(1, 1, 1);\r\n    transform: scale3d(1, 1, 1);\r\n  }\r\n`;\r\n\r\nconst BellImage = styled.img`\r\n  position: absolute;\r\n  height: ${props => props.height || 40}px;\r\n  width: ${props => props.width || 40}px;\r\n\r\n  transition: transform .2s ease-out;\r\n  ${ props => props.ringme && css`\r\n    animation: ${tadaaa} 1s ease-out;\r\n  `};\r\n\r\n\r\n`\r\n\r\nconst BellImageAbs = styled(BellImage)`\r\n  left: 0,\r\n`\r\n\r\nconst Badge = styled.span`\r\n  position: absolute;\r\n  font-size: 10px;\r\n  color: #fff;\r\n  padding: 2px 4px;\r\n  border-radius: 100%;\r\n  background: rgba(208.0, 44.0, 30.0, 1.0);\r\n  top: 0px;\r\n  left: 5px;\r\n  font-weight: bold;\r\n`\r\n\r\n// Export Default\r\nexport default Bell;\r\n","import React from \"react\";\r\n\r\nimport styled, { css } from \"styled-components\";\r\nimport {Section, Item, ItemH, Button} from 'components/SharedStyling';\r\n\r\nimport { useWeb3React, UnsupportedChainIdError } from '@web3-react/core'\r\nimport {\r\n  NoEthereumProviderError,\r\n  UserRejectedRequestError as UserRejectedRequestErrorInjected\r\n} from '@web3-react/injected-connector'\r\nimport { Web3Provider } from 'ethers/providers'\r\n\r\nimport Profile from 'components/Profile';\r\nimport Bell from 'components/Bell';\r\n\r\n\r\n// Create Header\r\nfunction Header() {\r\n  const context = useWeb3React<Web3Provider>()\r\n\r\n  const { active, error } = useWeb3React();\r\n  const { deactivate } = context\r\n\r\n  const [showLoginControls, setShowLoginControls] = React.useState(false);\r\n\r\n  function getErrorMessage(error: Error) {\r\n    if (error instanceof NoEthereumProviderError) {\r\n      return 'Web3 not enabled, install MetaMask on desktop or visit from a dApp browser on mobile'\r\n    } else if (error instanceof UnsupportedChainIdError) {\r\n      return \"Unsupported Network, please connect to the Kovan or Polygon(Mumbai) network\"\r\n    } else if (\r\n      error instanceof UserRejectedRequestErrorInjected\r\n    ) {\r\n      return 'Please authorize this website to access the dApp'\r\n    } else {\r\n      console.error(error)\r\n      return 'An unknown error occurred. Check the console for more details'\r\n    }\r\n  }\r\n\r\n  const bellPressed = () => {\r\n    setShowLoginControls(!showLoginControls);\r\n  }\r\n\r\n  const disconnect = () => {\r\n    setShowLoginControls(false);\r\n    deactivate();\r\n  }\r\n\r\n  return (\r\n    <HeaderContainer\r\n      direction=\"row\"\r\n      padding=\"10px 15px\"\r\n    >\r\n      <ItemH\r\n        justify=\"flex-start\"\r\n        flex=\"0\"\r\n      >\r\n        {active && !error &&\r\n          <Profile />\r\n        }\r\n        {!active &&\r\n          <Logo src=\"epns.png\" />\r\n        }\r\n      </ItemH>\r\n\r\n      <ItemH\r\n        justify=\"flex-end\"\r\n      >\r\n        {active && !error &&\r\n          <Bell\r\n            badgeCount={0}\r\n            bellPressedCB={bellPressed}\r\n            width={32}\r\n            height={32}\r\n          />\r\n        }\r\n\r\n        {showLoginControls &&\r\n          <Item\r\n            position=\"absolute\"\r\n          >\r\n            <Button\r\n              bg=\"#000\"\r\n              size=\"12px\"\r\n              spacing=\"0.2em\"\r\n              textTransform=\"uppercase\"\r\n              weight=\"600\"\r\n              radius=\"20px\"\r\n              onClick={() => disconnect()}\r\n            >\r\n              Disconnect\r\n            </Button>\r\n          </Item>\r\n        }\r\n\r\n        <ItemH\r\n          justify=\"flex-end\"\r\n          flex=\"initial\"\r\n        >\r\n          {!!error &&\r\n            <PrimaryTheme>{getErrorMessage(error)}</PrimaryTheme>\r\n          }\r\n          {!active && !error &&\r\n            <ThirdTheme>Please connect to a Web3 Network</ThirdTheme>\r\n          }\r\n          <Connection phase={active ? 'active' : error ? 'error' : 'waiting'} />\r\n        </ItemH>\r\n      </ItemH>\r\n    </HeaderContainer>\r\n  );\r\n}\r\n\r\n// CSS Styles\r\nconst HeaderContainer = styled(Section)`\r\n  @media (max-width: 1440px) {\r\n    background: rgb(255,255,255);\r\n  }\r\n`\r\n\r\nconst Logo = styled.img`\r\n  height: 40px;\r\n`\r\n\r\nconst Notice = styled.span`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 8px 15px;\r\n  margin: 10px;\r\n  color: #fff;\r\n  border-radius: 20px;\r\n  font-size: 14px;\r\n`\r\n\r\nconst PrimaryTheme = styled(Notice)`\r\n  background: #e20880;\r\n`\r\n\r\nconst ThirdTheme = styled(Notice)`\r\n  background: #674c9f;\r\n`\r\n\r\nconst Connection = styled.span`\r\n  height: 10px;\r\n  width: 10px;\r\n  border-radius: 100%;\r\n  flex-shrink: 0;\r\n\r\n  ${props => props.phase === 'active' && css`\r\n    background: #77DD77;\r\n  `};\r\n\r\n  ${props => props.phase === 'waiting' && css`\r\n    background: #FFAE42;\r\n  `};\r\n\r\n  ${props => props.phase === 'error' && css`\r\n    background: #DC143C;\r\n  `};\r\n`\r\n\r\n// Export Default\r\nexport default Header;\r\n","import React from \"react\";\r\nimport ReactGA from \"react-ga\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport { Web3Provider } from \"ethers/providers\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\nimport { AbstractConnector } from \"@web3-react/abstract-connector\";\r\nimport { useEagerConnect, useInactiveListener } from \"hooks\";\r\nimport { injected, walletconnect, portis, ledger } from \"connectors\";\r\nimport { envConfig } from \"@project/contracts\";\r\nimport Home from \"pages/Home\";\r\nimport Header from \"segments/Header\";\r\nimport styled from \"styled-components\";\r\nimport { Item, ItemH, Span, H2, B, A } from \"components/SharedStyling\";\r\nimport UnderProgressModal from './components/UnderProgressModal';\r\nimport \"react-toastify/dist/ReactToastify.min.css\";\r\n\r\nimport * as dotenv from \"dotenv\";\r\ndotenv.config();\r\n\r\n// define the different type of connectors which we use\r\nconst web3Connectors = {\r\n  Injected: {\r\n    obj: injected,\r\n    logo: \"./svg/login/metamask.svg\",\r\n    title: \"MetaMask\",\r\n  },\r\n  WalletConnect: {\r\n    obj: walletconnect,\r\n    logo: \"./svg/login/walletconnect.svg\",\r\n    title: \"Wallet Connect\",\r\n  },\r\n  // Trezor: {obj: trezor, logo: './svg/login/trezor.svg', title: 'Trezor'},\r\n  Ledger: { obj: ledger, logo: \"./svg/login/ledger.svg\", title: \"Ledger\" },\r\n  Portis: { obj: portis, logo: \"./svg/login/portis.svg\", title: \"Portis\" },\r\n};\r\n\r\nexport default function App() {\r\n  const { connector, activate, active, error } = useWeb3React<Web3Provider>();\r\n  const [activatingConnector, setActivatingConnector] = React.useState<\r\n    AbstractConnector\r\n  >();\r\n\r\n  React.useEffect(() => {\r\n    if (activatingConnector && activatingConnector === connector) {\r\n      setActivatingConnector(undefined);\r\n    }\r\n  }, [activatingConnector, connector]);\r\n\r\n  // handle logic to eagerly connect to the injected ethereum provider, if it exists and has granted access already\r\n  const triedEager = useEagerConnect();\r\n  // handle logic to connect in reaction to certain events on the injected ethereum provider, if it exists\r\n  useInactiveListener(!triedEager || !!activatingConnector);\r\n  // Initialize GA\r\n  // ReactGA.initialize(envConfig.googleAnalyticsId);\r\n  // alert(envConfig.googleAnalyticsId);\r\n  // ReactGA.pageview(\"/login\");\r\n  // Initialize GA\r\n\r\n  return (\r\n    <>\r\n    \r\n      <HeaderContainer>\r\n        <Header/>\r\n      </HeaderContainer>\r\n\r\n      <ParentContainer>\r\n        \r\n        {active && !error && (\r\n          <HomeContainer>\r\n\r\n            <Home />\r\n          </HomeContainer>\r\n        )}\r\n\r\n        {!active && (\r\n          <Item>\r\n            {/* <UnderProgressModal/> */}\r\n\r\n            <ProviderLogo\r\n              src=\"./epnshomelogo.png\"\r\n              srcSet={\"./epnshomelogo@2x.png 2x, ./epnshomelogo@2x.png 3x\"}\r\n            />\r\n            <Item\r\n              bg=\"#fafafa\"\r\n              border=\"1px solid #ddd\"\r\n              padding=\"15px\"\r\n              radius=\"12px\"\r\n            >\r\n              <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n                <Span bg=\"#e20880\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">\r\n                  Connect\r\n                </Span>\r\n                <Span weight=\"200\"> Your Wallet</Span>\r\n              </H2>\r\n\r\n              <ItemH maxWidth=\"800px\" align=\"stretch\">\r\n                {Object.keys(web3Connectors).map((name) => {\r\n                  const currentConnector = web3Connectors[name].obj;\r\n                  const connected = currentConnector === connector;\r\n                  const disabled =\r\n                    !triedEager ||\r\n                    !!activatingConnector ||\r\n                    connected ||\r\n                    !!error;\r\n                  const image = web3Connectors[name].logo;\r\n                  const title = web3Connectors[name].title;\r\n\r\n                  return (\r\n                    <ProviderButton\r\n                      disabled={disabled}\r\n                      key={name}\r\n                      onClick={() => {\r\n                        setActivatingConnector(currentConnector);\r\n                        activate(currentConnector);\r\n                      }}\r\n                      border=\"#35c5f3\"\r\n                    >\r\n                      <ProviderImage src={image} />\r\n\r\n                      <Span\r\n                        spacing=\"0.1em\"\r\n                        textTransform=\"uppercase\"\r\n                        size=\"12px\"\r\n                        weight=\"600\"\r\n                        padding=\"10px\"\r\n                      >\r\n                        {title}\r\n                      </Span>\r\n                    </ProviderButton>\r\n                  );\r\n                })}\r\n              </ItemH>\r\n            </Item>\r\n\r\n            <Span margin=\"10px\" size=\"14px\">\r\n              By unlocking your wallet, <B>You agree</B> to our{\" \"}\r\n              <A href=\"https://epns.io/tos\" target=\"_blank\">\r\n                Terms of Service\r\n              </A>{\" \"}\r\n              and our{\" \"}\r\n              <A href=\"https://epns.io/privacy\" target=\"_blank\">\r\n                Privacy Policy\r\n              </A>\r\n              .\r\n            </Span>\r\n          </Item>\r\n        )}\r\n      </ParentContainer>\r\n\r\n      <ToastContainer\r\n        position=\"bottom-right\"\r\n        autoClose={false}\r\n        newestOnTop\r\n        closeOnClick\r\n        rtl={false}\r\n        pauseOnFocusLoss\r\n        draggable\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\n// CSS STYLES\r\nconst HeaderContainer = styled.header`\r\n  left: 0;\r\n  right: 0;\r\n  width: 100%;\r\n  position: fixed;\r\n  top: 0;\r\n  z-index: 999;\r\n`;\r\n\r\nconst ParentContainer = styled.div`\r\n  flex-wrap: wrap;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  margin: 80px 20px 50px 20px;\r\n  flex: 1;\r\n`;\r\n\r\nconst HomeContainer = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  align-self: center;\r\n  width: 100%;\r\n  max-width: 1100px;\r\n`;\r\n\r\nconst ProviderLogo = styled.img`\r\n  width: 15vw;\r\n  align-self: center;\r\n  display: flex;\r\n  margin: 10px 20px 20px 20px;\r\n  min-width: 200px;\r\n`;\r\n\r\nconst ProviderButton = styled.button`\r\n  flex: 1 1 0;\r\n  min-width: 280px;\r\n  background: #fff;\r\n  outline: 0;\r\n\r\n  box-shadow: 0px 15px 20px -5px rgba(0, 0, 0, 0.1);\r\n  border-radius: 15px;\r\n  border: 1px solid rgb(225, 225, 225);\r\n\r\n  margin: 20px;\r\n  overflow: hidden;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  display: flex;\r\n  flex-direction: row;\r\n  padding: 10px;\r\n\r\n  &:hover {\r\n    opacity: 0.9;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n    border: 1px solid ${(props) => props.border};\r\n  }\r\n  &:active {\r\n    opacity: 0.75;\r\n    cursor: pointer;\r\n    pointer: hand;\r\n    border: 1px solid ${(props) => props.border};\r\n  }\r\n`;\r\n\r\nconst ProviderImage = styled.img`\r\n  width: 32px;\r\n  max-height: 32px;\r\n  padding: 10px;\r\n`;\r\n\r\nconst ProviderLabel = styled.span`\r\n  font-size: 12px;\r\n  margin: 5px;\r\n`;\r\n\r\nconst StyledContainer = styled(ToastContainer).attrs({\r\n  // custom props\r\n})`\r\n  .Toastify__toast-container {\r\n  }\r\n  .Toastify__toast {\r\n  }\r\n  .Toastify__toast--error {\r\n  }\r\n  .Toastify__toast--warning {\r\n  }\r\n  .Toastify__toast--success {\r\n  }\r\n  .Toastify__toast-body {\r\n    font-size: 12px;\r\n  }\r\n  .Toastify__progress-bar {\r\n  }\r\n`;\r\n","import {configureStore, combineReducers, getDefaultMiddleware} from '@reduxjs/toolkit';\r\nimport contractReducer from './slices/contractSlice';\r\nimport channelReducer from './slices/channelSlice';\r\nimport adminReducer from './slices/adminSlice';\r\nimport notificationReducer from './slices/notificationSlice';\r\nimport spamReducer from './slices/spamSlice';\r\n\r\nconst rootReducer = combineReducers({\r\n\tcontracts: contractReducer,\r\n    channels: channelReducer,\r\n    admin: adminReducer,\r\n\tnotifications: notificationReducer,\r\n\tspam: spamReducer\r\n});\r\n\r\nconst store = configureStore({\r\n\treducer: rootReducer,\r\n\tmiddleware: getDefaultMiddleware({\r\n\t\tserializableCheck: false,\r\n\t\timmutableCheck: false\r\n\t})\r\n});\r\n\r\nexport default store;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { ethers } from \"ethers\";\r\nimport { Provider } from \"react-redux\";\r\nimport { Web3ReactProvider } from \"@web3-react/core\";\r\nimport { ApolloClient, ApolloProvider, InMemoryCache } from \"@apollo/client\";\r\n\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport * as dotenv from \"dotenv\";\r\n\r\nimport App from \"./App\";\r\nimport store from \"./redux/store\";\r\nimport \"./index.css\";\r\n\r\n// enable environmental variables across the entire application\r\ndotenv.config();\r\n// You should replace this uri with your own and put it into a .env file\r\nconst client = new ApolloClient({\r\n  uri: \"https://api.thegraph.com/subgraphs/name/epnsproject/epnsstaging\",\r\n  cache: new InMemoryCache(),\r\n});\r\n\r\n/**\r\n * A utility function used to get the provider\r\n */\r\nfunction getLibrary(provider) {\r\n  const gottenProvider = new ethers.providers.Web3Provider(provider, \"any\");\r\n  // adding this is important to deal with changing networks\r\n  gottenProvider.on(\"network\", (_, oldNetwork) => {\r\n    if (oldNetwork) {\r\n      // when network has been changed, refresh the page\r\n      window.location.reload();\r\n    }\r\n  });\r\n  return gottenProvider;\r\n}\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <ApolloProvider client={client}>\r\n      <Web3ReactProvider getLibrary={getLibrary}>\r\n        <App />\r\n      </Web3ReactProvider>\r\n    </ApolloProvider>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// environmental configurations for the dapp for different environments\r\nconst config = {\r\n    apiUrl: \"https://backend-kovan.epns.io/apis\", //the right backend URL to be used\r\n    allowedNetworks: [\r\n        42, //for ropsten\r\n        80001 //for mumbai polygon\r\n    ],\r\n    coreContractChain: 42, //the chain id of the network which the core contract relies on\r\n    coreRPC: \"https://kovan.infura.io/v3/4ff53a5254144d988a8318210b56f47a\"\r\n};\r\n\r\nexport default config;","// This address points to a dummy ERC20 contract deployed on Ethereum Mainnet,\r\n// Goerli, Kovan, Rinkeby and Ropsten. Replace it with your smart contracts.\r\nconst addresses = {\r\n  ceaErc20: \"0xc1C0472c0C80bCcDC7F5D01A376Bd97a734B8815\",\r\n  epnscore: \"0x97D7c5f14B8fe94Ef2b4bA589379f5Ec992197dA\", //the core contract address\r\n  epnsEthComm: \"0x87da9Af1899ad477C67FeA31ce89c1d2435c77DC\", // the ropsten core contract\r\n  epnsPolyComm: \"0xD2ee1e96e3592d5945dDc1808834d7EE67400823\", // the ploygon comm contract\r\n  dai: \"0xff795577d9ac8bd7d90ee22b6c1703490b6512fd\", //the dai contract address\r\n  aDai: \"0xcB1Fe6F440c49E9290c3eb7f158534c2dC374201\",\r\n  staking: \"0xd9218bb2a7Ff0131555A9b6F179fF5103a27a286\",\r\n  yieldFarmPUSH: \"0xFe0bcF750d4042480943CC8bA818CA3482DDf691\",\r\n  yieldFarmLP: \"0xE65fE4a8BCEB8A71D6A8D06dF2D91a9637081c61\",\r\n  epnsToken: \"0x38c4A4C7fa26eA48E34C45a9F6bDb5DA3f599c55\",\r\n  epnsLPToken: \"0x69E12FfD1170d851c096FfEC6A8eF27D26D96c0f\",\r\n  rockstar: \"0xCD1B6C8DDB9A735AA5961Ab4aa5B513fba23A3a3\", //ropsten address\r\n  batchMintNFT: \"0x9A20272669BBAa6254358ba4BB0520fFc813691C\", //ropsten address\r\n  NFTRewards: \"0x1f4CA0b2B0541b942A440A3f6673883eEacb2cb3\", //ropsten address\r\n  distributor: \"0x4Cd9Fe2E0acb9BC28fA51106b99825bd7a02309e\", //ropsten address\r\n};\r\n\r\nexport default addresses;\r\n","import erc20Abi from \"./abis/erc20\";\r\nimport ownableAbi from \"./abis/ownable\";\r\nimport epnscoreAbi from \"./abis/epnscore\";\r\nimport daiAbi from \"./abis/dai\";\r\nimport epnsTokenAbi from \"./abis/EPNS.json\";\r\nimport stakingAbi from \"./abis/Staking.json\";\r\nimport yieldFarmingAbi from \"./abis/YieldFarm.json\";\r\nimport rockstarAbi from \"./abis/Rockstar.json\";\r\nimport ec721Abi from \"./abis/ERC721.json\";\r\nimport NFTRewards from \"./abis/NFTRewards.json\";\r\nimport epnsCommAbi from \"./abis/epnsCommunicator.json\";\r\nimport MerkleDistributorAbi from \"./abis/MerkleDistributor.json\";\r\n\r\nexport const abis = {\r\n  erc20: erc20Abi,\r\n  ownable: ownableAbi,\r\n  epnscore: epnscoreAbi,\r\n  epnsPolyComm: epnsCommAbi,\r\n  epnsComm: epnsCommAbi,\r\n  dai: daiAbi,\r\n  epnsToken: epnsTokenAbi,\r\n  staking: stakingAbi,\r\n  yieldFarming: yieldFarmingAbi,\r\n  rockstar: rockstarAbi,\r\n  erc721: ec721Abi,\r\n  NFTRewards: NFTRewards,\r\n  distributor: MerkleDistributorAbi,\r\n};\r\n\r\nexport { default as envConfig } from \"./config\";\r\nexport { default as addresses } from \"./addresses\";\r\n","import React, { useState } from \"react\";\r\nimport Select from \"react-select\";\r\nimport styled, { css } from \"styled-components\";\r\nimport {\r\n  Section,\r\n  Content,\r\n  Item,\r\n  ItemH,\r\n  ItemBreak,\r\n  H1,\r\n  H2,\r\n  H3,\r\n  Image,\r\n  P,\r\n  Span,\r\n  Anchor,\r\n  Button,\r\n  Showoff,\r\n  FormSubmision,\r\n  Input,\r\n  TextField,\r\n} from \"components/SharedStyling\";\r\n\r\nimport { FiLink } from \"react-icons/fi\";\r\n\r\nimport \"react-dropzone-uploader/dist/styles.css\";\r\nimport Dropzone from \"react-dropzone-uploader\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\n\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport { useWeb3React, UnsupportedChainIdError } from \"@web3-react/core\";\r\n\r\nimport { addresses, abis } from \"@project/contracts\";\r\nconst ethers = require(\"ethers\");\r\n\r\nconst ipfs = require(\"ipfs-api\")();\r\n\r\nconst minStakeFees = 50;\r\nconst ALIAS_CHAINS = [{ value: \"POLYGON_TEST_MUMBAI:80001\", label: \"Polygon\" }];\r\n\r\n// Create Header\r\nfunction CreateChannel() {\r\n  const { active, error, account, library, chainId } = useWeb3React();\r\n\r\n  const [processing, setProcessing] = React.useState(0);\r\n  const [processingInfo, setProcessingInfo] = React.useState(\"\");\r\n\r\n  const [uploadDone, setUploadDone] = React.useState(false);\r\n  const [stakeFeesChoosen, setStakeFeesChoosen] = React.useState(false);\r\n  const [channelInfoDone, setChannelInfoDone] = React.useState(false);\r\n\r\n  const [chainDetails, setChainDetails] = React.useState(\"\");\r\n  const [channelName, setChannelName] = React.useState(\"\");\r\n  const [channelAlias, setChannelAlias] = React.useState(\"\");\r\n  const [channelInfo, setChannelInfo] = React.useState(\"\");\r\n  const [channelURL, setChannelURL] = React.useState(\"\");\r\n  const [channelFile, setChannelFile] = React.useState(undefined);\r\n  const [channelStakeFees, setChannelStakeFees] = React.useState(minStakeFees);\r\n  const [daiAmountVal, setDaiAmountVal] = useState(\"\");\r\n  const [stepFlow, setStepFlow] = React.useState(1);\r\n\r\n  //checking DAI for user\r\n  React.useEffect(() => {\r\n    const checkDaiFunc = async () => {\r\n      let checkDaiAmount = new ethers.Contract(\r\n        addresses.dai,\r\n        abis.dai,\r\n        library\r\n      );\r\n\r\n      let value = await checkDaiAmount.allowance(account, addresses.epnscore);\r\n      value = value?.toString();\r\n      const convertedVal = ethers.utils.formatEther(value);\r\n      setDaiAmountVal(convertedVal);\r\n      if (convertedVal >= 50.0) {\r\n        setChannelStakeFees(convertedVal);\r\n      }\r\n    };\r\n    checkDaiFunc();\r\n  }, []);\r\n\r\n  // called every time a file's `status` changes\r\n  const handleChangeStatus = ({ meta, file }, status) => {\r\n    console.log(status, meta, file);\r\n  };\r\n\r\n  const onDropHandler = (files) => {\r\n    //   var file = files[0]\r\n    //   const reader = new FileReader();\r\n    //   reader.onload = (event) => {\r\n    //     console.log(event.target.result);\r\n    //   };\r\n    //   reader.readAsDataURL(file);\r\n    // setChannelFile(file);\r\n    // console.log(\"Drop Handler\");\r\n    // console.log(file);\r\n  };\r\n\r\n  // receives array of files that are done uploading when submit button is clicked\r\n  const handleLogoSubmit = (files, allFiles) => {\r\n    // console.log(files.map(f => f.meta))\r\n    allFiles.forEach((f) => {\r\n      var file = f.file;\r\n      var reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      // console.log(f.file);\r\n\r\n      reader.onloadend = function(e) {\r\n        // console.log(reader.result);\r\n        const response = handleLogoSizeLimitation(reader.result);\r\n        if (response.success) {\r\n          setStepFlow(2);\r\n          setProcessing(0);\r\n          setUploadDone(true);\r\n          setChannelFile(reader.result);\r\n        } else {\r\n          setProcessing(3);\r\n          setProcessingInfo(response.info);\r\n        }\r\n      };\r\n    });\r\n  };\r\n\r\n  const handleLogoSizeLimitation = (base64) => {\r\n    // Setup Error on higher size of 128px\r\n    var sizeOf = require(\"image-size\");\r\n    var base64Data = base64.split(\";base64,\").pop();\r\n    var img = Buffer.from(base64Data, \"base64\");\r\n    var dimensions = sizeOf(img);\r\n\r\n    // Only proceed if image is equal to or less than 128\r\n    if (dimensions.width > 128 || dimensions.height > 128) {\r\n      console.log(\"Image size check failed... returning\");\r\n      return {\r\n        success: 0,\r\n        info: \"Image size check failed, Image should be 128X128PX\",\r\n      };\r\n    }\r\n\r\n    // only proceed if png or jpg\r\n    // This is brilliant: https://stackoverflow.com/questions/27886677/javascript-get-extension-from-base64-image\r\n    // char(0) => '/' : jpg\r\n    // char(0) => 'i' : png\r\n    let fileext;\r\n    console.log(base64Data.charAt(0));\r\n    if (base64Data.charAt(0) == \"/\") {\r\n      return {\r\n        success: 1,\r\n        info: \"Image checks passed\",\r\n      };\r\n    } else if (base64Data.charAt(0) == \"i\") {\r\n      return {\r\n        success: 1,\r\n        info: \"Image checks passed\",\r\n      };\r\n    } else {\r\n      return {\r\n        success: 0,\r\n        info: \"Image extension should be jpg or png\",\r\n      };\r\n    }\r\n  };\r\n\r\n  const handleCreateChannel = async (e) => {\r\n    // Check everything in order\r\n    // skip this for now\r\n    e.preventDefault();\r\n\r\n    if (\r\n      isEmpty(channelName) ||\r\n      isEmpty(channelInfo) ||\r\n      isEmpty(channelURL) ||\r\n      isEmpty(channelFile) ||\r\n      channelAlias\r\n        ? isEmpty(chainDetails)\r\n        : chainDetails\r\n        ? isEmpty(channelAlias)\r\n        : false\r\n    ) {\r\n      setProcessing(3);\r\n      setProcessingInfo(\"Channel Fields are Empty! Please retry!\");\r\n\r\n      return false;\r\n    }\r\n\r\n    // Check complete, start logic\r\n    setChannelInfoDone(true);\r\n    setProcessing(1);\r\n\r\n    console.log({\r\n      chainDetails,\r\n      channelAlias,\r\n    });\r\n    var chainDetailsSplit = chainDetails.split(\":\");\r\n    var blockchain = chainDetailsSplit[0];\r\n    var chain_id = chainDetailsSplit[1];\r\n    var address = channelAlias;\r\n\r\n    const input = JSON.stringify({\r\n      name: channelName,\r\n      info: channelInfo,\r\n      url: channelURL,\r\n      icon: channelFile,\r\n      blockchain: blockchain,\r\n      chain_id: chain_id,\r\n      address: address,\r\n    });\r\n\r\n    const ipfs = require(\"nano-ipfs-store\").at(\"https://ipfs.infura.io:5001\");\r\n\r\n    setProcessingInfo(\"Uploading Payload...\");\r\n    const storagePointer = await ipfs.add(input);\r\n    console.log(\"IPFS storagePointer:\", storagePointer);\r\n    setProcessingInfo(\"Payload Uploaded, Approval to transfer DAI...\");\r\n    //console.log(await ipfs.cat(storagePointer));\r\n\r\n    // Send Transaction\r\n    // First Approve DAI\r\n    var signer = library.getSigner(account);\r\n\r\n    let daiContract = new ethers.Contract(addresses.dai, abis.erc20, signer);\r\n\r\n    // Pick between 50 DAI AND 25K DAI\r\n    const fees = ethers.utils.parseUnits(channelStakeFees.toString(), 18);\r\n\r\n    if (daiAmountVal < 50.0) {\r\n      var sendTransactionPromise = daiContract.approve(\r\n        addresses.epnscore,\r\n        fees\r\n      );\r\n      const tx = await sendTransactionPromise;\r\n\r\n      console.log(tx);\r\n      console.log(\"waiting for tx to finish\");\r\n      setProcessingInfo(\"Waiting for Approval TX to finish...\");\r\n\r\n      await library.waitForTransaction(tx.hash);\r\n    }\r\n    let contract = new ethers.Contract(\r\n      addresses.epnscore,\r\n      abis.epnscore,\r\n      signer\r\n    );\r\n\r\n    const channelType = 2; // Open Channel\r\n    const identity = \"1+\" + storagePointer; // IPFS Storage Type and HASH\r\n    const identityBytes = ethers.utils.toUtf8Bytes(identity);\r\n\r\n    var anotherSendTxPromise = contract.createChannelWithFees(\r\n      channelType,\r\n      identityBytes,\r\n      fees,\r\n      {\r\n        gasLimit: 1000000,\r\n      }\r\n    );\r\n    setProcessingInfo(\"Creating Channel TX in progress\");\r\n    anotherSendTxPromise\r\n      .then(async function(tx) {\r\n        console.log(tx);\r\n        console.log(\"Check: \" + account);\r\n        await library.waitForTransaction(tx.hash);\r\n        setProcessing(3);\r\n        setProcessingInfo(\"Channel Created! Reloading...\");\r\n\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, 2000);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Error --> %o\", err);\r\n        console.log({ err });\r\n        setProcessing(3);\r\n        setProcessingInfo(\r\n          `There was an error, ${err.message}`\r\n        );\r\n      });\r\n  };\r\n\r\n  const isEmpty = (field) => {\r\n    if (field.trim().length == 0) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  //mind Dai\r\n  const mintDai = async () => {\r\n    try {\r\n      var signer = library.getSigner(account);\r\n      let daiContract = new ethers.Contract(addresses.dai, abis.dai, signer);\r\n      console.log({\r\n        daiContract,\r\n      });\r\n      console.log(1);\r\n      let daiAmount = 1000;\r\n      const amount = ethers.utils.parseUnits(daiAmount.toString(), 18);\r\n      console.log(2);\r\n      var mintTransactionPromise = daiContract.mint(amount);\r\n      console.log(3);\r\n      const tx = await mintTransactionPromise;\r\n      console.log(tx);\r\n      await library.waitForTransaction(tx.hash);\r\n      console.log(4);\r\n      setProcessingInfo(\"1000 Dai minted successfully!\");\r\n      console.log(\"Transaction Completed\");\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Section>\r\n        <Content padding=\"10px 20px 20px\">\r\n          <Item align=\"flex-start\">\r\n            <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\r\n              <Span bg=\"#674c9f\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">\r\n                Create\r\n              </Span>\r\n              <Span weight=\"200\"> Your Channel!</Span>\r\n            </H2>\r\n            <H3>\r\n              <b>Ethereum Push Notification Service</b> (EPNS) makes it\r\n              extremely easy to open and maintain a genuine channel of\r\n              communication with your users.\r\n            </H3>\r\n          </Item>\r\n        </Content>\r\n      </Section>\r\n\r\n      <Section>\r\n        <Content padding=\"0px 20px 20px\">\r\n          <ItemH justify=\"space-between\">\r\n            <Step\r\n              bg=\"#fff\"\r\n              activeBG=\"#e20880\"\r\n              type={stepFlow >= 1 ? \"active\" : \"inactive\"}\r\n            />\r\n            <Step\r\n              bg=\"#fff\"\r\n              activeBG=\"#e20880\"\r\n              type={stepFlow >= 2 ? \"active\" : \"inactive\"}\r\n            />\r\n            <Step\r\n              bg=\"#fff\"\r\n              activeBG=\"#e20880\"\r\n              type={stepFlow >= 3 ? \"active\" : \"inactive\"}\r\n            />\r\n            <Line />\r\n          </ItemH>\r\n        </Content>\r\n      </Section>\r\n\r\n      {/* Image Upload Section */}\r\n      {!uploadDone && (\r\n        <Section>\r\n          <Content padding=\"50px 20px 20px\">\r\n            <Item align=\"flex-start\">\r\n              <H3 color=\"#e20880\">\r\n                Upload Channel Logo to start the process. Make sure image is\r\n                128x128px.\r\n              </H3>\r\n            </Item>\r\n\r\n            <Item margin=\"-10px 0px 20px 0px\">\r\n              <Dropzone\r\n                onChangeStatus={handleChangeStatus}\r\n                onSubmit={handleLogoSubmit}\r\n                onDrop={onDropHandler}\r\n                maxFiles={1}\r\n                multiple={false}\r\n                accept=\"image/jpeg,image/png\"\r\n              />\r\n            </Item>\r\n            {chainId != 1 ? (\r\n              <Item align=\"flex-end\">\r\n                <Minter\r\n                  onClick={() => {\r\n                    mintDai();\r\n                  }}\r\n                >\r\n                  <Pool>\r\n                    <br></br>\r\n                    <PoolShare>Get Free DAI for Channel</PoolShare>\r\n                  </Pool>\r\n                </Minter>\r\n              </Item>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </Content>\r\n        </Section>\r\n      )}\r\n\r\n      {/* Stake Fees Section */}\r\n      {uploadDone && !stakeFeesChoosen && (\r\n        <Section>\r\n          <Content padding=\"50px 0px 0px 0px\">\r\n            {/* <Item align=\"flex-start\" margin=\"0px 20px\">\r\n              <H3 color=\"#e20880\">Set your staking fees in DAI</H3>\r\n            </Item> */}\r\n\r\n            <Item\r\n              margin=\"-10px 20px 20px 20px\"\r\n              padding=\"20px 20px 10px 20px\"\r\n              bg=\"#f1f1f1\"\r\n            >\r\n              {/* {daiAmountVal < 50.0 && (\r\n                <Slider\r\n                  defaultValue={minStakeFees}\r\n                  onChangeCommitted={(event, value) =>\r\n                    setChannelStakeFees(value)\r\n                  }\r\n                  aria-labelledby=\"discrete-slider\"\r\n                  valueLabelDisplay=\"auto\"\r\n                  step={minStakeFees}\r\n                  marks\r\n                  min={minStakeFees}\r\n                  max={minStakeFees}\r\n                />\r\n              )} */}\r\n\r\n              <Span\r\n                weight=\"400\"\r\n                size=\"1.0em\"\r\n                textTransform=\"uppercase\"\r\n                spacing=\"0.2em\"\r\n              >\r\n                Amount to be Staked: {channelStakeFees} DAI\r\n              </Span>\r\n            </Item>\r\n\r\n            <Item self=\"stretch\" align=\"stretch\" margin=\"20px 0px 0px 0px\">\r\n              <Button\r\n                bg=\"#e20880\"\r\n                color=\"#fff\"\r\n                flex=\"1\"\r\n                radius=\"0px\"\r\n                padding=\"20px 10px\"\r\n                onClick={() => {\r\n                  setStakeFeesChoosen(true);\r\n                  setStepFlow(3);\r\n                }}\r\n              >\r\n                <Span\r\n                  color=\"#fff\"\r\n                  weight=\"400\"\r\n                  textTransform=\"uppercase\"\r\n                  spacing=\"0.1em\"\r\n                >\r\n                  Continue\r\n                </Span>\r\n              </Button>\r\n            </Item>\r\n          </Content>\r\n        </Section>\r\n      )}\r\n\r\n      {/* Channel Entry */}\r\n      {uploadDone && stakeFeesChoosen && !channelInfoDone && (\r\n        <Section>\r\n          <Content padding=\"50px 0px 0px 0px\">\r\n            <Item align=\"flex-start\" margin=\"0px 20px\">\r\n              <H3 color=\"#e20880\">Setup your Channel Info</H3>\r\n            </Item>\r\n\r\n            <FormSubmision\r\n              flex=\"1\"\r\n              direction=\"column\"\r\n              margin=\"0px\"\r\n              justify=\"center\"\r\n              size=\"1.1rem\"\r\n              onSubmit={handleCreateChannel}\r\n            >\r\n              <Item\r\n                margin=\"-10px 20px 15px 20px\"\r\n                flex=\"1\"\r\n                self=\"stretch\"\r\n                align=\"stretch\"\r\n              >\r\n                <Input\r\n                  required\r\n                  placeholder=\"Your Channel Name\"\r\n                  maxlength=\"40\"\r\n                  padding=\"12px\"\r\n                  border=\"1px solid #000\"\r\n                  weight=\"400\"\r\n                  size=\"1.2em\"\r\n                  bg=\"#fff\"\r\n                  value={channelName}\r\n                  onChange={(e) => {\r\n                    setChannelName(e.target.value);\r\n                  }}\r\n                />\r\n                {channelName.trim().length == 0 && (\r\n                  <Span\r\n                    padding=\"4px 10px\"\r\n                    right=\"0px\"\r\n                    top=\"0px\"\r\n                    pos=\"absolute\"\r\n                    color=\"#fff\"\r\n                    bg=\"#000\"\r\n                    size=\"0.7rem\"\r\n                    z=\"1\"\r\n                  >\r\n                    Name of Channel\r\n                  </Span>\r\n                )}\r\n              </Item>\r\n\r\n              <Item\r\n                margin=\"15px 20px 15px 20px\"\r\n                flex=\"1\"\r\n                self=\"stretch\"\r\n                align=\"stretch\"\r\n                style={{ position: \"relative\" }}\r\n              >\r\n                <Select\r\n                  className=\"basic-single\"\r\n                  classNamePrefix=\"select\"\r\n                  placeholder=\"Alias network\"\r\n                  name=\"color\"\r\n                  options={ALIAS_CHAINS}\r\n                  theme={(theme) => ({\r\n                    ...theme,\r\n                    borderRadius: 0,\r\n                    colors: {\r\n                      ...theme.colors,\r\n                      primary25: \"#e20880\",\r\n                      primary: \"#e20880\",\r\n                    },\r\n                  })}\r\n                  onChange={(selectedOption) => {\r\n                    setChainDetails(selectedOption.value);\r\n                  }}\r\n                />\r\n                <Input\r\n                  placeholder=\"Your Channel's Alias address\"\r\n                  maxlength=\"40\"\r\n                  padding=\"12px\"\r\n                  style={{ paddingLeft: \"22%\" }}\r\n                  border=\"1px solid #000\"\r\n                  weight=\"400\"\r\n                  size=\"1rem\"\r\n                  bg=\"#fff\"\r\n                  value={channelAlias}\r\n                  onChange={(e) => {\r\n                    setChannelAlias(e.target.value);\r\n                  }}\r\n                />\r\n              </Item>\r\n              <Item\r\n                margin=\"15px 20px 15px 20px\"\r\n                flex=\"1\"\r\n                self=\"stretch\"\r\n                align=\"stretch\"\r\n              >\r\n                <TextField\r\n                  required\r\n                  placeholder=\"Your Channel's Short Description (200 Characters)\"\r\n                  rows=\"4\"\r\n                  maxlength=\"200\"\r\n                  radius=\"4px\"\r\n                  padding=\"12px\"\r\n                  weight=\"400\"\r\n                  border=\"1px solid #000\"\r\n                  bg=\"#fff\"\r\n                  value={channelInfo}\r\n                  onChange={(e) => {\r\n                    setChannelInfo(e.target.value);\r\n                  }}\r\n                  autocomplete=\"off\"\r\n                />\r\n              </Item>\r\n\r\n              <ItemH\r\n                margin=\"15px 20px 15px 20px\"\r\n                flex=\"1\"\r\n                self=\"stretch\"\r\n                align=\"center\"\r\n              >\r\n                <Item flex=\"0\" margin=\"0px 5px 0px 0px\">\r\n                  <FiLink size={24} color=\"#000\" />\r\n                </Item>\r\n                <Item flex=\"1\" margin=\"0px 0px 0px 5px\" align=\"stretch\">\r\n                  <Input\r\n                    required\r\n                    placeholder=\"Call to Action Link\"\r\n                    padding=\"12px\"\r\n                    border=\"1px solid #000\"\r\n                    radius=\"4px\"\r\n                    weight=\"400\"\r\n                    bg=\"#f1f1f1\"\r\n                    value={channelURL}\r\n                    onChange={(e) => {\r\n                      setChannelURL(e.target.value);\r\n                    }}\r\n                  />\r\n                  {channelURL.trim().length == 0 && (\r\n                    <Span\r\n                      padding=\"4px 10px\"\r\n                      right=\"0px\"\r\n                      top=\"0px\"\r\n                      pos=\"absolute\"\r\n                      color=\"#fff\"\r\n                      bg=\"#000\"\r\n                      size=\"0.7rem\"\r\n                      z=\"1\"\r\n                    >\r\n                      Channel's Website URL\r\n                    </Span>\r\n                  )}\r\n                </Item>\r\n              </ItemH>\r\n\r\n              <Item\r\n                margin=\"15px 0px 0px 0px\"\r\n                flex=\"1\"\r\n                self=\"stretch\"\r\n                align=\"stretch\"\r\n              >\r\n                <Button\r\n                  bg=\"#e20880\"\r\n                  color=\"#fff\"\r\n                  flex=\"1\"\r\n                  radius=\"0px\"\r\n                  padding=\"20px 10px\"\r\n                  disabled={processing == 1 ? true : false}\r\n                >\r\n                  {processing == 1 && (\r\n                    <Loader type=\"Oval\" color=\"#fff\" height={24} width={24} />\r\n                  )}\r\n                  {processing != 1 && (\r\n                    <Input\r\n                      cursor=\"hand\"\r\n                      textTransform=\"uppercase\"\r\n                      color=\"#fff\"\r\n                      weight=\"400\"\r\n                      size=\"0.8em\"\r\n                      spacing=\"0.2em\"\r\n                      type=\"submit\"\r\n                      value=\"Setup Channel\"\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </Item>\r\n            </FormSubmision>\r\n          </Content>\r\n        </Section>\r\n      )}\r\n\r\n      {/* Channel Setup Progress */}\r\n      {(processing == 1 || processing == 3) && (\r\n        <Section>\r\n          <Content padding=\"0px 0px 0px 0px\">\r\n            {processing == 1 && (\r\n              <Item margin=\"20px 0px 10px 0px\">\r\n                <Loader type=\"Oval\" color=\"#000\" height={24} width={24} />\r\n              </Item>\r\n            )}\r\n\r\n            <Item\r\n              color=\"#fff\"\r\n              bg={processing == 1 ? \"#e1087f\" : \"#000\"}\r\n              padding=\"10px 15px\"\r\n              margin=\"15px 0px\"\r\n            >\r\n              <Span\r\n                color=\"#fff\"\r\n                textTransform=\"uppercase\"\r\n                spacing=\"0.1em\"\r\n                weight=\"400\"\r\n                size=\"1em\"\r\n              >\r\n                {processingInfo}\r\n              </Span>\r\n            </Item>\r\n          </Content>\r\n        </Section>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\n// css styles\r\nconst Step = styled.div`\r\n  height: 12px;\r\n  width: 12px;\r\n  background: ${(props) => props.bg || \"#fff\"};\r\n  border: 4px solid ${(props) => props.activeBG || \"#000\"};\r\n  border-radius: 100%;\r\n\r\n  ${({ type }) =>\r\n    type == \"active\" &&\r\n    css`\r\n      background: ${(props) => props.activeBG || \"#ddd\"};\r\n      border: 4px solid #00000022;\r\n    `};\r\n`;\r\n\r\nconst Line = styled.div`\r\n  position: absolute;\r\n  height: 5px;\r\n  background: #f1f1f1;\r\n  right: 0;\r\n  left: 0;\r\n  margin: 0px 10px;\r\n  z-index: -1;\r\n`;\r\n\r\nconst Channel = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 1;\r\n`;\r\n\r\nconst Notice = styled.div`\r\n  margin-top: 10px;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  color: #674c9f;\r\n  font-size: 30px;\r\n  font-weight: 300;\r\n  margin-top: 0px;\r\n  margin-bottom: 30px;\r\n`;\r\n\r\nconst Info = styled.label`\r\n  padding-bottom: 20px;\r\n  font-size: 14px;\r\n  color: #000;\r\n`;\r\n\r\nconst Info2 = styled(Info)``;\r\nconst Name = styled(Input)`\r\n  border-bottom: 1px solid #e20880;\r\n  font-size: 24px;\r\n`;\r\n\r\nconst ShortInfo = styled.textarea`\r\n  outline: 0;\r\n  border: 0;\r\n  border-bottom: 1px solid #35c5f3;\r\n  margin: 10px;\r\n  font-size: 18px;\r\n  min-height: 80px;\r\n  color: #111;\r\n`;\r\n\r\nconst Url = styled(Input)`\r\n  border-bottom: 1px solid #674c9f;\r\n  font-size: 1=8px;\r\n`;\r\n\r\nconst Text = styled.span``;\r\n\r\nconst Continue = styled.button`\r\n  border: 0;\r\n  outline: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #fff;\r\n  border-radius: 20px;\r\n  font-size: 14px;\r\n  background: ${(props) => props.theme || \"#674c9f\"};\r\n  margin: 30px 0px 0px 0px;\r\n  border-radius: 8px;\r\n  padding: 16px;\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n`;\r\nconst Minter = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  font-size: 13px;\r\n`;\r\n\r\nconst ChannelMetaBox = styled.label`\r\n  margin: 0px 5px;\r\n  color: #fff;\r\n  font-weight: 600;\r\n  padding: 10px 20px;\r\n  border-radius: 10px;\r\n  font-size: 15px;\r\n  // font-size: 11px;\r\n`;\r\nconst Pool = styled.div`\r\n  margin: 0px 10px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`;\r\n\r\nconst PoolShare = styled(ChannelMetaBox)`\r\n  background: #e20880;\r\n  // background: #674c9f;\r\n`;\r\n\r\n// Export Default\r\nexport default CreateChannel;\r\n","(function() {\r\n\t// The random number is a js implementation of the Xorshift PRNG\r\n\tvar randseed = new Array(4); // Xorshift: [x, y, z, w] 32 bit values\r\n\r\n\tfunction seedrand(seed) {\r\n\t\tfor (var i = 0; i < randseed.length; i++) {\r\n\t\t\trandseed[i] = 0;\r\n\t\t}\r\n\t\tfor (var i = 0; i < seed.length; i++) {\r\n\t\t\trandseed[i%4] = ((randseed[i%4] << 5) - randseed[i%4]) + seed.charCodeAt(i);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction rand() {\r\n\t\t// based on Java's String.hashCode(), expanded to 4 32bit values\r\n\t\tvar t = randseed[0] ^ (randseed[0] << 11);\r\n\r\n\t\trandseed[0] = randseed[1];\r\n\t\trandseed[1] = randseed[2];\r\n\t\trandseed[2] = randseed[3];\r\n\t\trandseed[3] = (randseed[3] ^ (randseed[3] >> 19) ^ t ^ (t >> 8));\r\n\r\n\t\treturn (randseed[3]>>>0) / ((1 << 31)>>>0);\r\n\t}\r\n\r\n\tfunction createColor() {\r\n\t\t//saturation is the whole color spectrum\r\n\t\tvar h = Math.floor(rand() * 360);\r\n\t\t//saturation goes from 40 to 100, it avoids greyish colors\r\n\t\tvar s = ((rand() * 60) + 40) + '%';\r\n\t\t//lightness can be anything from 0 to 100, but probabilities are a bell curve around 50%\r\n\t\tvar l = ((rand()+rand()+rand()+rand()) * 25) + '%';\r\n\r\n\t\tvar color = 'hsl(' + h + ',' + s + ',' + l + ')';\r\n\t\treturn color;\r\n\t}\r\n\r\n\tfunction createImageData(size) {\r\n\t\tvar width = size; // Only support square icons for now\r\n\t\tvar height = size;\r\n\r\n\t\tvar dataWidth = Math.ceil(width / 2);\r\n\t\tvar mirrorWidth = width - dataWidth;\r\n\r\n\t\tvar data = [];\r\n\t\tfor(var y = 0; y < height; y++) {\r\n\t\t\tvar row = [];\r\n\t\t\tfor(var x = 0; x < dataWidth; x++) {\r\n\t\t\t\t// this makes foreground and background color to have a 43% (1/2.3) probability\r\n\t\t\t\t// spot color has 13% chance\r\n\t\t\t\trow[x] = Math.floor(rand()*2.3);\r\n\t\t\t}\r\n\t\t\tvar r = row.slice(0, mirrorWidth);\r\n\t\t\tr.reverse();\r\n\t\t\trow = row.concat(r);\r\n\r\n\t\t\tfor(var i = 0; i < row.length; i++) {\r\n\t\t\t\tdata.push(row[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t}\r\n\r\n\tfunction buildOpts(opts) {\r\n\t\tvar newOpts = {};\r\n\r\n\t\tnewOpts.seed = opts.seed || Math.floor((Math.random()*Math.pow(10,16))).toString(16);\r\n\r\n\t\tseedrand(newOpts.seed);\r\n\r\n\t\tnewOpts.size = opts.size || 8;\r\n\t\tnewOpts.scale = opts.scale || 4;\r\n\t\tnewOpts.color = opts.color || createColor();\r\n\t\tnewOpts.bgcolor = opts.bgcolor || createColor();\r\n\t\tnewOpts.spotcolor = opts.spotcolor || createColor();\r\n\r\n\t\treturn newOpts;\r\n\t}\r\n\r\n\tfunction renderIcon(opts, canvas) {\r\n\t\topts = buildOpts(opts || {});\r\n\t\tvar imageData = createImageData(opts.size);\r\n\t\tvar width = Math.sqrt(imageData.length);\r\n\r\n\t\tcanvas.width = canvas.height = opts.size * opts.scale;\r\n\r\n\t\tvar cc = canvas.getContext('2d');\r\n\t\tcc.fillStyle = opts.bgcolor;\r\n\t\tcc.fillRect(0, 0, canvas.width, canvas.height);\r\n\t\tcc.fillStyle = opts.color;\r\n\r\n\t\tfor(var i = 0; i < imageData.length; i++) {\r\n\r\n\t\t\t// if data is 0, leave the background\r\n\t\t\tif(imageData[i]) {\r\n\t\t\t\tvar row = Math.floor(i / width);\r\n\t\t\t\tvar col = i % width;\r\n\r\n\t\t\t\t// if data is 2, choose spot color, if 1 choose foreground\r\n\t\t\t\tcc.fillStyle = (imageData[i] == 1) ? opts.color : opts.spotcolor;\r\n\r\n\t\t\t\tcc.fillRect(col * opts.scale, row * opts.scale, opts.scale, opts.scale);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn canvas;\r\n\t}\r\n\r\n\tfunction createIcon(opts) {\r\n\t\tvar canvas = document.createElement('canvas');\r\n\r\n\t\trenderIcon(opts, canvas);\r\n\r\n\t\treturn canvas;\r\n\t}\r\n\r\n\tvar api = {\r\n\t\tcreate: createIcon,\r\n\t\trender: renderIcon\r\n\t};\r\n\r\n\tif (typeof module !== \"undefined\") {\r\n\t\tmodule.exports = api;\r\n\t}\r\n\tif (typeof window !== \"undefined\") {\r\n\t\t window.blockies = api;\r\n\t}\r\n\r\n})();\r\n","import styled, { css } from 'styled-components';\r\n\r\nexport const Section = styled.section`\r\n  display: flex;\r\n  align-self: stretch;\r\n  justify-content: center;\r\n  align-items: ${props => props.align || 'initial'};\r\n  flex-direction: ${props => props.direction || 'column'};\r\n  background: ${props => props.theme || 'transparent'};\r\n  background: ${props => props.gradient || 'undefined'};\r\n  margin: ${props => props.margin || '0px'};\r\n  padding: ${props => props.padding || '0px'};\r\n  overflow: ${props => props.overflow || 'initial'};\r\n  flex: 1;\r\n  position: relative;\r\n`\r\n\r\nexport const SectionFS = styled(Section)`\r\n  min-height: 100vh;\r\n`\r\n\r\nexport const SectionFSHero = styled(Section)`\r\n  min-height: 100vh;\r\n  background: rgb(31,23,47);\r\n  background: linear-gradient(283deg, rgba(31,23,47,1) 0%, rgba(62,9,40,1) 45%, rgba(17,58,72,1) 100%);\r\n`\r\n\r\nexport const SectionHero = styled(Section)`\r\n  background: rgb(31,23,47);\r\n  background: linear-gradient(283deg, rgba(31,23,47,1) 0%, rgba(62,9,40,1) 45%, rgba(17,58,72,1) 100%);\r\n`\r\n\r\nexport const Content = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: ${props => props.padding || \"40px 0px\"};\r\n  background: ${props => props.theme || 'transparent'};\r\n  background: ${props => props.gradient || 'undefined'};\r\n  position: relative;\r\n`\r\n\r\nexport const ItemBreak = styled.div`\r\n  flex-basis: 100%;\r\n`\r\n\r\nexport const Item = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-wrap: ${props => props.wrap || 'wrap'};\r\n  position: ${props => props.position || 'relative'};\r\n  justify-content: center;\r\n  background: ${props => props.bg || 'transparent'};\r\n  flex: ${props => props.flex || '1'};\r\n  flex-direction: ${props => props.direction || 'column'};\r\n  align-self: ${props => props.self || 'auto'};\r\n  align-items: ${props => props.align || 'center'};\r\n  justify-content: ${props => props.justify || 'center'};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  margin: ${props => props.margin || '0px'};\r\n  min-width: ${props => props.minWidth || 'auto'};\r\n  max-width: ${props => props.maxWidth || 'initial'};\r\n  font-size: ${props => props.size || \"inherit\"};\r\n  text-align: ${props => props.textAlign || \"inherit\"};\r\n  filter: ${props => props.filter || \"none\"};\r\n\r\n  width: ${props => props.width || \"auto\" };\r\n  height: ${props => props.height || \"auto\" };\r\n\r\n  border: ${props => props.border || \"none\"};\r\n\r\n  border-radius: ${props => props.radius || \"0px\"};\r\n  overflow: ${props => props.overflow || \"initial\"};\r\n\r\n  &:hover & {\r\n    filter: ${props => (props.filterHover ? props.filterHover : (props.hover ? props.hover : \"none\")) || \"none\"};\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    align-items: ${props => (props.tabletAlign ? props.tabletAlign : (props.align ? props.align : \"center\")) || \"center\"};\r\n    text-align: ${props => (props.tabletTextAlign ? props.tabletTextAlign : (props.textAlign ? props.textAlign : \"inherit\")) || \"inherit\"};\r\n  }\r\n\r\n  ${ItemBreak} {\r\n    width: 0;\r\n  }\r\n`\r\n\r\nexport const ItemH = styled(Item)`\r\n  flex-direction: row;\r\n  flex: ${props => props.flex || '1'};\r\n\r\n  ${ItemBreak} {\r\n    width: auto;\r\n    height: 0;\r\n  }\r\n`\r\n\r\nexport const WaveOuter = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n  left: 0;\r\n  bottom: ${props => props.bottom || '-70px'};\r\n  top: ${props => props.top || 'auto'};\r\n  transform: ${props => props.transform || 'initial'};\r\n`;\r\n\r\nexport const WaveInner = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  transform: ${props => props.transform || 'initial'};\r\n`;\r\n\r\nexport const Arc = styled.div`\r\n  position: absolute;\r\n\toverflow: hidden;\r\n\twidth: 100%;\r\n\theight: 300px;\r\n\r\n  bottom: ${props => props.bottom || 'auto'};\r\n  top: ${props => props.top || 'auto'};\r\n\r\n  &:after {\r\n    content: '';\r\n    position: absolute;\r\n  \twidth: 300%;\r\n  \theight: 300%;\r\n  \ttop: -25%;\r\n  \tleft: -100%;\r\n\r\n\r\n    ${ props => props.arcRGB && css`\r\n      \tbackground: radial-gradient(ellipse at center, ${props.arcRGB}00 0%, ${props.arcRGB}00 50%, ${props.arcRGB}ff 50%, ${props.arcRGB}ff 100%);\r\n    `};\r\n  }\r\n`\r\n\r\nexport const H1 = styled.h1`\r\n  @media (max-width: 480px) {\r\n    font-size: 2.1rem;\r\n  }\r\n`\r\n\r\nexport const H2 = styled.h2`\r\n  color: ${props => props.color || '#000'};\r\n  font-weight: ${props => props.weight || 600};\r\n  font-size: ${props => props.size || \"2rem\"};\r\n  text-transform: ${props => props.textTransform || \"inherit\"};\r\n  margin: ${props => props.margin || \"20px 0px\"};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  letter-spacing: ${props => props.spacing || \"inherit\"};\r\n  font-family: ${props => props.family || \"'Source Sans Pro', Helvetica, sans-serif\"};\r\n  text-align: ${props => props.textAlign || \"inherit\"};\r\n`\r\n\r\nexport const H3 = styled.h3`\r\n  color: ${props => props.color || 'rgb(0 0 0 / 0.5)'};\r\n  font-weight: ${props => props.weight || 300};\r\n  font-size: ${props => props.size || \"1rem\"};\r\n  text-transform: ${props => props.textTransform || \"uppercase\"};\r\n  margin: ${props => props.margin || \"-15px 0px 20px 0px\"};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  letter-spacing: ${props => props.spacing || \"0.1em\"};\r\n  font-family: ${props => props.family || \"'Source Sans Pro', Helvetica, sans-serif\"};\r\n  text-align: ${props => props.textAlign || \"inherit\"};\r\n  max-width: ${props => props.maxWidth || 'initial'};\r\n`\r\n\r\nexport const Image = styled.img`\r\n  width: 100%;\r\n  height: auto;\r\n  display: flex;\r\n`\r\n\r\nexport const P = styled.p`\r\n  flex: ${props => props.flex || 'initial'};\r\n  align-self: ${props => props.self || 'auto'};\r\n\r\n  color: ${props => props.color || '#000'};\r\n  background: ${props => props.bg || 'transparent'};\r\n  font-weight: ${props => props.weight || 300};\r\n  font-size: ${props => props.size || \"inherit\"};\r\n  text-transform: ${props => props.textTransform || \"inherit\"};\r\n  margin: ${props => props.margin || \"20px 0px\"};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  letter-spacing: ${props => props.spacing || \"inherit\"};\r\n  text-align: ${props => props.textAlign || \"initial\"};\r\n`\r\n\r\nexport const Para = styled(P)`\r\n  font-weight: ${props => props.weight || 300};\r\n  letter-spacing: ${props => props.spacing || \"0.02em\"};\r\n  font-size: ${props => props.size || \"1.1em\"};\r\n  color: ${props => props.color || \"#000000ee\"};\r\n`\r\n\r\nexport const Span = styled.span`\r\n  flex: ${props => props.flex || 'initial'};\r\n  align-self: ${props => props.self || 'auto'};\r\n\r\n  color: ${props => props.color || '#000'};\r\n  background: ${props => props.bg || 'transparent'};\r\n  font-weight: ${props => props.weight || 300};\r\n  font-size: ${props => props.size || \"inherit\"};\r\n  text-transform: ${props => props.textTransform || \"inherit\"};\r\n  margin: ${props => props.margin || \"0px\"};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  letter-spacing: ${props => props.spacing || \"inherit\"};\r\n  text-align: ${props => props.textAlign || \"initial\"};\r\n\r\n  position: ${props => props.pos || 'initial'};\r\n  right: ${props => props.right || 'auto'};\r\n  left: ${props => props.left || 'auto'};\r\n  bottom: ${props => props.bottom || 'auto'};\r\n  top: ${props => props.top || 'auto'};\r\n\r\n  z-index: ${props => props.z || 'auto'};\r\n`\r\n\r\nexport const B = styled.span`\r\n  color: ${props => props.color || '#000'};\r\n  font-weight: ${props => props.weight || 'bold'};\r\n`\r\n\r\nexport const UL = styled.ul`\r\n\r\n`\r\n\r\nexport const LI = styled.li`\r\n  margin: 10px 0px;\r\n`\r\n\r\nexport const Anchor = styled.a`\r\n  display: flex;\r\n  flex-direction: ${props => props.direction || 'row'};\r\n  flex: ${props => props.flex || 'initial'};\r\n  align-self: ${props => props.self || 'auto'};\r\n  align-items: ${props => props.align || 'center'};\r\n  justify-content: ${props => props.justify || 'center'};\r\n  font-weight: ${props => props.weight || 400};\r\n  font-size: ${props => props.size || \"inherit\"};\r\n  color: ${props => props.color || \"#fff\"};\r\n  background: ${props => props.bg || \"transparent\"};\r\n  margin: ${props => props.margin || \"0\"};\r\n  padding: ${props => props.padding || \"10px 15px\"};\r\n  letter-spacing: ${props => props.spacing || \"0.2em\"};\r\n  border: ${props => props.border || \"none\"};\r\n  border-radius: ${props => props.radius || \"0px\"};\r\n  width: ${props => props.width || \"initial\" };\r\n\r\n  position: relative;\r\n  text-decoration: none;\r\n  overflow: ${props => props.overflow || \"hidden\"};\r\n  z-index: 3;\r\n\r\n  filter: ${props => props.filter || \"none\"};\r\n\r\n  cursor: pointer;\r\n  pointer: hand;\r\n\r\n  &:hover & {\r\n    filter: ${props => (props.filterHover ? props.filterHover : (props.hover ? props.hover : \"none\")) || \"none\"};\r\n  }\r\n\r\n  &:before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: ${props => props.hover || (props.bg ? props.bg : \"transparent\")};\r\n    display: none;\r\n    z-index: -1;\r\n  }\r\n\r\n  &:after {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: ${props => props.hoverBG || \"#000\"};\r\n    opacity: 0;\r\n    z-index: -1;\r\n  }\r\n\r\n  &:hover:before {\r\n    display: block;\r\n  }\r\n\r\n  &:hover:after {\r\n    opacity: 0.08;\r\n  }\r\n  &:active:after {\r\n    opacity: 0.15;\r\n  }\r\n`\r\n\r\nexport const A = styled(Anchor)`\r\n  display: inline;\r\n  color: #e1087f;\r\n  background: transparent;\r\n  padding: 0px;\r\n  letter-spacing: inherit;\r\n  text-transform: initial;\r\n`\r\n\r\nexport const Button = styled.button`\r\n  display: flex;\r\n  flex: ${props => props.flex || 'initial'};\r\n  align-self: ${props => props.self || 'auto'};\r\n  align-items: ${props => props.align || 'center'};\r\n  justify-content: ${props => props.justify || 'center'};\r\n  font-weight: ${props => props.weight || 400};\r\n  font-size: ${props => props.size || \"inherit\"};\r\n  color: ${props => props.color || \"#fff\"};\r\n  background: ${props => props.bg || \"tranparent\"};\r\n  margin: ${props => props.margin || \"0\"};\r\n  padding: ${props => props.padding || \"10px 15px\"};\r\n  letter-spacing: ${props => props.spacing || \"initial\"};\r\n  border: ${props => props.border || \"none\"};\r\n  border-radius: ${props => props.radius || \"0px\"};\r\n  text-transform: ${props => props.textTransform || \"initial\"};\r\n\r\n  position: relative;\r\n  text-decoration: none;\r\n  overflow: ${props => props.overflow || \"hidden\"};\r\n  z-index: 3;\r\n\r\n  cursor: pointer;\r\n  pointer: hand;\r\n\r\n  &:before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: ${props => props.hover || (props.bg ? props.bg : \"transparent\")};\r\n    display: none;\r\n    z-index: -1;\r\n  }\r\n\r\n  &:after {\r\n    content: '';\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: ${props => props.hoverBG || \"#000\"};\r\n    opacity: 0;\r\n    z-index: -1;\r\n  }\r\n\r\n  &:hover:before {\r\n    display: block;\r\n  }\r\n\r\n  &:hover:after {\r\n    opacity: 0.08;\r\n  }\r\n  &:active:after {\r\n    opacity: 0.15;\r\n  }\r\n\r\n  & > div {\r\n    display: flex;\r\n  }\r\n`\r\n\r\nexport const Showoff = styled.div`\r\n  position: absolute;\r\n  right: ${props => props.right || 'auto'};\r\n  left: ${props => props.left || 'auto'};\r\n  bottom: ${props => props.bottom || 'auto'};\r\n  top: ${props => props.top || 'auto'};\r\n  transform: ${props => props.transform || 'initial'};\r\n  opacity: ${props => props.opacity || 'initial'};\r\n\r\n  @media (max-width: 768px) {\r\n    align-items: ${props => (props.tabletAlign ? props.tabletAlign : (props.align ? props.align : \"center\")) || \"center\"};\r\n\r\n    right: ${props => (props.tabletRight ? props.tabletRight : (props.right ? props.right : \"auto\")) || \"auto\"};\r\n    left: ${props => (props.tabletLeft ? props.tabletLeft : (props.left ? props.left : \"auto\")) || \"auto\"};\r\n    top: ${props => (props.tabletTop ? props.tabletTop : (props.top ? props.top : \"auto\")) || \"auto\"};\r\n    bottom: ${props => (props.tabletBottom ? props.tabletBottom : (props.bottom ? props.bottom : \"auto\")) || \"auto\"};\r\n\r\n    transform: ${props => (props.tabletTransform ? props.tabletTransform : (props.transform ? props.transform : \"auto\")) || \"auto\"};\r\n\r\n    opacity: ${props => (props.tabletOpacity ? props.tabletOpacity : (props.opacity ? props.opacity : \"auto\")) || \"initial\"};\r\n  }\r\n`\r\n\r\nexport const FormSubmision = styled.form`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  flex-direction: column;\r\n\r\n  flex: ${props => props.flex || 'initial'};\r\n  align-self: ${props => props.self || 'auto'};\r\n  align-items: ${props => props.align || 'center'};\r\n  justify-content: ${props => props.justify || 'center'};\r\n  font-weight: ${props => props.weight || 400};\r\n  font-size: ${props => props.size || \"inherit\"};\r\n  text-transform: ${props => props.textTransform || \"inherit\"};\r\n  color: ${props => props.color || \"#fff\"};\r\n  background: ${props => props.bg || \"transparent\"};\r\n  margin: ${props => props.margin || \"0px\"};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  border: ${props => props.border || \"none\"};\r\n  border-radius: ${props => props.radius || \"0px\"};\r\n  position: relative;\r\n`\r\n\r\nexport const Input = styled.input`\r\n  display: ${props => props.display || 'flex'};\r\n  flex: ${props => props.flex || 'initial'};\r\n  align-self: ${props => props.self || 'auto'};\r\n  align-items: ${props => props.align || 'center'};\r\n  justify-content: ${props => props.justify || 'center'};\r\n  font-weight: ${props => props.weight || 300};\r\n  font-size: ${props => props.size || \"inherit\"};\r\n  text-transform: ${props => props.textTransform || \"inherit\"};\r\n  color: ${props => props.color || \"#000\"};\r\n  background: ${props => props.bg || \"transparent\"};\r\n  margin: ${props => props.margin || \"0px\"};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  letter-spacing: ${props => props.spacing || \"inherit\"};\r\n  border: ${props => props.border || \"none\"};\r\n  border-radius: ${props => props.radius || \"0px\"};\r\n  outline: ${props => props.outline || \"none\"};\r\n  overflow: ${props => props.overflow || \"hidden\"};\r\n  position: relative;\r\n\r\n  cursor: ${props => props.cursor || \"initial\"};\r\n  pointer: ${props => props.hand || \"initial\"};\r\n\r\n  &:focus + span {\r\n    opacity: 0;\r\n\r\n    -webkit-transition: all 0.2s ease-in-out;\r\n    -moz-transition: all 0.2s ease-in-out;\r\n    -o-transition: all 0.2s ease-in-out;\r\n    transition: all 0.2s ease-in-out;\r\n  }\r\n`\r\n\r\nexport const TextField = styled.textarea`\r\n  display: flex;\r\n  flex: ${props => props.flex || 'initial'};\r\n  align-self: ${props => props.self || 'auto'};\r\n  align-items: ${props => props.align || 'center'};\r\n  justify-content: ${props => props.justify || 'center'};\r\n  font-weight: ${props => props.weight || 300};\r\n  font-size: ${props => props.size || \"inherit\"};\r\n  text-transform: ${props => props.textTransform || \"inherit\"};\r\n  color: ${props => props.color || \"#000\"};\r\n  background: ${props => props.bg || \"transparent\"};\r\n  margin: ${props => props.margin || \"0px\"};\r\n  padding: ${props => props.padding || \"0px\"};\r\n  letter-spacing: ${props => props.spacing || \"inherit\"};\r\n  border: ${props => props.border || \"none\"};\r\n  border-radius: ${props => props.radius || \"0px\"};\r\n  outline: ${props => props.outline || \"none\"};\r\n  overflow: ${props => props.overflow || \"hidden\"};\r\n  position: relative;\r\n  resize: vertical;\r\n\r\n  &:focus + span {\r\n    opacity: 0;\r\n\r\n    -webkit-transition: all 0.2s ease-in-out;\r\n    -moz-transition: all 0.2s ease-in-out;\r\n    -o-transition: all 0.2s ease-in-out;\r\n    transition: all 0.2s ease-in-out;\r\n  }\r\n`\r\n"],"sourceRoot":""}